188c659684aa5c7be8e15fb7e46274d4










'use strict';var _extends = Object.assign || function (target) {for (var i = 1; i < arguments.length; i++) {var source = arguments[i];for (var key in source) {if (Object.prototype.hasOwnProperty.call(source, key)) {target[key] = source[key];}}}return target;};var _require =

require('./AnimatedEvent'),AnimatedEvent = _require.AnimatedEvent,attachNativeEvent = _require.attachNativeEvent;
var AnimatedAddition = require('./nodes/AnimatedAddition');
var AnimatedDiffClamp = require('./nodes/AnimatedDiffClamp');
var AnimatedDivision = require('./nodes/AnimatedDivision');
var AnimatedInterpolation = require('./nodes/AnimatedInterpolation');
var AnimatedModulo = require('./nodes/AnimatedModulo');
var AnimatedMultiplication = require('./nodes/AnimatedMultiplication');
var AnimatedNode = require('./nodes/AnimatedNode');
var AnimatedProps = require('./nodes/AnimatedProps');
var AnimatedSubtraction = require('./nodes/AnimatedSubtraction');
var AnimatedTracking = require('./nodes/AnimatedTracking');
var AnimatedValue = require('./nodes/AnimatedValue');
var AnimatedValueXY = require('./nodes/AnimatedValueXY');
var DecayAnimation = require('./animations/DecayAnimation');
var SpringAnimation = require('./animations/SpringAnimation');
var TimingAnimation = require('./animations/TimingAnimation');

var createAnimatedComponent = require('./createAnimatedComponent');



















var add = function add(
a,
b)
{
  return new AnimatedAddition(a, b);
};

var subtract = function subtract(
a,
b)
{
  return new AnimatedSubtraction(a, b);
};

var divide = function divide(
a,
b)
{
  return new AnimatedDivision(a, b);
};

var multiply = function multiply(
a,
b)
{
  return new AnimatedMultiplication(a, b);
};

var modulo = function modulo(a, modulus) {
  return new AnimatedModulo(a, modulus);
};

var diffClamp = function diffClamp(
a,
min,
max)
{
  return new AnimatedDiffClamp(a, min, max);
};

var _combineCallbacks = function _combineCallbacks(
callback,
config)
{
  if (callback && config.onComplete) {
    return function () {
      config.onComplete && config.onComplete.apply(config, arguments);
      callback && callback.apply(undefined, arguments);
    };
  } else {
    return callback || config.onComplete;
  }
};

var maybeVectorAnim = function maybeVectorAnim(
value,
config,
anim)
{
  if (value instanceof AnimatedValueXY) {
    var configX = _extends({}, config);
    var configY = _extends({}, config);
    for (var key in config) {var _config$key =
      config[key],x = _config$key.x,y = _config$key.y;
      if (x !== undefined && y !== undefined) {
        configX[key] = x;
        configY[key] = y;
      }
    }
    var aX = anim(value.x, configX);
    var aY = anim(value.y, configY);


    return parallel([aX, aY], { stopTogether: false });
  }
  return null;
};

var spring = function spring(
value,
config)
{
  var start = function start(
  animatedValue,
  configuration,
  callback)
  {
    callback = _combineCallbacks(callback, configuration);
    var singleValue = animatedValue;
    var singleConfig = configuration;
    singleValue.stopTracking();
    if (configuration.toValue instanceof AnimatedNode) {
      singleValue.track(
      new AnimatedTracking(
      singleValue,
      configuration.toValue,
      SpringAnimation,
      singleConfig,
      callback));


    } else {
      singleValue.animate(new SpringAnimation(singleConfig), callback);
    }
  };
  return (
    maybeVectorAnim(value, config, spring) || {
      start: function (_start) {function start(_x) {return _start.apply(this, arguments);}start.toString = function () {return _start.toString();};return start;}(function (callback) {
        start(value, config, callback);
      }),

      stop: function stop() {
        value.stopAnimation();
      },

      reset: function reset() {
        value.resetAnimation();
      },

      _startNativeLoop: function _startNativeLoop(iterations) {
        var singleConfig = _extends({}, config, { iterations: iterations });
        start(value, singleConfig);
      },

      _isUsingNativeDriver: function _isUsingNativeDriver() {
        return config.useNativeDriver || false;
      } });


};

var timing = function timing(
value,
config)
{
  var start = function start(
  animatedValue,
  configuration,
  callback)
  {
    callback = _combineCallbacks(callback, configuration);
    var singleValue = animatedValue;
    var singleConfig = configuration;
    singleValue.stopTracking();
    if (configuration.toValue instanceof AnimatedNode) {
      singleValue.track(
      new AnimatedTracking(
      singleValue,
      configuration.toValue,
      TimingAnimation,
      singleConfig,
      callback));


    } else {
      singleValue.animate(new TimingAnimation(singleConfig), callback);
    }
  };

  return (
    maybeVectorAnim(value, config, timing) || {
      start: function (_start2) {function start(_x2) {return _start2.apply(this, arguments);}start.toString = function () {return _start2.toString();};return start;}(function (callback) {
        start(value, config, callback);
      }),

      stop: function stop() {
        value.stopAnimation();
      },

      reset: function reset() {
        value.resetAnimation();
      },

      _startNativeLoop: function _startNativeLoop(iterations) {
        var singleConfig = _extends({}, config, { iterations: iterations });
        start(value, singleConfig);
      },

      _isUsingNativeDriver: function _isUsingNativeDriver() {
        return config.useNativeDriver || false;
      } });


};

var decay = function decay(
value,
config)
{
  var start = function start(
  animatedValue,
  configuration,
  callback)
  {
    callback = _combineCallbacks(callback, configuration);
    var singleValue = animatedValue;
    var singleConfig = configuration;
    singleValue.stopTracking();
    singleValue.animate(new DecayAnimation(singleConfig), callback);
  };

  return (
    maybeVectorAnim(value, config, decay) || {
      start: function (_start3) {function start(_x3) {return _start3.apply(this, arguments);}start.toString = function () {return _start3.toString();};return start;}(function (callback) {
        start(value, config, callback);
      }),

      stop: function stop() {
        value.stopAnimation();
      },

      reset: function reset() {
        value.resetAnimation();
      },

      _startNativeLoop: function _startNativeLoop(iterations) {
        var singleConfig = _extends({}, config, { iterations: iterations });
        start(value, singleConfig);
      },

      _isUsingNativeDriver: function _isUsingNativeDriver() {
        return config.useNativeDriver || false;
      } });


};

var sequence = function sequence(
animations)
{
  var current = 0;
  return {
    start: function start(callback) {
      var onComplete = function onComplete(result) {
        if (!result.finished) {
          callback && callback(result);
          return;
        }

        current++;

        if (current === animations.length) {
          callback && callback(result);
          return;
        }

        animations[current].start(onComplete);
      };

      if (animations.length === 0) {
        callback && callback({ finished: true });
      } else {
        animations[current].start(onComplete);
      }
    },

    stop: function stop() {
      if (current < animations.length) {
        animations[current].stop();
      }
    },

    reset: function reset() {
      animations.forEach(function (animation, idx) {
        if (idx <= current) {
          animation.reset();
        }
      });
      current = 0;
    },

    _startNativeLoop: function _startNativeLoop() {
      throw new Error(
      'Loops run using the native driver cannot contain Animated.sequence animations');

    },

    _isUsingNativeDriver: function _isUsingNativeDriver() {
      return false;
    } };

};




var parallel = function parallel(
animations,
config)
{
  var doneCount = 0;

  var hasEnded = {};
  var stopTogether = !(config && config.stopTogether === false);

  var result = {
    start: function start(callback) {
      if (doneCount === animations.length) {
        callback && callback({ finished: true });
        return;
      }

      animations.forEach(function (animation, idx) {
        var cb = function cb(endResult) {
          hasEnded[idx] = true;
          doneCount++;
          if (doneCount === animations.length) {
            doneCount = 0;
            callback && callback(endResult);
            return;
          }

          if (!endResult.finished && stopTogether) {
            result.stop();
          }
        };

        if (!animation) {
          cb({ finished: true });
        } else {
          animation.start(cb);
        }
      });
    },

    stop: function stop() {
      animations.forEach(function (animation, idx) {
        !hasEnded[idx] && animation.stop();
        hasEnded[idx] = true;
      });
    },

    reset: function reset() {
      animations.forEach(function (animation, idx) {
        animation.reset();
        hasEnded[idx] = false;
        doneCount = 0;
      });
    },

    _startNativeLoop: function _startNativeLoop() {
      throw new Error(
      'Loops run using the native driver cannot contain Animated.parallel animations');

    },

    _isUsingNativeDriver: function _isUsingNativeDriver() {
      return false;
    } };


  return result;
};

var delay = function delay(time) {

  return timing(new AnimatedValue(0), { toValue: 0, delay: time, duration: 0 });
};

var stagger = function stagger(
time,
animations)
{
  return parallel(
  animations.map(function (animation, i) {
    return sequence([delay(time * i), animation]);
  }));

};



var loop = function loop(
animation)

{var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},_ref$iterations = _ref.iterations,iterations = _ref$iterations === undefined ? -1 : _ref$iterations;
  var isFinished = false;
  var iterationsSoFar = 0;
  return {
    start: function start(callback) {
      var restart = function restart() {var result = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { finished: true };
        if (
        isFinished ||
        iterationsSoFar === iterations ||
        result.finished === false)
        {
          callback && callback(result);
        } else {
          iterationsSoFar++;
          animation.reset();
          animation.start(restart);
        }
      };
      if (!animation || iterations === 0) {
        callback && callback({ finished: true });
      } else {
        if (animation._isUsingNativeDriver()) {
          animation._startNativeLoop(iterations);
        } else {
          restart();
        }
      }
    },

    stop: function stop() {
      isFinished = true;
      animation.stop();
    },

    reset: function reset() {
      iterationsSoFar = 0;
      isFinished = false;
      animation.reset();
    },

    _startNativeLoop: function _startNativeLoop() {
      throw new Error(
      'Loops run using the native driver cannot contain Animated.loop animations');

    },

    _isUsingNativeDriver: function _isUsingNativeDriver() {
      return animation._isUsingNativeDriver();
    } };

};

function forkEvent(
event,
listener)
{
  if (!event) {
    return listener;
  } else if (event instanceof AnimatedEvent) {
    event.__addListener(listener);
    return event;
  } else {
    return function () {
      typeof event === 'function' && event.apply(undefined, arguments);
      listener.apply(undefined, arguments);
    };
  }
}

function unforkEvent(
event,
listener)
{
  if (event && event instanceof AnimatedEvent) {
    event.__removeListener(listener);
  }
}

var event = function event(argMapping, config) {
  var animatedEvent = new AnimatedEvent(argMapping, config);
  if (animatedEvent.__isNative) {
    return animatedEvent;
  } else {
    return animatedEvent.__getHandler();
  }
};









module.exports = {






  Value: AnimatedValue,





  ValueXY: AnimatedValueXY,





  Interpolation: AnimatedInterpolation,






  Node: AnimatedNode,







  decay: decay,






  timing: timing,






  spring: spring,







  add: add,







  subtract: subtract,







  divide: divide,







  multiply: multiply,







  modulo: modulo,








  diffClamp: diffClamp,






  delay: delay,







  sequence: sequence,







  parallel: parallel,






  stagger: stagger,






  loop: loop,







  event: event,






  createAnimatedComponent: createAnimatedComponent,







  attachNativeEvent: attachNativeEvent,







  forkEvent: forkEvent,
  unforkEvent: unforkEvent,

  __PropsOnlyForTests: AnimatedProps };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFuaW1hdGVkSW1wbGVtZW50YXRpb24uanMiXSwibmFtZXMiOlsicmVxdWlyZSIsIkFuaW1hdGVkRXZlbnQiLCJhdHRhY2hOYXRpdmVFdmVudCIsIkFuaW1hdGVkQWRkaXRpb24iLCJBbmltYXRlZERpZmZDbGFtcCIsIkFuaW1hdGVkRGl2aXNpb24iLCJBbmltYXRlZEludGVycG9sYXRpb24iLCJBbmltYXRlZE1vZHVsbyIsIkFuaW1hdGVkTXVsdGlwbGljYXRpb24iLCJBbmltYXRlZE5vZGUiLCJBbmltYXRlZFByb3BzIiwiQW5pbWF0ZWRTdWJ0cmFjdGlvbiIsIkFuaW1hdGVkVHJhY2tpbmciLCJBbmltYXRlZFZhbHVlIiwiQW5pbWF0ZWRWYWx1ZVhZIiwiRGVjYXlBbmltYXRpb24iLCJTcHJpbmdBbmltYXRpb24iLCJUaW1pbmdBbmltYXRpb24iLCJjcmVhdGVBbmltYXRlZENvbXBvbmVudCIsImFkZCIsImEiLCJiIiwic3VidHJhY3QiLCJkaXZpZGUiLCJtdWx0aXBseSIsIm1vZHVsbyIsIm1vZHVsdXMiLCJkaWZmQ2xhbXAiLCJtaW4iLCJtYXgiLCJfY29tYmluZUNhbGxiYWNrcyIsImNhbGxiYWNrIiwiY29uZmlnIiwib25Db21wbGV0ZSIsIm1heWJlVmVjdG9yQW5pbSIsInZhbHVlIiwiYW5pbSIsImNvbmZpZ1giLCJjb25maWdZIiwia2V5IiwieCIsInkiLCJ1bmRlZmluZWQiLCJhWCIsImFZIiwicGFyYWxsZWwiLCJzdG9wVG9nZXRoZXIiLCJzcHJpbmciLCJzdGFydCIsImFuaW1hdGVkVmFsdWUiLCJjb25maWd1cmF0aW9uIiwic2luZ2xlVmFsdWUiLCJzaW5nbGVDb25maWciLCJzdG9wVHJhY2tpbmciLCJ0b1ZhbHVlIiwidHJhY2siLCJhbmltYXRlIiwic3RvcCIsInN0b3BBbmltYXRpb24iLCJyZXNldCIsInJlc2V0QW5pbWF0aW9uIiwiX3N0YXJ0TmF0aXZlTG9vcCIsIml0ZXJhdGlvbnMiLCJfaXNVc2luZ05hdGl2ZURyaXZlciIsInVzZU5hdGl2ZURyaXZlciIsInRpbWluZyIsImRlY2F5Iiwic2VxdWVuY2UiLCJhbmltYXRpb25zIiwiY3VycmVudCIsInJlc3VsdCIsImZpbmlzaGVkIiwibGVuZ3RoIiwiZm9yRWFjaCIsImFuaW1hdGlvbiIsImlkeCIsIkVycm9yIiwiZG9uZUNvdW50IiwiaGFzRW5kZWQiLCJjYiIsImVuZFJlc3VsdCIsImRlbGF5IiwidGltZSIsImR1cmF0aW9uIiwic3RhZ2dlciIsIm1hcCIsImkiLCJsb29wIiwiaXNGaW5pc2hlZCIsIml0ZXJhdGlvbnNTb0ZhciIsInJlc3RhcnQiLCJmb3JrRXZlbnQiLCJldmVudCIsImxpc3RlbmVyIiwiX19hZGRMaXN0ZW5lciIsInVuZm9ya0V2ZW50IiwiX19yZW1vdmVMaXN0ZW5lciIsImFyZ01hcHBpbmciLCJhbmltYXRlZEV2ZW50IiwiX19pc05hdGl2ZSIsIl9fZ2V0SGFuZGxlciIsIm1vZHVsZSIsImV4cG9ydHMiLCJWYWx1ZSIsIlZhbHVlWFkiLCJJbnRlcnBvbGF0aW9uIiwiTm9kZSIsIl9fUHJvcHNPbmx5Rm9yVGVzdHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFVQSxhOztBQUUyQ0EsUUFBUSxpQkFBUixDLENBQXBDQyxhLFlBQUFBLGEsQ0FBZUMsaUIsWUFBQUEsaUI7QUFDdEIsSUFBTUMsbUJBQW1CSCxRQUFRLDBCQUFSLENBQXpCO0FBQ0EsSUFBTUksb0JBQW9CSixRQUFRLDJCQUFSLENBQTFCO0FBQ0EsSUFBTUssbUJBQW1CTCxRQUFRLDBCQUFSLENBQXpCO0FBQ0EsSUFBTU0sd0JBQXdCTixRQUFRLCtCQUFSLENBQTlCO0FBQ0EsSUFBTU8saUJBQWlCUCxRQUFRLHdCQUFSLENBQXZCO0FBQ0EsSUFBTVEseUJBQXlCUixRQUFRLGdDQUFSLENBQS9CO0FBQ0EsSUFBTVMsZUFBZVQsUUFBUSxzQkFBUixDQUFyQjtBQUNBLElBQU1VLGdCQUFnQlYsUUFBUSx1QkFBUixDQUF0QjtBQUNBLElBQU1XLHNCQUFzQlgsUUFBUSw2QkFBUixDQUE1QjtBQUNBLElB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Ozs7QUF3RGY1QixVQXhEZTs7Ozs7Ozs7QUFnRWZHLG9CQWhFZTs7Ozs7Ozs7QUF3RWZDLGdCQXhFZTs7Ozs7Ozs7QUFnRmZDLG9CQWhGZTs7Ozs7Ozs7QUF3RmZDLGdCQXhGZTs7Ozs7Ozs7O0FBaUdmRSxzQkFqR2U7Ozs7Ozs7QUF3R2ZzRCxjQXhHZTs7Ozs7Ozs7QUFnSGZkLG9CQWhIZTs7Ozs7Ozs7QUF3SGZ0QixvQkF4SGU7Ozs7Ozs7QUErSGZ1QyxrQkEvSGU7Ozs7Ozs7QUFzSWZHLFlBdEllOzs7Ozs7OztBQThJZkssY0E5SWU7Ozs7Ozs7QUFxSmYxRSxrREFySmU7Ozs7Ozs7O0FBNkpmaEIsc0NBN0plOzs7Ozs7OztBQXFLZnlGLHNCQXJLZTtBQXNLZkksMEJBdEtlOztBQXdLZlksdUJBQXFCakcsYUF4S04sRUFBakIiLCJmaWxlIjoiQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZsb3dcbiAqIEBmb3JtYXRcbiAqIEBwcmV2ZW50TXVuZ2VcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCB7QW5pbWF0ZWRFdmVudCwgYXR0YWNoTmF0aXZlRXZlbnR9ID0gcmVxdWlyZSgnLi9BbmltYXRlZEV2ZW50Jyk7XG5jb25zdCBBbmltYXRlZEFkZGl0aW9uID0gcmVxdWlyZSgnLi9ub2Rlcy9BbmltYXRlZEFkZGl0aW9uJyk7XG5jb25zdCBBbmltYXRlZERpZmZDbGFtcCA9IHJlcXVpcmUoJy4vbm9kZXMvQW5pbWF0ZWREaWZmQ2xhbXAnKTtcbmNvbnN0IEFuaW1hdGVkRGl2aXNpb24gPSByZXF1aXJlKCcuL25vZGVzL0FuaW1hdGVkRGl2aXNpb24nKTtcbmNvbnN0IEFuaW1hdGVkSW50ZXJwb2xhdGlvbiA9IHJlcXVpcmUoJy4vbm9kZXMvQW5pbWF0ZWRJbnRlcnBvbGF0aW9uJyk7XG5jb25zdCBBbmltYXRlZE1vZHVsbyA9IHJlcXVpcmUoJy4vbm9kZXMvQW5pbWF0ZWRNb2R1bG8nKTtcbmNvbnN0IEFuaW1hdGVkTXVsdGlwbGljYXRpb24gPSByZXF1aXJlKCcuL25vZGVzL0FuaW1hdGVkTXVsdGlwbGljYXRpb24nKTtcbmNvbnN0IEFuaW1hdGVkTm9kZSA9IHJlcXVpcmUoJy4vbm9kZXMvQW5pbWF0ZWROb2RlJyk7XG5jb25zdCBBbmltYXRlZFByb3BzID0gcmVxdWlyZSgnLi9ub2Rlcy9BbmltYXRlZFByb3BzJyk7XG5jb25zdCBBbmltYXRlZFN1YnRyYWN0aW9uID0gcmVxdWlyZSgnLi9ub2Rlcy9BbmltYXRlZFN1YnRyYWN0aW9uJyk7XG5jb25zdCBBbmltYXRlZFRyYWNraW5nID0gcmVxdWlyZSgnLi9ub2Rlcy9BbmltYXRlZFRyYWNraW5nJyk7XG5jb25zdCBBbmltYXRlZFZhbHVlID0gcmVxdWlyZSgnLi9ub2Rlcy9BbmltYXRlZFZhbHVlJyk7XG5jb25zdCBBbmltYXRlZFZhbHVlWFkgPSByZXF1aXJlKCcuL25vZGVzL0FuaW1hdGVkVmFsdWVYWScpO1xuY29uc3QgRGVjYXlBbmltYXRpb24gPSByZXF1aXJlKCcuL2FuaW1hdGlvbnMvRGVjYXlBbmltYXRpb24nKTtcbmNvbnN0IFNwcmluZ0FuaW1hdGlvbiA9IHJlcXVpcmUoJy4vYW5pbWF0aW9ucy9TcHJpbmdBbmltYXRpb24nKTtcbmNvbnN0IFRpbWluZ0FuaW1hdGlvbiA9IHJlcXVpcmUoJy4vYW5pbWF0aW9ucy9UaW1pbmdBbmltYXRpb24nKTtcblxuY29uc3QgY3JlYXRlQW5pbWF0ZWRDb21wb25lbnQgPSByZXF1aXJlKCcuL2NyZWF0ZUFuaW1hdGVkQ29tcG9uZW50Jyk7XG5cbmltcG9ydCB0eXBlIHtcbiAgQW5pbWF0aW9uQ29uZmlnLFxuICBFbmRDYWxsYmFjayxcbiAgRW5kUmVzdWx0LFxufSBmcm9tICcuL2FuaW1hdGlvbnMvQW5pbWF0aW9uJztcbmltcG9ydCB0eXBlIHtUaW1pbmdBbmltYXRpb25Db25maWd9IGZyb20gJy4vYW5pbWF0aW9ucy9UaW1pbmdBbmltYXRpb24nO1xuaW1wb3J0IHR5cGUge0RlY2F5QW5pbWF0aW9uQ29uZmlnfSBmcm9tICcuL2FuaW1hdGlvbnMvRGVjYXlBbmltYXRpb24nO1xuaW1wb3J0IHR5cGUge1NwcmluZ0FuaW1hdGlvbkNvbmZpZ30gZnJvbSAnLi9hbmltYXRpb25zL1NwcmluZ0FuaW1hdGlvbic7XG5pbXBvcnQgdHlwZSB7TWFwcGluZywgRXZlbnRDb25maWd9IGZyb20gJy4vQW5pbWF0ZWRFdmVudCc7XG5cbmV4cG9ydCB0eXBlIENvbXBvc2l0ZUFuaW1hdGlvbiA9IHtcbiAgc3RhcnQ6IChjYWxsYmFjaz86ID9FbmRDYWxsYmFjaykgPT4gdm9pZCxcbiAgc3RvcDogKCkgPT4gdm9pZCxcbiAgcmVzZXQ6ICgpID0+IHZvaWQsXG4gIF9zdGFydE5hdGl2ZUxvb3A6IChpdGVyYXRpb25zPzogbnVtYmVyKSA9PiB2b2lkLFxuICBfaXNVc2luZ05hdGl2ZURyaXZlcjogKCkgPT4gYm9vbGVhbixcbn07XG5cbmNvbnN0IGFkZCA9IGZ1bmN0aW9uKFxuICBhOiBBbmltYXRlZE5vZGUgfCBudW1iZXIsXG4gIGI6IEFuaW1hdGVkTm9kZSB8IG51bWJlcixcbik6IEFuaW1hdGVkQWRkaXRpb24ge1xuICByZXR1cm4gbmV3IEFuaW1hdGVkQWRkaXRpb24oYSwgYik7XG59O1xuXG5jb25zdCBzdWJ0cmFjdCA9IGZ1bmN0aW9uKFxuICBhOiBBbmltYXRlZE5vZGUgfCBudW1iZXIsXG4gIGI6IEFuaW1hdGVkTm9kZSB8IG51bWJlcixcbik6IEFuaW1hdGVkU3VidHJhY3Rpb24ge1xuICByZXR1cm4gbmV3IEFuaW1hdGVkU3VidHJhY3Rpb24oYSwgYik7XG59O1xuXG5jb25zdCBkaXZpZGUgPSBmdW5jdGlvbihcbiAgYTogQW5pbWF0ZWROb2RlIHwgbnVtYmVyLFxuICBiOiBBbmltYXRlZE5vZGUgfCBudW1iZXIsXG4pOiBBbmltYXRlZERpdmlzaW9uIHtcbiAgcmV0dXJuIG5ldyBBbmltYXRlZERpdmlzaW9uKGEsIGIpO1xufTtcblxuY29uc3QgbXVsdGlwbHkgPSBmdW5jdGlvbihcbiAgYTogQW5pbWF0ZWROb2RlIHwgbnVtYmVyLFxuICBiOiBBbmltYXRlZE5vZGUgfCBudW1iZXIsXG4pOiBBbmltYXRlZE11bHRpcGxpY2F0aW9uIHtcbiAgcmV0dXJuIG5ldyBBbmltYXRlZE11bHRpcGxpY2F0aW9uKGEsIGIpO1xufTtcblxuY29uc3QgbW9kdWxvID0gZnVuY3Rpb24oYTogQW5pbWF0ZWROb2RlLCBtb2R1bHVzOiBudW1iZXIpOiBBbmltYXRlZE1vZHVsbyB7XG4gIHJldHVybiBuZXcgQW5pbWF0ZWRNb2R1bG8oYSwgbW9kdWx1cyk7XG59O1xuXG5jb25zdCBkaWZmQ2xhbXAgPSBmdW5jdGlvbihcbiAgYTogQW5pbWF0ZWROb2RlLFxuICBtaW46IG51bWJlcixcbiAgbWF4OiBudW1iZXIsXG4pOiBBbmltYXRlZERpZmZDbGFtcCB7XG4gIHJldHVybiBuZXcgQW5pbWF0ZWREaWZmQ2xhbXAoYSwgbWluLCBtYXgpO1xufTtcblxuY29uc3QgX2NvbWJpbmVDYWxsYmFja3MgPSBmdW5jdGlvbihcbiAgY2FsbGJhY2s6ID9FbmRDYWxsYmFjayxcbiAgY29uZmlnOiBBbmltYXRpb25Db25maWcsXG4pIHtcbiAgaWYgKGNhbGxiYWNrICYmIGNvbmZpZy5vbkNvbXBsZXRlKSB7XG4gICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICBjb25maWcub25Db21wbGV0ZSAmJiBjb25maWcub25Db21wbGV0ZSguLi5hcmdzKTtcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKC4uLmFyZ3MpO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrIHx8IGNvbmZpZy5vbkNvbXBsZXRlO1xuICB9XG59O1xuXG5jb25zdCBtYXliZVZlY3RvckFuaW0gPSBmdW5jdGlvbihcbiAgdmFsdWU6IEFuaW1hdGVkVmFsdWUgfCBBbmltYXRlZFZhbHVlWFksXG4gIGNvbmZpZzogT2JqZWN0LFxuICBhbmltOiAodmFsdWU6IEFuaW1hdGVkVmFsdWUsIGNvbmZpZzogT2JqZWN0KSA9PiBDb21wb3NpdGVBbmltYXRpb24sXG4pOiA/Q29tcG9zaXRlQW5pbWF0aW9uIHtcbiAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQW5pbWF0ZWRWYWx1ZVhZKSB7XG4gICAgY29uc3QgY29uZmlnWCA9IHsuLi5jb25maWd9O1xuICAgIGNvbnN0IGNvbmZpZ1kgPSB7Li4uY29uZmlnfTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBjb25maWcpIHtcbiAgICAgIGNvbnN0IHt4LCB5fSA9IGNvbmZpZ1trZXldO1xuICAgICAgaWYgKHggIT09IHVuZGVmaW5lZCAmJiB5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uZmlnWFtrZXldID0geDtcbiAgICAgICAgY29uZmlnWVtrZXldID0geTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgYVggPSBhbmltKCh2YWx1ZTogQW5pbWF0ZWRWYWx1ZVhZKS54LCBjb25maWdYKTtcbiAgICBjb25zdCBhWSA9IGFuaW0oKHZhbHVlOiBBbmltYXRlZFZhbHVlWFkpLnksIGNvbmZpZ1kpO1xuICAgIC8vIFdlIHVzZSBgc3RvcFRvZ2V0aGVyOiBmYWxzZWAgaGVyZSBiZWNhdXNlIG90aGVyd2lzZSB0cmFja2luZyB3aWxsIGJyZWFrXG4gICAgLy8gYmVjYXVzZSB0aGUgc2Vjb25kIGFuaW1hdGlvbiB3aWxsIGdldCBzdG9wcGVkIGJlZm9yZSBpdCBjYW4gdXBkYXRlLlxuICAgIHJldHVybiBwYXJhbGxlbChbYVgsIGFZXSwge3N0b3BUb2dldGhlcjogZmFsc2V9KTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbmNvbnN0IHNwcmluZyA9IGZ1bmN0aW9uKFxuICB2YWx1ZTogQW5pbWF0ZWRWYWx1ZSB8IEFuaW1hdGVkVmFsdWVYWSxcbiAgY29uZmlnOiBTcHJpbmdBbmltYXRpb25Db25maWcsXG4pOiBDb21wb3NpdGVBbmltYXRpb24ge1xuICBjb25zdCBzdGFydCA9IGZ1bmN0aW9uKFxuICAgIGFuaW1hdGVkVmFsdWU6IEFuaW1hdGVkVmFsdWUgfCBBbmltYXRlZFZhbHVlWFksXG4gICAgY29uZmlndXJhdGlvbjogU3ByaW5nQW5pbWF0aW9uQ29uZmlnLFxuICAgIGNhbGxiYWNrPzogP0VuZENhbGxiYWNrLFxuICApOiB2b2lkIHtcbiAgICBjYWxsYmFjayA9IF9jb21iaW5lQ2FsbGJhY2tzKGNhbGxiYWNrLCBjb25maWd1cmF0aW9uKTtcbiAgICBjb25zdCBzaW5nbGVWYWx1ZTogYW55ID0gYW5pbWF0ZWRWYWx1ZTtcbiAgICBjb25zdCBzaW5nbGVDb25maWc6IGFueSA9IGNvbmZpZ3VyYXRpb247XG4gICAgc2luZ2xlVmFsdWUuc3RvcFRyYWNraW5nKCk7XG4gICAgaWYgKGNvbmZpZ3VyYXRpb24udG9WYWx1ZSBpbnN0YW5jZW9mIEFuaW1hdGVkTm9kZSkge1xuICAgICAgc2luZ2xlVmFsdWUudHJhY2soXG4gICAgICAgIG5ldyBBbmltYXRlZFRyYWNraW5nKFxuICAgICAgICAgIHNpbmdsZVZhbHVlLFxuICAgICAgICAgIGNvbmZpZ3VyYXRpb24udG9WYWx1ZSxcbiAgICAgICAgICBTcHJpbmdBbmltYXRpb24sXG4gICAgICAgICAgc2luZ2xlQ29uZmlnLFxuICAgICAgICAgIGNhbGxiYWNrLFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2luZ2xlVmFsdWUuYW5pbWF0ZShuZXcgU3ByaW5nQW5pbWF0aW9uKHNpbmdsZUNvbmZpZyksIGNhbGxiYWNrKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiAoXG4gICAgbWF5YmVWZWN0b3JBbmltKHZhbHVlLCBjb25maWcsIHNwcmluZykgfHwge1xuICAgICAgc3RhcnQ6IGZ1bmN0aW9uKGNhbGxiYWNrPzogP0VuZENhbGxiYWNrKTogdm9pZCB7XG4gICAgICAgIHN0YXJ0KHZhbHVlLCBjb25maWcsIGNhbGxiYWNrKTtcbiAgICAgIH0sXG5cbiAgICAgIHN0b3A6IGZ1bmN0aW9uKCk6IHZvaWQge1xuICAgICAgICB2YWx1ZS5zdG9wQW5pbWF0aW9uKCk7XG4gICAgICB9LFxuXG4gICAgICByZXNldDogZnVuY3Rpb24oKTogdm9pZCB7XG4gICAgICAgIHZhbHVlLnJlc2V0QW5pbWF0aW9uKCk7XG4gICAgICB9LFxuXG4gICAgICBfc3RhcnROYXRpdmVMb29wOiBmdW5jdGlvbihpdGVyYXRpb25zPzogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHNpbmdsZUNvbmZpZyA9IHsuLi5jb25maWcsIGl0ZXJhdGlvbnN9O1xuICAgICAgICBzdGFydCh2YWx1ZSwgc2luZ2xlQ29uZmlnKTtcbiAgICAgIH0sXG5cbiAgICAgIF9pc1VzaW5nTmF0aXZlRHJpdmVyOiBmdW5jdGlvbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGNvbmZpZy51c2VOYXRpdmVEcml2ZXIgfHwgZmFsc2U7XG4gICAgICB9LFxuICAgIH1cbiAgKTtcbn07XG5cbmNvbnN0IHRpbWluZyA9IGZ1bmN0aW9uKFxuICB2YWx1ZTogQW5pbWF0ZWRWYWx1ZSB8IEFuaW1hdGVkVmFsdWVYWSxcbiAgY29uZmlnOiBUaW1pbmdBbmltYXRpb25Db25maWcsXG4pOiBDb21wb3NpdGVBbmltYXRpb24ge1xuICBjb25zdCBzdGFydCA9IGZ1bmN0aW9uKFxuICAgIGFuaW1hdGVkVmFsdWU6IEFuaW1hdGVkVmFsdWUgfCBBbmltYXRlZFZhbHVlWFksXG4gICAgY29uZmlndXJhdGlvbjogVGltaW5nQW5pbWF0aW9uQ29uZmlnLFxuICAgIGNhbGxiYWNrPzogP0VuZENhbGxiYWNrLFxuICApOiB2b2lkIHtcbiAgICBjYWxsYmFjayA9IF9jb21iaW5lQ2FsbGJhY2tzKGNhbGxiYWNrLCBjb25maWd1cmF0aW9uKTtcbiAgICBjb25zdCBzaW5nbGVWYWx1ZTogYW55ID0gYW5pbWF0ZWRWYWx1ZTtcbiAgICBjb25zdCBzaW5nbGVDb25maWc6IGFueSA9IGNvbmZpZ3VyYXRpb247XG4gICAgc2luZ2xlVmFsdWUuc3RvcFRyYWNraW5nKCk7XG4gICAgaWYgKGNvbmZpZ3VyYXRpb24udG9WYWx1ZSBpbnN0YW5jZW9mIEFuaW1hdGVkTm9kZSkge1xuICAgICAgc2luZ2xlVmFsdWUudHJhY2soXG4gICAgICAgIG5ldyBBbmltYXRlZFRyYWNraW5nKFxuICAgICAgICAgIHNpbmdsZVZhbHVlLFxuICAgICAgICAgIGNvbmZpZ3VyYXRpb24udG9WYWx1ZSxcbiAgICAgICAgICBUaW1pbmdBbmltYXRpb24sXG4gICAgICAgICAgc2luZ2xlQ29uZmlnLFxuICAgICAgICAgIGNhbGxiYWNrLFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2luZ2xlVmFsdWUuYW5pbWF0ZShuZXcgVGltaW5nQW5pbWF0aW9uKHNpbmdsZUNvbmZpZyksIGNhbGxiYWNrKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICBtYXliZVZlY3RvckFuaW0odmFsdWUsIGNvbmZpZywgdGltaW5nKSB8fCB7XG4gICAgICBzdGFydDogZnVuY3Rpb24oY2FsbGJhY2s/OiA/RW5kQ2FsbGJhY2spOiB2b2lkIHtcbiAgICAgICAgc3RhcnQodmFsdWUsIGNvbmZpZywgY2FsbGJhY2spO1xuICAgICAgfSxcblxuICAgICAgc3RvcDogZnVuY3Rpb24oKTogdm9pZCB7XG4gICAgICAgIHZhbHVlLnN0b3BBbmltYXRpb24oKTtcbiAgICAgIH0sXG5cbiAgICAgIHJlc2V0OiBmdW5jdGlvbigpOiB2b2lkIHtcbiAgICAgICAgdmFsdWUucmVzZXRBbmltYXRpb24oKTtcbiAgICAgIH0sXG5cbiAgICAgIF9zdGFydE5hdGl2ZUxvb3A6IGZ1bmN0aW9uKGl0ZXJhdGlvbnM/OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgY29uc3Qgc2luZ2xlQ29uZmlnID0gey4uLmNvbmZpZywgaXRlcmF0aW9uc307XG4gICAgICAgIHN0YXJ0KHZhbHVlLCBzaW5nbGVDb25maWcpO1xuICAgICAgfSxcblxuICAgICAgX2lzVXNpbmdOYXRpdmVEcml2ZXI6IGZ1bmN0aW9uKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gY29uZmlnLnVzZU5hdGl2ZURyaXZlciB8fCBmYWxzZTtcbiAgICAgIH0sXG4gICAgfVxuICApO1xufTtcblxuY29uc3QgZGVjYXkgPSBmdW5jdGlvbihcbiAgdmFsdWU6IEFuaW1hdGVkVmFsdWUgfCBBbmltYXRlZFZhbHVlWFksXG4gIGNvbmZpZzogRGVjYXlBbmltYXRpb25Db25maWcsXG4pOiBDb21wb3NpdGVBbmltYXRpb24ge1xuICBjb25zdCBzdGFydCA9IGZ1bmN0aW9uKFxuICAgIGFuaW1hdGVkVmFsdWU6IEFuaW1hdGVkVmFsdWUgfCBBbmltYXRlZFZhbHVlWFksXG4gICAgY29uZmlndXJhdGlvbjogRGVjYXlBbmltYXRpb25Db25maWcsXG4gICAgY2FsbGJhY2s/OiA/RW5kQ2FsbGJhY2ssXG4gICk6IHZvaWQge1xuICAgIGNhbGxiYWNrID0gX2NvbWJpbmVDYWxsYmFja3MoY2FsbGJhY2ssIGNvbmZpZ3VyYXRpb24pO1xuICAgIGNvbnN0IHNpbmdsZVZhbHVlOiBhbnkgPSBhbmltYXRlZFZhbHVlO1xuICAgIGNvbnN0IHNpbmdsZUNvbmZpZzogYW55ID0gY29uZmlndXJhdGlvbjtcbiAgICBzaW5nbGVWYWx1ZS5zdG9wVHJhY2tpbmcoKTtcbiAgICBzaW5nbGVWYWx1ZS5hbmltYXRlKG5ldyBEZWNheUFuaW1hdGlvbihzaW5nbGVDb25maWcpLCBjYWxsYmFjayk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICBtYXliZVZlY3RvckFuaW0odmFsdWUsIGNvbmZpZywgZGVjYXkpIHx8IHtcbiAgICAgIHN0YXJ0OiBmdW5jdGlvbihjYWxsYmFjaz86ID9FbmRDYWxsYmFjayk6IHZvaWQge1xuICAgICAgICBzdGFydCh2YWx1ZSwgY29uZmlnLCBjYWxsYmFjayk7XG4gICAgICB9LFxuXG4gICAgICBzdG9wOiBmdW5jdGlvbigpOiB2b2lkIHtcbiAgICAgICAgdmFsdWUuc3RvcEFuaW1hdGlvbigpO1xuICAgICAgfSxcblxuICAgICAgcmVzZXQ6IGZ1bmN0aW9uKCk6IHZvaWQge1xuICAgICAgICB2YWx1ZS5yZXNldEFuaW1hdGlvbigpO1xuICAgICAgfSxcblxuICAgICAgX3N0YXJ0TmF0aXZlTG9vcDogZnVuY3Rpb24oaXRlcmF0aW9ucz86IG51bWJlcik6IHZvaWQge1xuICAgICAgICBjb25zdCBzaW5nbGVDb25maWcgPSB7Li4uY29uZmlnLCBpdGVyYXRpb25zfTtcbiAgICAgICAgc3RhcnQodmFsdWUsIHNpbmdsZUNvbmZpZyk7XG4gICAgICB9LFxuXG4gICAgICBfaXNVc2luZ05hdGl2ZURyaXZlcjogZnVuY3Rpb24oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBjb25maWcudXNlTmF0aXZlRHJpdmVyIHx8IGZhbHNlO1xuICAgICAgfSxcbiAgICB9XG4gICk7XG59O1xuXG5jb25zdCBzZXF1ZW5jZSA9IGZ1bmN0aW9uKFxuICBhbmltYXRpb25zOiBBcnJheTxDb21wb3NpdGVBbmltYXRpb24+LFxuKTogQ29tcG9zaXRlQW5pbWF0aW9uIHtcbiAgbGV0IGN1cnJlbnQgPSAwO1xuICByZXR1cm4ge1xuICAgIHN0YXJ0OiBmdW5jdGlvbihjYWxsYmFjaz86ID9FbmRDYWxsYmFjaykge1xuICAgICAgY29uc3Qgb25Db21wbGV0ZSA9IGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICBpZiAoIXJlc3VsdC5maW5pc2hlZCkge1xuICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHJlc3VsdCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY3VycmVudCsrO1xuXG4gICAgICAgIGlmIChjdXJyZW50ID09PSBhbmltYXRpb25zLmxlbmd0aCkge1xuICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHJlc3VsdCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgYW5pbWF0aW9uc1tjdXJyZW50XS5zdGFydChvbkNvbXBsZXRlKTtcbiAgICAgIH07XG5cbiAgICAgIGlmIChhbmltYXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayh7ZmluaXNoZWQ6IHRydWV9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFuaW1hdGlvbnNbY3VycmVudF0uc3RhcnQob25Db21wbGV0ZSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHN0b3A6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGN1cnJlbnQgPCBhbmltYXRpb25zLmxlbmd0aCkge1xuICAgICAgICBhbmltYXRpb25zW2N1cnJlbnRdLnN0b3AoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgYW5pbWF0aW9ucy5mb3JFYWNoKChhbmltYXRpb24sIGlkeCkgPT4ge1xuICAgICAgICBpZiAoaWR4IDw9IGN1cnJlbnQpIHtcbiAgICAgICAgICBhbmltYXRpb24ucmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjdXJyZW50ID0gMDtcbiAgICB9LFxuXG4gICAgX3N0YXJ0TmF0aXZlTG9vcDogZnVuY3Rpb24oKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdMb29wcyBydW4gdXNpbmcgdGhlIG5hdGl2ZSBkcml2ZXIgY2Fubm90IGNvbnRhaW4gQW5pbWF0ZWQuc2VxdWVuY2UgYW5pbWF0aW9ucycsXG4gICAgICApO1xuICAgIH0sXG5cbiAgICBfaXNVc2luZ05hdGl2ZURyaXZlcjogZnVuY3Rpb24oKTogYm9vbGVhbiB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgfTtcbn07XG5cbnR5cGUgUGFyYWxsZWxDb25maWcgPSB7XG4gIHN0b3BUb2dldGhlcj86IGJvb2xlYW4sIC8vIElmIG9uZSBpcyBzdG9wcGVkLCBzdG9wIGFsbC4gIGRlZmF1bHQ6IHRydWVcbn07XG5jb25zdCBwYXJhbGxlbCA9IGZ1bmN0aW9uKFxuICBhbmltYXRpb25zOiBBcnJheTxDb21wb3NpdGVBbmltYXRpb24+LFxuICBjb25maWc/OiA/UGFyYWxsZWxDb25maWcsXG4pOiBDb21wb3NpdGVBbmltYXRpb24ge1xuICBsZXQgZG9uZUNvdW50ID0gMDtcbiAgLy8gTWFrZSBzdXJlIHdlIG9ubHkgY2FsbCBzdG9wKCkgYXQgbW9zdCBvbmNlIGZvciBlYWNoIGFuaW1hdGlvblxuICBjb25zdCBoYXNFbmRlZCA9IHt9O1xuICBjb25zdCBzdG9wVG9nZXRoZXIgPSAhKGNvbmZpZyAmJiBjb25maWcuc3RvcFRvZ2V0aGVyID09PSBmYWxzZSk7XG5cbiAgY29uc3QgcmVzdWx0ID0ge1xuICAgIHN0YXJ0OiBmdW5jdGlvbihjYWxsYmFjaz86ID9FbmRDYWxsYmFjaykge1xuICAgICAgaWYgKGRvbmVDb3VudCA9PT0gYW5pbWF0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soe2ZpbmlzaGVkOiB0cnVlfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgYW5pbWF0aW9ucy5mb3JFYWNoKChhbmltYXRpb24sIGlkeCkgPT4ge1xuICAgICAgICBjb25zdCBjYiA9IGZ1bmN0aW9uKGVuZFJlc3VsdCkge1xuICAgICAgICAgIGhhc0VuZGVkW2lkeF0gPSB0cnVlO1xuICAgICAgICAgIGRvbmVDb3VudCsrO1xuICAgICAgICAgIGlmIChkb25lQ291bnQgPT09IGFuaW1hdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBkb25lQ291bnQgPSAwO1xuICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soZW5kUmVzdWx0KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIWVuZFJlc3VsdC5maW5pc2hlZCAmJiBzdG9wVG9nZXRoZXIpIHtcbiAgICAgICAgICAgIHJlc3VsdC5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICghYW5pbWF0aW9uKSB7XG4gICAgICAgICAgY2Ioe2ZpbmlzaGVkOiB0cnVlfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYW5pbWF0aW9uLnN0YXJ0KGNiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIHN0b3A6IGZ1bmN0aW9uKCk6IHZvaWQge1xuICAgICAgYW5pbWF0aW9ucy5mb3JFYWNoKChhbmltYXRpb24sIGlkeCkgPT4ge1xuICAgICAgICAhaGFzRW5kZWRbaWR4XSAmJiBhbmltYXRpb24uc3RvcCgpO1xuICAgICAgICBoYXNFbmRlZFtpZHhdID0gdHJ1ZTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICByZXNldDogZnVuY3Rpb24oKTogdm9pZCB7XG4gICAgICBhbmltYXRpb25zLmZvckVhY2goKGFuaW1hdGlvbiwgaWR4KSA9PiB7XG4gICAgICAgIGFuaW1hdGlvbi5yZXNldCgpO1xuICAgICAgICBoYXNFbmRlZFtpZHhdID0gZmFsc2U7XG4gICAgICAgIGRvbmVDb3VudCA9IDA7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgX3N0YXJ0TmF0aXZlTG9vcDogZnVuY3Rpb24oKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdMb29wcyBydW4gdXNpbmcgdGhlIG5hdGl2ZSBkcml2ZXIgY2Fubm90IGNvbnRhaW4gQW5pbWF0ZWQucGFyYWxsZWwgYW5pbWF0aW9ucycsXG4gICAgICApO1xuICAgIH0sXG5cbiAgICBfaXNVc2luZ05hdGl2ZURyaXZlcjogZnVuY3Rpb24oKTogYm9vbGVhbiB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgfTtcblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuY29uc3QgZGVsYXkgPSBmdW5jdGlvbih0aW1lOiBudW1iZXIpOiBDb21wb3NpdGVBbmltYXRpb24ge1xuICAvLyBXb3VsZCBiZSBuaWNlIHRvIG1ha2UgYSBzcGVjaWFsaXplZCBpbXBsZW1lbnRhdGlvblxuICByZXR1cm4gdGltaW5nKG5ldyBBbmltYXRlZFZhbHVlKDApLCB7dG9WYWx1ZTogMCwgZGVsYXk6IHRpbWUsIGR1cmF0aW9uOiAwfSk7XG59O1xuXG5jb25zdCBzdGFnZ2VyID0gZnVuY3Rpb24oXG4gIHRpbWU6IG51bWJlcixcbiAgYW5pbWF0aW9uczogQXJyYXk8Q29tcG9zaXRlQW5pbWF0aW9uPixcbik6IENvbXBvc2l0ZUFuaW1hdGlvbiB7XG4gIHJldHVybiBwYXJhbGxlbChcbiAgICBhbmltYXRpb25zLm1hcCgoYW5pbWF0aW9uLCBpKSA9PiB7XG4gICAgICByZXR1cm4gc2VxdWVuY2UoW2RlbGF5KHRpbWUgKiBpKSwgYW5pbWF0aW9uXSk7XG4gICAgfSksXG4gICk7XG59O1xuXG50eXBlIExvb3BBbmltYXRpb25Db25maWcgPSB7aXRlcmF0aW9uczogbnVtYmVyfTtcblxuY29uc3QgbG9vcCA9IGZ1bmN0aW9uKFxuICBhbmltYXRpb246IENvbXBvc2l0ZUFuaW1hdGlvbixcbiAge2l0ZXJhdGlvbnMgPSAtMX06IExvb3BBbmltYXRpb25Db25maWcgPSB7fSxcbik6IENvbXBvc2l0ZUFuaW1hdGlvbiB7XG4gIGxldCBpc0ZpbmlzaGVkID0gZmFsc2U7XG4gIGxldCBpdGVyYXRpb25zU29GYXIgPSAwO1xuICByZXR1cm4ge1xuICAgIHN0YXJ0OiBmdW5jdGlvbihjYWxsYmFjaz86ID9FbmRDYWxsYmFjaykge1xuICAgICAgY29uc3QgcmVzdGFydCA9IGZ1bmN0aW9uKHJlc3VsdDogRW5kUmVzdWx0ID0ge2ZpbmlzaGVkOiB0cnVlfSk6IHZvaWQge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgaXNGaW5pc2hlZCB8fFxuICAgICAgICAgIGl0ZXJhdGlvbnNTb0ZhciA9PT0gaXRlcmF0aW9ucyB8fFxuICAgICAgICAgIHJlc3VsdC5maW5pc2hlZCA9PT0gZmFsc2VcbiAgICAgICAgKSB7XG4gICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2socmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVyYXRpb25zU29GYXIrKztcbiAgICAgICAgICBhbmltYXRpb24ucmVzZXQoKTtcbiAgICAgICAgICBhbmltYXRpb24uc3RhcnQocmVzdGFydCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBpZiAoIWFuaW1hdGlvbiB8fCBpdGVyYXRpb25zID09PSAwKSB7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHtmaW5pc2hlZDogdHJ1ZX0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGFuaW1hdGlvbi5faXNVc2luZ05hdGl2ZURyaXZlcigpKSB7XG4gICAgICAgICAgYW5pbWF0aW9uLl9zdGFydE5hdGl2ZUxvb3AoaXRlcmF0aW9ucyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdGFydCgpOyAvLyBTdGFydCBsb29waW5nIHJlY3Vyc2l2ZWx5IG9uIHRoZSBqcyB0aHJlYWRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbigpOiB2b2lkIHtcbiAgICAgIGlzRmluaXNoZWQgPSB0cnVlO1xuICAgICAgYW5pbWF0aW9uLnN0b3AoKTtcbiAgICB9LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKCk6IHZvaWQge1xuICAgICAgaXRlcmF0aW9uc1NvRmFyID0gMDtcbiAgICAgIGlzRmluaXNoZWQgPSBmYWxzZTtcbiAgICAgIGFuaW1hdGlvbi5yZXNldCgpO1xuICAgIH0sXG5cbiAgICBfc3RhcnROYXRpdmVMb29wOiBmdW5jdGlvbigpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0xvb3BzIHJ1biB1c2luZyB0aGUgbmF0aXZlIGRyaXZlciBjYW5ub3QgY29udGFpbiBBbmltYXRlZC5sb29wIGFuaW1hdGlvbnMnLFxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgX2lzVXNpbmdOYXRpdmVEcml2ZXI6IGZ1bmN0aW9uKCk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIGFuaW1hdGlvbi5faXNVc2luZ05hdGl2ZURyaXZlcigpO1xuICAgIH0sXG4gIH07XG59O1xuXG5mdW5jdGlvbiBmb3JrRXZlbnQoXG4gIGV2ZW50OiA/QW5pbWF0ZWRFdmVudCB8ID9GdW5jdGlvbixcbiAgbGlzdGVuZXI6IEZ1bmN0aW9uLFxuKTogQW5pbWF0ZWRFdmVudCB8IEZ1bmN0aW9uIHtcbiAgaWYgKCFldmVudCkge1xuICAgIHJldHVybiBsaXN0ZW5lcjtcbiAgfSBlbHNlIGlmIChldmVudCBpbnN0YW5jZW9mIEFuaW1hdGVkRXZlbnQpIHtcbiAgICBldmVudC5fX2FkZExpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICByZXR1cm4gZXZlbnQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICB0eXBlb2YgZXZlbnQgPT09ICdmdW5jdGlvbicgJiYgZXZlbnQoLi4uYXJncyk7XG4gICAgICBsaXN0ZW5lciguLi5hcmdzKTtcbiAgICB9O1xuICB9XG59XG5cbmZ1bmN0aW9uIHVuZm9ya0V2ZW50KFxuICBldmVudDogP0FuaW1hdGVkRXZlbnQgfCA/RnVuY3Rpb24sXG4gIGxpc3RlbmVyOiBGdW5jdGlvbixcbik6IHZvaWQge1xuICBpZiAoZXZlbnQgJiYgZXZlbnQgaW5zdGFuY2VvZiBBbmltYXRlZEV2ZW50KSB7XG4gICAgZXZlbnQuX19yZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcik7XG4gIH1cbn1cblxuY29uc3QgZXZlbnQgPSBmdW5jdGlvbihhcmdNYXBwaW5nOiBBcnJheTw/TWFwcGluZz4sIGNvbmZpZz86IEV2ZW50Q29uZmlnKTogYW55IHtcbiAgY29uc3QgYW5pbWF0ZWRFdmVudCA9IG5ldyBBbmltYXRlZEV2ZW50KGFyZ01hcHBpbmcsIGNvbmZpZyk7XG4gIGlmIChhbmltYXRlZEV2ZW50Ll9faXNOYXRpdmUpIHtcbiAgICByZXR1cm4gYW5pbWF0ZWRFdmVudDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYW5pbWF0ZWRFdmVudC5fX2dldEhhbmRsZXIoKTtcbiAgfVxufTtcblxuLyoqXG4gKiBUaGUgYEFuaW1hdGVkYCBsaWJyYXJ5IGlzIGRlc2lnbmVkIHRvIG1ha2UgYW5pbWF0aW9ucyBmbHVpZCwgcG93ZXJmdWwsIGFuZFxuICogZWFzeSB0byBidWlsZCBhbmQgbWFpbnRhaW4uIGBBbmltYXRlZGAgZm9jdXNlcyBvbiBkZWNsYXJhdGl2ZSByZWxhdGlvbnNoaXBzXG4gKiBiZXR3ZWVuIGlucHV0cyBhbmQgb3V0cHV0cywgd2l0aCBjb25maWd1cmFibGUgdHJhbnNmb3JtcyBpbiBiZXR3ZWVuLCBhbmRcbiAqIHNpbXBsZSBgc3RhcnRgL2BzdG9wYCBtZXRob2RzIHRvIGNvbnRyb2wgdGltZS1iYXNlZCBhbmltYXRpb24gZXhlY3V0aW9uLlxuICpcbiAqIFNlZSBodHRwOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2FuaW1hdGVkLmh0bWxcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8qKlxuICAgKiBTdGFuZGFyZCB2YWx1ZSBjbGFzcyBmb3IgZHJpdmluZyBhbmltYXRpb25zLiAgVHlwaWNhbGx5IGluaXRpYWxpemVkIHdpdGhcbiAgICogYG5ldyBBbmltYXRlZC5WYWx1ZSgwKTtgXG4gICAqXG4gICAqIFNlZSBodHRwOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2FuaW1hdGVkLmh0bWwjdmFsdWVcbiAgICovXG4gIFZhbHVlOiBBbmltYXRlZFZhbHVlLFxuICAvKipcbiAgICogMkQgdmFsdWUgY2xhc3MgZm9yIGRyaXZpbmcgMkQgYW5pbWF0aW9ucywgc3VjaCBhcyBwYW4gZ2VzdHVyZXMuXG4gICAqXG4gICAqIFNlZSBodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9hbmltYXRlZHZhbHVleHkuaHRtbFxuICAgKi9cbiAgVmFsdWVYWTogQW5pbWF0ZWRWYWx1ZVhZLFxuICAvKipcbiAgICogRXhwb3J0ZWQgdG8gdXNlIHRoZSBJbnRlcnBvbGF0aW9uIHR5cGUgaW4gZmxvdy5cbiAgICpcbiAgICogU2VlIGh0dHA6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QtbmF0aXZlL2RvY3MvYW5pbWF0ZWQuaHRtbCNpbnRlcnBvbGF0aW9uXG4gICAqL1xuICBJbnRlcnBvbGF0aW9uOiBBbmltYXRlZEludGVycG9sYXRpb24sXG4gIC8qKlxuICAgKiBFeHBvcnRlZCBmb3IgZWFzZSBvZiB0eXBlIGNoZWNraW5nLiBBbGwgYW5pbWF0ZWQgdmFsdWVzIGRlcml2ZSBmcm9tIHRoaXNcbiAgICogY2xhc3MuXG4gICAqXG4gICAqIFNlZSBodHRwOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2FuaW1hdGVkLmh0bWwjbm9kZVxuICAgKi9cbiAgTm9kZTogQW5pbWF0ZWROb2RlLFxuXG4gIC8qKlxuICAgKiBBbmltYXRlcyBhIHZhbHVlIGZyb20gYW4gaW5pdGlhbCB2ZWxvY2l0eSB0byB6ZXJvIGJhc2VkIG9uIGEgZGVjYXlcbiAgICogY29lZmZpY2llbnQuXG4gICAqXG4gICAqIFNlZSBodHRwOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2FuaW1hdGVkLmh0bWwjZGVjYXlcbiAgICovXG4gIGRlY2F5LFxuICAvKipcbiAgICogQW5pbWF0ZXMgYSB2YWx1ZSBhbG9uZyBhIHRpbWVkIGVhc2luZyBjdXJ2ZS4gVGhlIEVhc2luZyBtb2R1bGUgaGFzIHRvbnMgb2ZcbiAgICogcHJlZGVmaW5lZCBjdXJ2ZXMsIG9yIHlvdSBjYW4gdXNlIHlvdXIgb3duIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBTZWUgaHR0cDovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9hbmltYXRlZC5odG1sI3RpbWluZ1xuICAgKi9cbiAgdGltaW5nLFxuICAvKipcbiAgICogQW5pbWF0ZXMgYSB2YWx1ZSBhY2NvcmRpbmcgdG8gYW4gYW5hbHl0aWNhbCBzcHJpbmcgbW9kZWwgYmFzZWQgb25cbiAgICogZGFtcGVkIGhhcm1vbmljIG9zY2lsbGF0aW9uLlxuICAgKlxuICAgKiBTZWUgaHR0cDovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9hbmltYXRlZC5odG1sI3NwcmluZ1xuICAgKi9cbiAgc3ByaW5nLFxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IEFuaW1hdGVkIHZhbHVlIGNvbXBvc2VkIGZyb20gdHdvIEFuaW1hdGVkIHZhbHVlcyBhZGRlZFxuICAgKiB0b2dldGhlci5cbiAgICpcbiAgICogU2VlIGh0dHA6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QtbmF0aXZlL2RvY3MvYW5pbWF0ZWQuaHRtbCNhZGRcbiAgICovXG4gIGFkZCxcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBBbmltYXRlZCB2YWx1ZSBjb21wb3NlZCBieSBzdWJ0cmFjdGluZyB0aGUgc2Vjb25kIEFuaW1hdGVkXG4gICAqIHZhbHVlIGZyb20gdGhlIGZpcnN0IEFuaW1hdGVkIHZhbHVlLlxuICAgKlxuICAgKiBTZWUgaHR0cDovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9hbmltYXRlZC5odG1sI3N1YnRyYWN0XG4gICAqL1xuICBzdWJ0cmFjdCxcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBBbmltYXRlZCB2YWx1ZSBjb21wb3NlZCBieSBkaXZpZGluZyB0aGUgZmlyc3QgQW5pbWF0ZWQgdmFsdWVcbiAgICogYnkgdGhlIHNlY29uZCBBbmltYXRlZCB2YWx1ZS5cbiAgICpcbiAgICogU2VlIGh0dHA6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QtbmF0aXZlL2RvY3MvYW5pbWF0ZWQuaHRtbCNkaXZpZGVcbiAgICovXG4gIGRpdmlkZSxcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBBbmltYXRlZCB2YWx1ZSBjb21wb3NlZCBmcm9tIHR3byBBbmltYXRlZCB2YWx1ZXMgbXVsdGlwbGllZFxuICAgKiB0b2dldGhlci5cbiAgICpcbiAgICogU2VlIGh0dHA6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QtbmF0aXZlL2RvY3MvYW5pbWF0ZWQuaHRtbCNtdWx0aXBseVxuICAgKi9cbiAgbXVsdGlwbHksXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgQW5pbWF0ZWQgdmFsdWUgdGhhdCBpcyB0aGUgKG5vbi1uZWdhdGl2ZSkgbW9kdWxvIG9mIHRoZVxuICAgKiBwcm92aWRlZCBBbmltYXRlZCB2YWx1ZS5cbiAgICpcbiAgICogU2VlIGh0dHA6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QtbmF0aXZlL2RvY3MvYW5pbWF0ZWQuaHRtbCNtb2R1bG9cbiAgICovXG4gIG1vZHVsbyxcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IEFuaW1hdGVkIHZhbHVlIHRoYXQgaXMgbGltaXRlZCBiZXR3ZWVuIDIgdmFsdWVzLiBJdCB1c2VzIHRoZVxuICAgKiBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIGxhc3QgdmFsdWUgc28gZXZlbiBpZiB0aGUgdmFsdWUgaXMgZmFyIGZyb20gdGhlXG4gICAqIGJvdW5kcyBpdCB3aWxsIHN0YXJ0IGNoYW5naW5nIHdoZW4gdGhlIHZhbHVlIHN0YXJ0cyBnZXR0aW5nIGNsb3NlciBhZ2Fpbi5cbiAgICpcbiAgICogU2VlIGh0dHA6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QtbmF0aXZlL2RvY3MvYW5pbWF0ZWQuaHRtbCNkaWZmY2xhbXBcbiAgICovXG4gIGRpZmZDbGFtcCxcblxuICAvKipcbiAgICogU3RhcnRzIGFuIGFuaW1hdGlvbiBhZnRlciB0aGUgZ2l2ZW4gZGVsYXkuXG4gICAqXG4gICAqIFNlZSBodHRwOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2FuaW1hdGVkLmh0bWwjZGVsYXlcbiAgICovXG4gIGRlbGF5LFxuICAvKipcbiAgICogU3RhcnRzIGFuIGFycmF5IG9mIGFuaW1hdGlvbnMgaW4gb3JkZXIsIHdhaXRpbmcgZm9yIGVhY2ggdG8gY29tcGxldGVcbiAgICogYmVmb3JlIHN0YXJ0aW5nIHRoZSBuZXh0LiBJZiB0aGUgY3VycmVudCBydW5uaW5nIGFuaW1hdGlvbiBpcyBzdG9wcGVkLCBub1xuICAgKiBmb2xsb3dpbmcgYW5pbWF0aW9ucyB3aWxsIGJlIHN0YXJ0ZWQuXG4gICAqXG4gICAqIFNlZSBodHRwOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2FuaW1hdGVkLmh0bWwjc2VxdWVuY2VcbiAgICovXG4gIHNlcXVlbmNlLFxuICAvKipcbiAgICogU3RhcnRzIGFuIGFycmF5IG9mIGFuaW1hdGlvbnMgYWxsIGF0IHRoZSBzYW1lIHRpbWUuIEJ5IGRlZmF1bHQsIGlmIG9uZVxuICAgKiBvZiB0aGUgYW5pbWF0aW9ucyBpcyBzdG9wcGVkLCB0aGV5IHdpbGwgYWxsIGJlIHN0b3BwZWQuIFlvdSBjYW4gb3ZlcnJpZGVcbiAgICogdGhpcyB3aXRoIHRoZSBgc3RvcFRvZ2V0aGVyYCBmbGFnLlxuICAgKlxuICAgKiBTZWUgaHR0cDovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9hbmltYXRlZC5odG1sI3BhcmFsbGVsXG4gICAqL1xuICBwYXJhbGxlbCxcbiAgLyoqXG4gICAqIEFycmF5IG9mIGFuaW1hdGlvbnMgbWF5IHJ1biBpbiBwYXJhbGxlbCAob3ZlcmxhcCksIGJ1dCBhcmUgc3RhcnRlZCBpblxuICAgKiBzZXF1ZW5jZSB3aXRoIHN1Y2Nlc3NpdmUgZGVsYXlzLiAgTmljZSBmb3IgZG9pbmcgdHJhaWxpbmcgZWZmZWN0cy5cbiAgICpcbiAgICogU2VlIGh0dHA6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QtbmF0aXZlL2RvY3MvYW5pbWF0ZWQuaHRtbCNzdGFnZ2VyXG4gICAqL1xuICBzdGFnZ2VyLFxuICAvKipcbiAgICogTG9vcHMgYSBnaXZlbiBhbmltYXRpb24gY29udGludW91c2x5LCBzbyB0aGF0IGVhY2ggdGltZSBpdCByZWFjaGVzIHRoZVxuICAgKiBlbmQsIGl0IHJlc2V0cyBhbmQgYmVnaW5zIGFnYWluIGZyb20gdGhlIHN0YXJ0LlxuICAgKlxuICAgKiBTZWUgaHR0cDovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9hbmltYXRlZC5odG1sI2xvb3BcbiAgICovXG4gIGxvb3AsXG5cbiAgLyoqXG4gICAqIFRha2VzIGFuIGFycmF5IG9mIG1hcHBpbmdzIGFuZCBleHRyYWN0cyB2YWx1ZXMgZnJvbSBlYWNoIGFyZyBhY2NvcmRpbmdseSxcbiAgICogdGhlbiBjYWxscyBgc2V0VmFsdWVgIG9uIHRoZSBtYXBwZWQgb3V0cHV0cy5cbiAgICpcbiAgICogU2VlIGh0dHA6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QtbmF0aXZlL2RvY3MvYW5pbWF0ZWQuaHRtbCNldmVudFxuICAgKi9cbiAgZXZlbnQsXG5cbiAgLyoqXG4gICAqIE1ha2UgYW55IFJlYWN0IGNvbXBvbmVudCBBbmltYXRhYmxlLiAgVXNlZCB0byBjcmVhdGUgYEFuaW1hdGVkLlZpZXdgLCBldGMuXG4gICAqXG4gICAqIFNlZSBodHRwOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2FuaW1hdGVkLmh0bWwjY3JlYXRlYW5pbWF0ZWRjb21wb25lbnRcbiAgICovXG4gIGNyZWF0ZUFuaW1hdGVkQ29tcG9uZW50LFxuXG4gIC8qKlxuICAgKiBJbXBlcmF0aXZlIEFQSSB0byBhdHRhY2ggYW4gYW5pbWF0ZWQgdmFsdWUgdG8gYW4gZXZlbnQgb24gYSB2aWV3LiBQcmVmZXJcbiAgICogdXNpbmcgYEFuaW1hdGVkLmV2ZW50YCB3aXRoIGB1c2VOYXRpdmVEcml2ZTogdHJ1ZWAgaWYgcG9zc2libGUuXG4gICAqXG4gICAqIFNlZSBodHRwOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2FuaW1hdGVkLmh0bWwjYXR0YWNobmF0aXZlZXZlbnRcbiAgICovXG4gIGF0dGFjaE5hdGl2ZUV2ZW50LFxuXG4gIC8qKlxuICAgKiBBZHZhbmNlZCBpbXBlcmF0aXZlIEFQSSBmb3Igc25vb3Bpbmcgb24gYW5pbWF0ZWQgZXZlbnRzIHRoYXQgYXJlIHBhc3NlZCBpblxuICAgKiB0aHJvdWdoIHByb3BzLiBVc2UgdmFsdWVzIGRpcmVjdGx5IHdoZXJlIHBvc3NpYmxlLlxuICAgKlxuICAgKiBTZWUgaHR0cDovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9hbmltYXRlZC5odG1sI2ZvcmtldmVudFxuICAgKi9cbiAgZm9ya0V2ZW50LFxuICB1bmZvcmtFdmVudCxcblxuICBfX1Byb3BzT25seUZvclRlc3RzOiBBbmltYXRlZFByb3BzLFxufTtcbiJdfQ==