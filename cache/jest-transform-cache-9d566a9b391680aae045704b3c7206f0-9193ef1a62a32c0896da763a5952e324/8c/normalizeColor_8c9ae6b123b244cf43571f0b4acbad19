08d483a2aae107c8d43ee188e0a2589c











'use strict';

function normalizeColor(color) {
  var matchers = getMatchers();
  var match = void 0;

  if (typeof color === 'number') {
    if (color >>> 0 === color && color >= 0 && color <= 0xffffffff) {
      return color;
    }
    return null;
  }


  if (match = matchers.hex6.exec(color)) {
    return parseInt(match[1] + 'ff', 16) >>> 0;
  }

  if (names.hasOwnProperty(color)) {
    return names[color];
  }

  if (match = matchers.rgb.exec(color)) {
    return (

      (parse255(match[1]) << 24 |
      parse255(match[2]) << 16 |
      parse255(match[3]) << 8 |
      0x000000ff) >>>
      0);

  }

  if (match = matchers.rgba.exec(color)) {
    return (

      (parse255(match[1]) << 24 |
      parse255(match[2]) << 16 |
      parse255(match[3]) << 8 |
      parse1(match[4])) >>>
      0);

  }

  if (match = matchers.hex3.exec(color)) {
    return (
      parseInt(
      match[1] +
      match[1] +
      match[2] +
      match[2] +
      match[3] +
      match[3] +
      'ff',
      16) >>>
      0);

  }


  if (match = matchers.hex8.exec(color)) {
    return parseInt(match[1], 16) >>> 0;
  }

  if (match = matchers.hex4.exec(color)) {
    return (
      parseInt(
      match[1] +
      match[1] +
      match[2] +
      match[2] +
      match[3] +
      match[3] +
      match[4] +
      match[4],
      16) >>>
      0);

  }

  if (match = matchers.hsl.exec(color)) {
    return (
      (hslToRgb(
      parse360(match[1]),
      parsePercentage(match[2]),
      parsePercentage(match[3])) |

      0x000000ff) >>>
      0);

  }

  if (match = matchers.hsla.exec(color)) {
    return (
      (hslToRgb(
      parse360(match[1]),
      parsePercentage(match[2]),
      parsePercentage(match[3])) |

      parse1(match[4])) >>>
      0);

  }

  return null;
}

function hue2rgb(p, q, t) {
  if (t < 0) {
    t += 1;
  }
  if (t > 1) {
    t -= 1;
  }
  if (t < 1 / 6) {
    return p + (q - p) * 6 * t;
  }
  if (t < 1 / 2) {
    return q;
  }
  if (t < 2 / 3) {
    return p + (q - p) * (2 / 3 - t) * 6;
  }
  return p;
}

function hslToRgb(h, s, l) {
  var q = l < 0.5 ? l * (1 + s) : l + s - l * s;
  var p = 2 * l - q;
  var r = hue2rgb(p, q, h + 1 / 3);
  var g = hue2rgb(p, q, h);
  var b = hue2rgb(p, q, h - 1 / 3);

  return (
    Math.round(r * 255) << 24 |
    Math.round(g * 255) << 16 |
    Math.round(b * 255) << 8);

}


var NUMBER = '[-+]?\\d*\\.?\\d+';
var PERCENTAGE = NUMBER + '%';

function call() {for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {args[_key] = arguments[_key];}
  return '\\(\\s*(' + args.join(')\\s*,\\s*(') + ')\\s*\\)';
}

var cachedMatchers = void 0;

function getMatchers() {
  if (cachedMatchers === undefined) {
    cachedMatchers = {
      rgb: new RegExp('rgb' + call(NUMBER, NUMBER, NUMBER)),
      rgba: new RegExp('rgba' + call(NUMBER, NUMBER, NUMBER, NUMBER)),
      hsl: new RegExp('hsl' + call(NUMBER, PERCENTAGE, PERCENTAGE)),
      hsla: new RegExp('hsla' + call(NUMBER, PERCENTAGE, PERCENTAGE, NUMBER)),
      hex3: /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
      hex4: /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
      hex6: /^#([0-9a-fA-F]{6})$/,
      hex8: /^#([0-9a-fA-F]{8})$/ };

  }
  return cachedMatchers;
}

function parse255(str) {
  var int = parseInt(str, 10);
  if (int < 0) {
    return 0;
  }
  if (int > 255) {
    return 255;
  }
  return int;
}

function parse360(str) {
  var int = parseFloat(str);
  return (int % 360 + 360) % 360 / 360;
}

function parse1(str) {
  var num = parseFloat(str);
  if (num < 0) {
    return 0;
  }
  if (num > 1) {
    return 255;
  }
  return Math.round(num * 255);
}

function parsePercentage(str) {

  var int = parseFloat(str);
  if (int < 0) {
    return 0;
  }
  if (int > 100) {
    return 1;
  }
  return int / 100;
}

var names = {
  transparent: 0x00000000,


  aliceblue: 0xf0f8ffff,
  antiquewhite: 0xfaebd7ff,
  aqua: 0x00ffffff,
  aquamarine: 0x7fffd4ff,
  azure: 0xf0ffffff,
  beige: 0xf5f5dcff,
  bisque: 0xffe4c4ff,
  black: 0x000000ff,
  blanchedalmond: 0xffebcdff,
  blue: 0x0000ffff,
  blueviolet: 0x8a2be2ff,
  brown: 0xa52a2aff,
  burlywood: 0xdeb887ff,
  burntsienna: 0xea7e5dff,
  cadetblue: 0x5f9ea0ff,
  chartreuse: 0x7fff00ff,
  chocolate: 0xd2691eff,
  coral: 0xff7f50ff,
  cornflowerblue: 0x6495edff,
  cornsilk: 0xfff8dcff,
  crimson: 0xdc143cff,
  cyan: 0x00ffffff,
  darkblue: 0x00008bff,
  darkcyan: 0x008b8bff,
  darkgoldenrod: 0xb8860bff,
  darkgray: 0xa9a9a9ff,
  darkgreen: 0x006400ff,
  darkgrey: 0xa9a9a9ff,
  darkkhaki: 0xbdb76bff,
  darkmagenta: 0x8b008bff,
  darkolivegreen: 0x556b2fff,
  darkorange: 0xff8c00ff,
  darkorchid: 0x9932ccff,
  darkred: 0x8b0000ff,
  darksalmon: 0xe9967aff,
  darkseagreen: 0x8fbc8fff,
  darkslateblue: 0x483d8bff,
  darkslategray: 0x2f4f4fff,
  darkslategrey: 0x2f4f4fff,
  darkturquoise: 0x00ced1ff,
  darkviolet: 0x9400d3ff,
  deeppink: 0xff1493ff,
  deepskyblue: 0x00bfffff,
  dimgray: 0x696969ff,
  dimgrey: 0x696969ff,
  dodgerblue: 0x1e90ffff,
  firebrick: 0xb22222ff,
  floralwhite: 0xfffaf0ff,
  forestgreen: 0x228b22ff,
  fuchsia: 0xff00ffff,
  gainsboro: 0xdcdcdcff,
  ghostwhite: 0xf8f8ffff,
  gold: 0xffd700ff,
  goldenrod: 0xdaa520ff,
  gray: 0x808080ff,
  green: 0x008000ff,
  greenyellow: 0xadff2fff,
  grey: 0x808080ff,
  honeydew: 0xf0fff0ff,
  hotpink: 0xff69b4ff,
  indianred: 0xcd5c5cff,
  indigo: 0x4b0082ff,
  ivory: 0xfffff0ff,
  khaki: 0xf0e68cff,
  lavender: 0xe6e6faff,
  lavenderblush: 0xfff0f5ff,
  lawngreen: 0x7cfc00ff,
  lemonchiffon: 0xfffacdff,
  lightblue: 0xadd8e6ff,
  lightcoral: 0xf08080ff,
  lightcyan: 0xe0ffffff,
  lightgoldenrodyellow: 0xfafad2ff,
  lightgray: 0xd3d3d3ff,
  lightgreen: 0x90ee90ff,
  lightgrey: 0xd3d3d3ff,
  lightpink: 0xffb6c1ff,
  lightsalmon: 0xffa07aff,
  lightseagreen: 0x20b2aaff,
  lightskyblue: 0x87cefaff,
  lightslategray: 0x778899ff,
  lightslategrey: 0x778899ff,
  lightsteelblue: 0xb0c4deff,
  lightyellow: 0xffffe0ff,
  lime: 0x00ff00ff,
  limegreen: 0x32cd32ff,
  linen: 0xfaf0e6ff,
  magenta: 0xff00ffff,
  maroon: 0x800000ff,
  mediumaquamarine: 0x66cdaaff,
  mediumblue: 0x0000cdff,
  mediumorchid: 0xba55d3ff,
  mediumpurple: 0x9370dbff,
  mediumseagreen: 0x3cb371ff,
  mediumslateblue: 0x7b68eeff,
  mediumspringgreen: 0x00fa9aff,
  mediumturquoise: 0x48d1ccff,
  mediumvioletred: 0xc71585ff,
  midnightblue: 0x191970ff,
  mintcream: 0xf5fffaff,
  mistyrose: 0xffe4e1ff,
  moccasin: 0xffe4b5ff,
  navajowhite: 0xffdeadff,
  navy: 0x000080ff,
  oldlace: 0xfdf5e6ff,
  olive: 0x808000ff,
  olivedrab: 0x6b8e23ff,
  orange: 0xffa500ff,
  orangered: 0xff4500ff,
  orchid: 0xda70d6ff,
  palegoldenrod: 0xeee8aaff,
  palegreen: 0x98fb98ff,
  paleturquoise: 0xafeeeeff,
  palevioletred: 0xdb7093ff,
  papayawhip: 0xffefd5ff,
  peachpuff: 0xffdab9ff,
  peru: 0xcd853fff,
  pink: 0xffc0cbff,
  plum: 0xdda0ddff,
  powderblue: 0xb0e0e6ff,
  purple: 0x800080ff,
  rebeccapurple: 0x663399ff,
  red: 0xff0000ff,
  rosybrown: 0xbc8f8fff,
  royalblue: 0x4169e1ff,
  saddlebrown: 0x8b4513ff,
  salmon: 0xfa8072ff,
  sandybrown: 0xf4a460ff,
  seagreen: 0x2e8b57ff,
  seashell: 0xfff5eeff,
  sienna: 0xa0522dff,
  silver: 0xc0c0c0ff,
  skyblue: 0x87ceebff,
  slateblue: 0x6a5acdff,
  slategray: 0x708090ff,
  slategrey: 0x708090ff,
  snow: 0xfffafaff,
  springgreen: 0x00ff7fff,
  steelblue: 0x4682b4ff,
  tan: 0xd2b48cff,
  teal: 0x008080ff,
  thistle: 0xd8bfd8ff,
  tomato: 0xff6347ff,
  turquoise: 0x40e0d0ff,
  violet: 0xee82eeff,
  wheat: 0xf5deb3ff,
  white: 0xffffffff,
  whitesmoke: 0xf5f5f5ff,
  yellow: 0xffff00ff,
  yellowgreen: 0x9acd32ff };


module.exports = normalizeColor;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vcm1hbGl6ZUNvbG9yLmpzIl0sIm5hbWVzIjpbIm5vcm1hbGl6ZUNvbG9yIiwiY29sb3IiLCJtYXRjaGVycyIsImdldE1hdGNoZXJzIiwibWF0Y2giLCJoZXg2IiwiZXhlYyIsInBhcnNlSW50IiwibmFtZXMiLCJoYXNPd25Qcm9wZXJ0eSIsInJnYiIsInBhcnNlMjU1IiwicmdiYSIsInBhcnNlMSIsImhleDMiLCJoZXg4IiwiaGV4NCIsImhzbCIsImhzbFRvUmdiIiwicGFyc2UzNjAiLCJwYXJzZVBlcmNlbnRhZ2UiLCJoc2xhIiwiaHVlMnJnYiIsInAiLCJxIiwidCIsImgiLCJzIiwibCIsInIiLCJnIiwiYiIsIk1hdGgiLCJyb3VuZCIsIk5VTUJFUiIsIlBFUkNFTlRBR0UiLCJjYWxsIiwiYXJncyIsImpvaW4iLCJjYWNoZWRNYXRjaGVycyIsInVuZGVmaW5lZCIsIlJlZ0V4cCIsInN0ciIsImludCIsInBhcnNlRmxvYXQiLCJudW0iLCJ0cmFuc3BhcmVudCIsImFsaWNlYmx1ZSIsImFudGlxdWV3aGl0ZSIsImFxdWEiLCJhcXVhbWFyaW5lIiwiYXp1cmUiLCJiZWlnZSIsImJpc3F1ZSIsImJsYWNrIiwiYmxhbmNoZWRhbG1vbmQiLCJibHVlIiwiYmx1ZXZpb2xldCIsImJyb3duIiwiYnVybHl3b29kIiwiYnVybnRzaWVubmEiLCJjYWRldGJsdWUiLCJjaGFydHJldXNlIiwiY2hvY29sYXRlIiwiY29yYWwiLCJjb3JuZmxvd2VyYmx1ZSIsImNvcm5zaWxrIiwiY3JpbXNvbiIsImN5YW4iLCJkYXJrYmx1ZSIsImRhcmtjeWFuIiwiZGFya2dvbGRlbnJvZCIsImRhcmtncmF5IiwiZGFya2dyZWVuIiwiZGFya2dyZXkiLCJkYXJra2hha2kiLCJkYXJrbWFnZW50YSIsImRhcmtvbGl2ZWdyZWVuIiwiZGFya29yYW5nZSIsImRhcmtvcmNoaWQiLCJkYXJrcmVkIiwiZGFya3NhbG1vbiIsImRhcmtzZWFncmVlbiIsImRhcmtzbGF0ZWJsdWUiLCJkYXJrc2xhdGVncmF5IiwiZGFya3NsYXRlZ3JleSIsImRhcmt0dXJxdW9pc2UiLCJkYXJrdmlvbGV0IiwiZGVlcHBpbmsiLCJkZWVwc2t5Ymx1ZSIsImRpbWdyYXkiLCJkaW1ncmV5IiwiZG9kZ2VyYmx1ZSIsImZpcmVicmljayIsImZsb3JhbHdoaXRlIiwiZm9yZXN0Z3JlZW4iLCJmdWNoc2lhIiwiZ2FpbnNib3JvIiwiZ2hvc3R3aGl0ZSIsImdvbGQiLCJnb2xkZW5yb2QiLCJncmF5IiwiZ3JlZW4iLCJncmVlbnllbGxvdyIsImdyZXkiLCJob25leWRldyIsImhvdHBpbmsiLCJpbmRpYW5yZWQiLCJpbmRpZ28iLCJpdm9yeSIsImtoYWtpIiwibGF2ZW5kZXIiLCJsYXZlbmRlcmJsdXNoIiwibGF3bmdyZWVuIiwibGVtb25jaGlmZm9uIiwibGlnaHRibHVlIiwibGlnaHRjb3JhbCIsImxpZ2h0Y3lhbiIsImxpZ2h0Z29sZGVucm9keWVsbG93IiwibGlnaHRncmF5IiwibGlnaHRncmVlbiIsImxpZ2h0Z3JleSIsImxpZ2h0cGluayIsImxpZ2h0c2FsbW9uIiwibGlnaHRzZWFncmVlbiIsImxpZ2h0c2t5Ymx1ZSIsImxpZ2h0c2xhdGVncmF5IiwibGlnaHRzbGF0ZWdyZXkiLCJsaWdodHN0ZWVsYmx1ZSIsImxpZ2h0eWVsbG93IiwibGltZSIsImxpbWVncmVlbiIsImxpbmVuIiwibWFnZW50YSIsIm1hcm9vbiIsIm1lZGl1bWFxdWFtYXJpbmUiLCJtZWRpdW1ibHVlIiwibWVkaXVtb3JjaGlkIiwibWVkaXVtcHVycGxlIiwibWVkaXVtc2VhZ3JlZW4iLCJtZWRpdW1zbGF0ZWJsdWUiLCJtZWRpdW1zcHJpbmdncmVlbiIsIm1lZGl1bXR1cnF1b2lzZSIsIm1lZGl1bXZpb2xldHJlZCIsIm1pZG5pZ2h0Ymx1ZSIsIm1pbnRjcmVhbSIsIm1pc3R5cm9zZSIsIm1vY2Nhc2luIiwibmF2YWpvd2hpdGUiLCJuYXZ5Iiwib2xkbGFjZSIsIm9saXZlIiwib2xpdmVkcmFiIiwib3JhbmdlIiwib3JhbmdlcmVkIiwib3JjaGlkIiwicGFsZWdvbGRlbnJvZCIsInBhbGVncmVlbiIsInBhbGV0dXJxdW9pc2UiLCJwYWxldmlvbGV0cmVkIiwicGFwYXlhd2hpcCIsInBlYWNocHVmZiIsInBlcnUiLCJwaW5rIiwicGx1bSIsInBvd2RlcmJsdWUiLCJwdXJwbGUiLCJyZWJlY2NhcHVycGxlIiwicmVkIiwicm9zeWJyb3duIiwicm95YWxibHVlIiwic2FkZGxlYnJvd24iLCJzYWxtb24iLCJzYW5keWJyb3duIiwic2VhZ3JlZW4iLCJzZWFzaGVsbCIsInNpZW5uYSIsInNpbHZlciIsInNreWJsdWUiLCJzbGF0ZWJsdWUiLCJzbGF0ZWdyYXkiLCJzbGF0ZWdyZXkiLCJzbm93Iiwic3ByaW5nZ3JlZW4iLCJzdGVlbGJsdWUiLCJ0YW4iLCJ0ZWFsIiwidGhpc3RsZSIsInRvbWF0byIsInR1cnF1b2lzZSIsInZpb2xldCIsIndoZWF0Iiwid2hpdGUiLCJ3aGl0ZXNtb2tlIiwieWVsbG93IiwieWVsbG93Z3JlZW4iLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQVdBOztBQUVBLFNBQVNBLGNBQVQsQ0FBd0JDLEtBQXhCLEVBQXlEO0FBQ3ZELE1BQU1DLFdBQVdDLGFBQWpCO0FBQ0EsTUFBSUMsY0FBSjs7QUFFQSxNQUFJLE9BQU9ILEtBQVAsS0FBaUIsUUFBckIsRUFBK0I7QUFDN0IsUUFBSUEsVUFBVSxDQUFWLEtBQWdCQSxLQUFoQixJQUF5QkEsU0FBUyxDQUFsQyxJQUF1Q0EsU0FBUyxVQUFwRCxFQUFnRTtBQUM5RCxhQUFPQSxLQUFQO0FBQ0Q7QUFDRCxXQUFPLElBQVA7QUFDRDs7O0FBR0QsTUFBS0csUUFBUUYsU0FBU0csSUFBVCxDQUFjQyxJQUFkLENBQW1CTCxLQUFuQixDQUFiLEVBQXlDO0FBQ3ZDLFdBQU9NLFNBQVNILE1BQU0sQ0FBTixJQUFXLElBQXBCLEVBQTBCLEVBQTFCLE1BQWtDLENBQXpDO0FBQ0Q7O0FBRUQsTUFBSUksTUFBTUMsY0FBTixDQUFxQlIsS0FBckIsQ0FBSixFQUFpQztB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LFVBQVEsVUFqSUk7QUFrSVpDLGNBQVksVUFsSUE7QUFtSVpDLFlBQVUsVUFuSUU7QUFvSVpDLFlBQVUsVUFwSUU7QUFxSVpDLFVBQVEsVUFySUk7QUFzSVpDLFVBQVEsVUF0SUk7QUF1SVpDLFdBQVMsVUF2SUc7QUF3SVpDLGFBQVcsVUF4SUM7QUF5SVpDLGFBQVcsVUF6SUM7QUEwSVpDLGFBQVcsVUExSUM7QUEySVpDLFFBQU0sVUEzSU07QUE0SVpDLGVBQWEsVUE1SUQ7QUE2SVpDLGFBQVcsVUE3SUM7QUE4SVpDLE9BQUssVUE5SU87QUErSVpDLFFBQU0sVUEvSU07QUFnSlpDLFdBQVMsVUFoSkc7QUFpSlpDLFVBQVEsVUFqSkk7QUFrSlpDLGFBQVcsVUFsSkM7QUFtSlpDLFVBQVEsVUFuSkk7QUFvSlpDLFNBQU8sVUFwSks7QUFxSlpDLFNBQU8sVUFySks7QUFzSlpDLGNBQVksVUF0SkE7QUF1SlpDLFVBQVEsVUF2Skk7QUF3SlpDLGVBQWEsVUF4SkQsRUFBZDs7O0FBMkpBQyxPQUFPQyxPQUFQLEdBQWlCck0sY0FBakIiLCJmaWxlIjoibm9ybWFsaXplQ29sb3IuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmb3JtYXRcbiAqIEBmbG93XG4gKi9cblxuLyogZXNsaW50IG5vLWJpdHdpc2U6IDAgKi9cbid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gbm9ybWFsaXplQ29sb3IoY29sb3I6IHN0cmluZyB8IG51bWJlcik6ID9udW1iZXIge1xuICBjb25zdCBtYXRjaGVycyA9IGdldE1hdGNoZXJzKCk7XG4gIGxldCBtYXRjaDtcblxuICBpZiAodHlwZW9mIGNvbG9yID09PSAnbnVtYmVyJykge1xuICAgIGlmIChjb2xvciA+Pj4gMCA9PT0gY29sb3IgJiYgY29sb3IgPj0gMCAmJiBjb2xvciA8PSAweGZmZmZmZmZmKSB7XG4gICAgICByZXR1cm4gY29sb3I7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gT3JkZXJlZCBiYXNlZCBvbiBvY2N1cnJlbmNlcyBvbiBGYWNlYm9vayBjb2RlYmFzZVxuICBpZiAoKG1hdGNoID0gbWF0Y2hlcnMuaGV4Ni5leGVjKGNvbG9yKSkpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQobWF0Y2hbMV0gKyAnZmYnLCAxNikgPj4+IDA7XG4gIH1cblxuICBpZiAobmFtZXMuaGFzT3duUHJvcGVydHkoY29sb3IpKSB7XG4gICAgcmV0dXJuIG5hbWVzW2NvbG9yXTtcbiAgfVxuXG4gIGlmICgobWF0Y2ggPSBtYXRjaGVycy5yZ2IuZXhlYyhjb2xvcikpKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIC8vIGJcbiAgICAgICgocGFyc2UyNTUobWF0Y2hbMV0pIDw8IDI0KSB8IC8vIHJcbiAgICAgIChwYXJzZTI1NShtYXRjaFsyXSkgPDwgMTYpIHwgLy8gZ1xuICAgICAgICAocGFyc2UyNTUobWF0Y2hbM10pIDw8IDgpIHxcbiAgICAgICAgMHgwMDAwMDBmZikgPj4+IC8vIGFcbiAgICAgIDBcbiAgICApO1xuICB9XG5cbiAgaWYgKChtYXRjaCA9IG1hdGNoZXJzLnJnYmEuZXhlYyhjb2xvcikpKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIC8vIGJcbiAgICAgICgocGFyc2UyNTUobWF0Y2hbMV0pIDw8IDI0KSB8IC8vIHJcbiAgICAgIChwYXJzZTI1NShtYXRjaFsyXSkgPDwgMTYpIHwgLy8gZ1xuICAgICAgICAocGFyc2UyNTUobWF0Y2hbM10pIDw8IDgpIHxcbiAgICAgICAgcGFyc2UxKG1hdGNoWzRdKSkgPj4+IC8vIGFcbiAgICAgIDBcbiAgICApO1xuICB9XG5cbiAgaWYgKChtYXRjaCA9IG1hdGNoZXJzLmhleDMuZXhlYyhjb2xvcikpKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHBhcnNlSW50KFxuICAgICAgICBtYXRjaFsxXSArXG4gICAgICAgIG1hdGNoWzFdICsgLy8gclxuICAgICAgICBtYXRjaFsyXSArXG4gICAgICAgIG1hdGNoWzJdICsgLy8gZ1xuICAgICAgICBtYXRjaFszXSArXG4gICAgICAgIG1hdGNoWzNdICsgLy8gYlxuICAgICAgICAgICdmZicsIC8vIGFcbiAgICAgICAgMTYsXG4gICAgICApID4+PiAwXG4gICAgKTtcbiAgfVxuXG4gIC8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3MtY29sb3ItNC8jaGV4LW5vdGF0aW9uXG4gIGlmICgobWF0Y2ggPSBtYXRjaGVycy5oZXg4LmV4ZWMoY29sb3IpKSkge1xuICAgIHJldHVybiBwYXJzZUludChtYXRjaFsxXSwgMTYpID4+PiAwO1xuICB9XG5cbiAgaWYgKChtYXRjaCA9IG1hdGNoZXJzLmhleDQuZXhlYyhjb2xvcikpKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHBhcnNlSW50KFxuICAgICAgICBtYXRjaFsxXSArXG4gICAgICAgIG1hdGNoWzFdICsgLy8gclxuICAgICAgICBtYXRjaFsyXSArXG4gICAgICAgIG1hdGNoWzJdICsgLy8gZ1xuICAgICAgICBtYXRjaFszXSArXG4gICAgICAgIG1hdGNoWzNdICsgLy8gYlxuICAgICAgICAgIG1hdGNoWzRdICtcbiAgICAgICAgICBtYXRjaFs0XSwgLy8gYVxuICAgICAgICAxNixcbiAgICAgICkgPj4+IDBcbiAgICApO1xuICB9XG5cbiAgaWYgKChtYXRjaCA9IG1hdGNoZXJzLmhzbC5leGVjKGNvbG9yKSkpIHtcbiAgICByZXR1cm4gKFxuICAgICAgKGhzbFRvUmdiKFxuICAgICAgICBwYXJzZTM2MChtYXRjaFsxXSksIC8vIGhcbiAgICAgICAgcGFyc2VQZXJjZW50YWdlKG1hdGNoWzJdKSwgLy8gc1xuICAgICAgICBwYXJzZVBlcmNlbnRhZ2UobWF0Y2hbM10pLCAvLyBsXG4gICAgICApIHxcbiAgICAgICAgMHgwMDAwMDBmZikgPj4+IC8vIGFcbiAgICAgIDBcbiAgICApO1xuICB9XG5cbiAgaWYgKChtYXRjaCA9IG1hdGNoZXJzLmhzbGEuZXhlYyhjb2xvcikpKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIChoc2xUb1JnYihcbiAgICAgICAgcGFyc2UzNjAobWF0Y2hbMV0pLCAvLyBoXG4gICAgICAgIHBhcnNlUGVyY2VudGFnZShtYXRjaFsyXSksIC8vIHNcbiAgICAgICAgcGFyc2VQZXJjZW50YWdlKG1hdGNoWzNdKSwgLy8gbFxuICAgICAgKSB8XG4gICAgICAgIHBhcnNlMShtYXRjaFs0XSkpID4+PiAvLyBhXG4gICAgICAwXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBodWUycmdiKHA6IG51bWJlciwgcTogbnVtYmVyLCB0OiBudW1iZXIpOiBudW1iZXIge1xuICBpZiAodCA8IDApIHtcbiAgICB0ICs9IDE7XG4gIH1cbiAgaWYgKHQgPiAxKSB7XG4gICAgdCAtPSAxO1xuICB9XG4gIGlmICh0IDwgMSAvIDYpIHtcbiAgICByZXR1cm4gcCArIChxIC0gcCkgKiA2ICogdDtcbiAgfVxuICBpZiAodCA8IDEgLyAyKSB7XG4gICAgcmV0dXJuIHE7XG4gIH1cbiAgaWYgKHQgPCAyIC8gMykge1xuICAgIHJldHVybiBwICsgKHEgLSBwKSAqICgyIC8gMyAtIHQpICogNjtcbiAgfVxuICByZXR1cm4gcDtcbn1cblxuZnVuY3Rpb24gaHNsVG9SZ2IoaDogbnVtYmVyLCBzOiBudW1iZXIsIGw6IG51bWJlcik6IG51bWJlciB7XG4gIGNvbnN0IHEgPSBsIDwgMC41ID8gbCAqICgxICsgcykgOiBsICsgcyAtIGwgKiBzO1xuICBjb25zdCBwID0gMiAqIGwgLSBxO1xuICBjb25zdCByID0gaHVlMnJnYihwLCBxLCBoICsgMSAvIDMpO1xuICBjb25zdCBnID0gaHVlMnJnYihwLCBxLCBoKTtcbiAgY29uc3QgYiA9IGh1ZTJyZ2IocCwgcSwgaCAtIDEgLyAzKTtcblxuICByZXR1cm4gKFxuICAgIChNYXRoLnJvdW5kKHIgKiAyNTUpIDw8IDI0KSB8XG4gICAgKE1hdGgucm91bmQoZyAqIDI1NSkgPDwgMTYpIHxcbiAgICAoTWF0aC5yb3VuZChiICogMjU1KSA8PCA4KVxuICApO1xufVxuXG4vLyB2YXIgSU5URUdFUiA9ICdbLStdP1xcXFxkKyc7XG5jb25zdCBOVU1CRVIgPSAnWy0rXT9cXFxcZCpcXFxcLj9cXFxcZCsnO1xuY29uc3QgUEVSQ0VOVEFHRSA9IE5VTUJFUiArICclJztcblxuZnVuY3Rpb24gY2FsbCguLi5hcmdzKSB7XG4gIHJldHVybiAnXFxcXChcXFxccyooJyArIGFyZ3Muam9pbignKVxcXFxzKixcXFxccyooJykgKyAnKVxcXFxzKlxcXFwpJztcbn1cblxubGV0IGNhY2hlZE1hdGNoZXJzO1xuXG5mdW5jdGlvbiBnZXRNYXRjaGVycygpIHtcbiAgaWYgKGNhY2hlZE1hdGNoZXJzID09PSB1bmRlZmluZWQpIHtcbiAgICBjYWNoZWRNYXRjaGVycyA9IHtcbiAgICAgIHJnYjogbmV3IFJlZ0V4cCgncmdiJyArIGNhbGwoTlVNQkVSLCBOVU1CRVIsIE5VTUJFUikpLFxuICAgICAgcmdiYTogbmV3IFJlZ0V4cCgncmdiYScgKyBjYWxsKE5VTUJFUiwgTlVNQkVSLCBOVU1CRVIsIE5VTUJFUikpLFxuICAgICAgaHNsOiBuZXcgUmVnRXhwKCdoc2wnICsgY2FsbChOVU1CRVIsIFBFUkNFTlRBR0UsIFBFUkNFTlRBR0UpKSxcbiAgICAgIGhzbGE6IG5ldyBSZWdFeHAoJ2hzbGEnICsgY2FsbChOVU1CRVIsIFBFUkNFTlRBR0UsIFBFUkNFTlRBR0UsIE5VTUJFUikpLFxuICAgICAgaGV4MzogL14jKFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pJC8sXG4gICAgICBoZXg0OiAvXiMoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pJC8sXG4gICAgICBoZXg2OiAvXiMoWzAtOWEtZkEtRl17Nn0pJC8sXG4gICAgICBoZXg4OiAvXiMoWzAtOWEtZkEtRl17OH0pJC8sXG4gICAgfTtcbiAgfVxuICByZXR1cm4gY2FjaGVkTWF0Y2hlcnM7XG59XG5cbmZ1bmN0aW9uIHBhcnNlMjU1KHN0cjogc3RyaW5nKTogbnVtYmVyIHtcbiAgY29uc3QgaW50ID0gcGFyc2VJbnQoc3RyLCAxMCk7XG4gIGlmIChpbnQgPCAwKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgaWYgKGludCA+IDI1NSkge1xuICAgIHJldHVybiAyNTU7XG4gIH1cbiAgcmV0dXJuIGludDtcbn1cblxuZnVuY3Rpb24gcGFyc2UzNjAoc3RyOiBzdHJpbmcpOiBudW1iZXIge1xuICBjb25zdCBpbnQgPSBwYXJzZUZsb2F0KHN0cik7XG4gIHJldHVybiAoKChpbnQgJSAzNjApICsgMzYwKSAlIDM2MCkgLyAzNjA7XG59XG5cbmZ1bmN0aW9uIHBhcnNlMShzdHI6IHN0cmluZyk6IG51bWJlciB7XG4gIGNvbnN0IG51bSA9IHBhcnNlRmxvYXQoc3RyKTtcbiAgaWYgKG51bSA8IDApIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICBpZiAobnVtID4gMSkge1xuICAgIHJldHVybiAyNTU7XG4gIH1cbiAgcmV0dXJuIE1hdGgucm91bmQobnVtICogMjU1KTtcbn1cblxuZnVuY3Rpb24gcGFyc2VQZXJjZW50YWdlKHN0cjogc3RyaW5nKTogbnVtYmVyIHtcbiAgLy8gcGFyc2VGbG9hdCBjb252ZW5pZW50bHkgaWdub3JlcyB0aGUgZmluYWwgJVxuICBjb25zdCBpbnQgPSBwYXJzZUZsb2F0KHN0cik7XG4gIGlmIChpbnQgPCAwKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgaWYgKGludCA+IDEwMCkge1xuICAgIHJldHVybiAxO1xuICB9XG4gIHJldHVybiBpbnQgLyAxMDA7XG59XG5cbmNvbnN0IG5hbWVzID0ge1xuICB0cmFuc3BhcmVudDogMHgwMDAwMDAwMCxcblxuICAvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9jc3MzLWNvbG9yLyNzdmctY29sb3JcbiAgYWxpY2VibHVlOiAweGYwZjhmZmZmLFxuICBhbnRpcXVld2hpdGU6IDB4ZmFlYmQ3ZmYsXG4gIGFxdWE6IDB4MDBmZmZmZmYsXG4gIGFxdWFtYXJpbmU6IDB4N2ZmZmQ0ZmYsXG4gIGF6dXJlOiAweGYwZmZmZmZmLFxuICBiZWlnZTogMHhmNWY1ZGNmZixcbiAgYmlzcXVlOiAweGZmZTRjNGZmLFxuICBibGFjazogMHgwMDAwMDBmZixcbiAgYmxhbmNoZWRhbG1vbmQ6IDB4ZmZlYmNkZmYsXG4gIGJsdWU6IDB4MDAwMGZmZmYsXG4gIGJsdWV2aW9sZXQ6IDB4OGEyYmUyZmYsXG4gIGJyb3duOiAweGE1MmEyYWZmLFxuICBidXJseXdvb2Q6IDB4ZGViODg3ZmYsXG4gIGJ1cm50c2llbm5hOiAweGVhN2U1ZGZmLFxuICBjYWRldGJsdWU6IDB4NWY5ZWEwZmYsXG4gIGNoYXJ0cmV1c2U6IDB4N2ZmZjAwZmYsXG4gIGNob2NvbGF0ZTogMHhkMjY5MWVmZixcbiAgY29yYWw6IDB4ZmY3ZjUwZmYsXG4gIGNvcm5mbG93ZXJibHVlOiAweDY0OTVlZGZmLFxuICBjb3Juc2lsazogMHhmZmY4ZGNmZixcbiAgY3JpbXNvbjogMHhkYzE0M2NmZixcbiAgY3lhbjogMHgwMGZmZmZmZixcbiAgZGFya2JsdWU6IDB4MDAwMDhiZmYsXG4gIGRhcmtjeWFuOiAweDAwOGI4YmZmLFxuICBkYXJrZ29sZGVucm9kOiAweGI4ODYwYmZmLFxuICBkYXJrZ3JheTogMHhhOWE5YTlmZixcbiAgZGFya2dyZWVuOiAweDAwNjQwMGZmLFxuICBkYXJrZ3JleTogMHhhOWE5YTlmZixcbiAgZGFya2toYWtpOiAweGJkYjc2YmZmLFxuICBkYXJrbWFnZW50YTogMHg4YjAwOGJmZixcbiAgZGFya29saXZlZ3JlZW46IDB4NTU2YjJmZmYsXG4gIGRhcmtvcmFuZ2U6IDB4ZmY4YzAwZmYsXG4gIGRhcmtvcmNoaWQ6IDB4OTkzMmNjZmYsXG4gIGRhcmtyZWQ6IDB4OGIwMDAwZmYsXG4gIGRhcmtzYWxtb246IDB4ZTk5NjdhZmYsXG4gIGRhcmtzZWFncmVlbjogMHg4ZmJjOGZmZixcbiAgZGFya3NsYXRlYmx1ZTogMHg0ODNkOGJmZixcbiAgZGFya3NsYXRlZ3JheTogMHgyZjRmNGZmZixcbiAgZGFya3NsYXRlZ3JleTogMHgyZjRmNGZmZixcbiAgZGFya3R1cnF1b2lzZTogMHgwMGNlZDFmZixcbiAgZGFya3Zpb2xldDogMHg5NDAwZDNmZixcbiAgZGVlcHBpbms6IDB4ZmYxNDkzZmYsXG4gIGRlZXBza3libHVlOiAweDAwYmZmZmZmLFxuICBkaW1ncmF5OiAweDY5Njk2OWZmLFxuICBkaW1ncmV5OiAweDY5Njk2OWZmLFxuICBkb2RnZXJibHVlOiAweDFlOTBmZmZmLFxuICBmaXJlYnJpY2s6IDB4YjIyMjIyZmYsXG4gIGZsb3JhbHdoaXRlOiAweGZmZmFmMGZmLFxuICBmb3Jlc3RncmVlbjogMHgyMjhiMjJmZixcbiAgZnVjaHNpYTogMHhmZjAwZmZmZixcbiAgZ2FpbnNib3JvOiAweGRjZGNkY2ZmLFxuICBnaG9zdHdoaXRlOiAweGY4ZjhmZmZmLFxuICBnb2xkOiAweGZmZDcwMGZmLFxuICBnb2xkZW5yb2Q6IDB4ZGFhNTIwZmYsXG4gIGdyYXk6IDB4ODA4MDgwZmYsXG4gIGdyZWVuOiAweDAwODAwMGZmLFxuICBncmVlbnllbGxvdzogMHhhZGZmMmZmZixcbiAgZ3JleTogMHg4MDgwODBmZixcbiAgaG9uZXlkZXc6IDB4ZjBmZmYwZmYsXG4gIGhvdHBpbms6IDB4ZmY2OWI0ZmYsXG4gIGluZGlhbnJlZDogMHhjZDVjNWNmZixcbiAgaW5kaWdvOiAweDRiMDA4MmZmLFxuICBpdm9yeTogMHhmZmZmZjBmZixcbiAga2hha2k6IDB4ZjBlNjhjZmYsXG4gIGxhdmVuZGVyOiAweGU2ZTZmYWZmLFxuICBsYXZlbmRlcmJsdXNoOiAweGZmZjBmNWZmLFxuICBsYXduZ3JlZW46IDB4N2NmYzAwZmYsXG4gIGxlbW9uY2hpZmZvbjogMHhmZmZhY2RmZixcbiAgbGlnaHRibHVlOiAweGFkZDhlNmZmLFxuICBsaWdodGNvcmFsOiAweGYwODA4MGZmLFxuICBsaWdodGN5YW46IDB4ZTBmZmZmZmYsXG4gIGxpZ2h0Z29sZGVucm9keWVsbG93OiAweGZhZmFkMmZmLFxuICBsaWdodGdyYXk6IDB4ZDNkM2QzZmYsXG4gIGxpZ2h0Z3JlZW46IDB4OTBlZTkwZmYsXG4gIGxpZ2h0Z3JleTogMHhkM2QzZDNmZixcbiAgbGlnaHRwaW5rOiAweGZmYjZjMWZmLFxuICBsaWdodHNhbG1vbjogMHhmZmEwN2FmZixcbiAgbGlnaHRzZWFncmVlbjogMHgyMGIyYWFmZixcbiAgbGlnaHRza3libHVlOiAweDg3Y2VmYWZmLFxuICBsaWdodHNsYXRlZ3JheTogMHg3Nzg4OTlmZixcbiAgbGlnaHRzbGF0ZWdyZXk6IDB4Nzc4ODk5ZmYsXG4gIGxpZ2h0c3RlZWxibHVlOiAweGIwYzRkZWZmLFxuICBsaWdodHllbGxvdzogMHhmZmZmZTBmZixcbiAgbGltZTogMHgwMGZmMDBmZixcbiAgbGltZWdyZWVuOiAweDMyY2QzMmZmLFxuICBsaW5lbjogMHhmYWYwZTZmZixcbiAgbWFnZW50YTogMHhmZjAwZmZmZixcbiAgbWFyb29uOiAweDgwMDAwMGZmLFxuICBtZWRpdW1hcXVhbWFyaW5lOiAweDY2Y2RhYWZmLFxuICBtZWRpdW1ibHVlOiAweDAwMDBjZGZmLFxuICBtZWRpdW1vcmNoaWQ6IDB4YmE1NWQzZmYsXG4gIG1lZGl1bXB1cnBsZTogMHg5MzcwZGJmZixcbiAgbWVkaXVtc2VhZ3JlZW46IDB4M2NiMzcxZmYsXG4gIG1lZGl1bXNsYXRlYmx1ZTogMHg3YjY4ZWVmZixcbiAgbWVkaXVtc3ByaW5nZ3JlZW46IDB4MDBmYTlhZmYsXG4gIG1lZGl1bXR1cnF1b2lzZTogMHg0OGQxY2NmZixcbiAgbWVkaXVtdmlvbGV0cmVkOiAweGM3MTU4NWZmLFxuICBtaWRuaWdodGJsdWU6IDB4MTkxOTcwZmYsXG4gIG1pbnRjcmVhbTogMHhmNWZmZmFmZixcbiAgbWlzdHlyb3NlOiAweGZmZTRlMWZmLFxuICBtb2NjYXNpbjogMHhmZmU0YjVmZixcbiAgbmF2YWpvd2hpdGU6IDB4ZmZkZWFkZmYsXG4gIG5hdnk6IDB4MDAwMDgwZmYsXG4gIG9sZGxhY2U6IDB4ZmRmNWU2ZmYsXG4gIG9saXZlOiAweDgwODAwMGZmLFxuICBvbGl2ZWRyYWI6IDB4NmI4ZTIzZmYsXG4gIG9yYW5nZTogMHhmZmE1MDBmZixcbiAgb3JhbmdlcmVkOiAweGZmNDUwMGZmLFxuICBvcmNoaWQ6IDB4ZGE3MGQ2ZmYsXG4gIHBhbGVnb2xkZW5yb2Q6IDB4ZWVlOGFhZmYsXG4gIHBhbGVncmVlbjogMHg5OGZiOThmZixcbiAgcGFsZXR1cnF1b2lzZTogMHhhZmVlZWVmZixcbiAgcGFsZXZpb2xldHJlZDogMHhkYjcwOTNmZixcbiAgcGFwYXlhd2hpcDogMHhmZmVmZDVmZixcbiAgcGVhY2hwdWZmOiAweGZmZGFiOWZmLFxuICBwZXJ1OiAweGNkODUzZmZmLFxuICBwaW5rOiAweGZmYzBjYmZmLFxuICBwbHVtOiAweGRkYTBkZGZmLFxuICBwb3dkZXJibHVlOiAweGIwZTBlNmZmLFxuICBwdXJwbGU6IDB4ODAwMDgwZmYsXG4gIHJlYmVjY2FwdXJwbGU6IDB4NjYzMzk5ZmYsXG4gIHJlZDogMHhmZjAwMDBmZixcbiAgcm9zeWJyb3duOiAweGJjOGY4ZmZmLFxuICByb3lhbGJsdWU6IDB4NDE2OWUxZmYsXG4gIHNhZGRsZWJyb3duOiAweDhiNDUxM2ZmLFxuICBzYWxtb246IDB4ZmE4MDcyZmYsXG4gIHNhbmR5YnJvd246IDB4ZjRhNDYwZmYsXG4gIHNlYWdyZWVuOiAweDJlOGI1N2ZmLFxuICBzZWFzaGVsbDogMHhmZmY1ZWVmZixcbiAgc2llbm5hOiAweGEwNTIyZGZmLFxuICBzaWx2ZXI6IDB4YzBjMGMwZmYsXG4gIHNreWJsdWU6IDB4ODdjZWViZmYsXG4gIHNsYXRlYmx1ZTogMHg2YTVhY2RmZixcbiAgc2xhdGVncmF5OiAweDcwODA5MGZmLFxuICBzbGF0ZWdyZXk6IDB4NzA4MDkwZmYsXG4gIHNub3c6IDB4ZmZmYWZhZmYsXG4gIHNwcmluZ2dyZWVuOiAweDAwZmY3ZmZmLFxuICBzdGVlbGJsdWU6IDB4NDY4MmI0ZmYsXG4gIHRhbjogMHhkMmI0OGNmZixcbiAgdGVhbDogMHgwMDgwODBmZixcbiAgdGhpc3RsZTogMHhkOGJmZDhmZixcbiAgdG9tYXRvOiAweGZmNjM0N2ZmLFxuICB0dXJxdW9pc2U6IDB4NDBlMGQwZmYsXG4gIHZpb2xldDogMHhlZTgyZWVmZixcbiAgd2hlYXQ6IDB4ZjVkZWIzZmYsXG4gIHdoaXRlOiAweGZmZmZmZmZmLFxuICB3aGl0ZXNtb2tlOiAweGY1ZjVmNWZmLFxuICB5ZWxsb3c6IDB4ZmZmZjAwZmYsXG4gIHllbGxvd2dyZWVuOiAweDlhY2QzMmZmLFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBub3JtYWxpemVDb2xvcjtcbiJdfQ==