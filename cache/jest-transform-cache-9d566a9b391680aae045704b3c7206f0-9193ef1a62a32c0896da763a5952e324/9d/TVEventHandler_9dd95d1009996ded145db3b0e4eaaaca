110485597cc8fc4803b02eb1a9eddf66










'use strict';

var Platform = require('Platform');
var TVNavigationEventEmitter = require('NativeModules').
TVNavigationEventEmitter;
var NativeEventEmitter = require('NativeEventEmitter');

function TVEventHandler() {
  this.__nativeTVNavigationEventListener = null;
  this.__nativeTVNavigationEventEmitter = null;
}

TVEventHandler.prototype.enable = function (
component,
callback)
{
  if (Platform.OS === 'ios' && !TVNavigationEventEmitter) {
    return;
  }

  this.__nativeTVNavigationEventEmitter = new NativeEventEmitter(
  TVNavigationEventEmitter);

  this.__nativeTVNavigationEventListener = this.__nativeTVNavigationEventEmitter.addListener(
  'onHWKeyEvent',
  function (data) {
    if (callback) {
      callback(component, data);
    }
  });

};

TVEventHandler.prototype.disable = function () {
  if (this.__nativeTVNavigationEventListener) {
    this.__nativeTVNavigationEventListener.remove();
    delete this.__nativeTVNavigationEventListener;
  }
  if (this.__nativeTVNavigationEventEmitter) {
    delete this.__nativeTVNavigationEventEmitter;
  }
};

module.exports = TVEventHandler;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRWRXZlbnRIYW5kbGVyLmpzIl0sIm5hbWVzIjpbIlBsYXRmb3JtIiwicmVxdWlyZSIsIlRWTmF2aWdhdGlvbkV2ZW50RW1pdHRlciIsIk5hdGl2ZUV2ZW50RW1pdHRlciIsIlRWRXZlbnRIYW5kbGVyIiwiX19uYXRpdmVUVk5hdmlnYXRpb25FdmVudExpc3RlbmVyIiwiX19uYXRpdmVUVk5hdmlnYXRpb25FdmVudEVtaXR0ZXIiLCJwcm90b3R5cGUiLCJlbmFibGUiLCJjb21wb25lbnQiLCJjYWxsYmFjayIsIk9TIiwiYWRkTGlzdGVuZXIiLCJkYXRhIiwiZGlzYWJsZSIsInJlbW92ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFVQTs7QUFFQSxJQUFNQSxXQUFXQyxRQUFRLFVBQVIsQ0FBakI7QUFDQSxJQUFNQywyQkFBMkJELFFBQVEsZUFBUjtBQUM5QkMsd0JBREg7QUFFQSxJQUFNQyxxQkFBcUJGLFFBQVEsb0JBQVIsQ0FBM0I7O0FBRUEsU0FBU0csY0FBVCxHQUEwQjtBQUN4QixPQUFLQyxpQ0FBTCxHQUF5QyxJQUF6QztBQUNBLE9BQUtDLGdDQUFMLEdBQXdDLElBQXhDO0FBQ0Q7O0FBRURGLGVBQWVHLFNBQWYsQ0FBeUJDLE1BQXpCLEdBQWtDO0FBQ2hDQyxTQURnQztBQUVoQ0MsUUFGZ0M7QUFHaEM7QUFDQSxNQUFJVixTQUFTVyxFQUFULEtBQWdCLEtBQWhCLElBQXlCLENBQUNULHdCQUE5QixFQUF3RDtBQUN0RDtBQUNEOztBQUVELE9BQUtJLGdDQUFMLEdBQXdDLElBQUlILGtCQUFKO0FBQ3RDRCwwQkFEc0MsQ0FBeEM7O0FBR0EsT0FBS0csaUNBQUwsR0FBeUMsS0FBS0MsZ0NBQUwsQ0FBc0NNLFdBQXRDO0FBQ3ZDLGdCQUR1QztBQUV2QyxrQkFBUTtBQUNOLFFBQUlGLFFBQUosRUFBYztBQUNaQSxlQUFTRCxTQUFULEVBQW9CSSxJQUFwQjtBQUNEO0FBQ0YsR0FOc0MsQ0FBekM7O0FBUUQsQ0FuQkQ7O0FBcUJBVCxlQUFlRyxTQUFmLENBQXlCTyxPQUF6QixHQUFtQyxZQUFXO0FBQzVDLE1BQUksS0FBS1QsaUNBQVQsRUFBNEM7QUFDMUMsU0FBS0EsaUNBQUwsQ0FBdUNVLE1BQXZDO0FBQ0EsV0FBTyxLQUFLVixpQ0FBWjtBQUNEO0FBQ0QsTUFBSSxLQUFLQyxnQ0FBVCxFQUEyQztBQUN6QyxXQUFPLEtBQUtBLGdDQUFaO0FBQ0Q7QUFDRixDQVJEOztBQVVBVSxPQUFPQyxPQUFQLEdBQWlCYixjQUFqQiIsImZpbGUiOiJUVkV2ZW50SGFuZGxlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZvcm1hdFxuICogQGZsb3dcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IFBsYXRmb3JtID0gcmVxdWlyZSgnUGxhdGZvcm0nKTtcbmNvbnN0IFRWTmF2aWdhdGlvbkV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ05hdGl2ZU1vZHVsZXMnKVxuICAuVFZOYXZpZ2F0aW9uRXZlbnRFbWl0dGVyO1xuY29uc3QgTmF0aXZlRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnTmF0aXZlRXZlbnRFbWl0dGVyJyk7XG5cbmZ1bmN0aW9uIFRWRXZlbnRIYW5kbGVyKCkge1xuICB0aGlzLl9fbmF0aXZlVFZOYXZpZ2F0aW9uRXZlbnRMaXN0ZW5lciA9IG51bGw7XG4gIHRoaXMuX19uYXRpdmVUVk5hdmlnYXRpb25FdmVudEVtaXR0ZXIgPSBudWxsO1xufVxuXG5UVkV2ZW50SGFuZGxlci5wcm90b3R5cGUuZW5hYmxlID0gZnVuY3Rpb24oXG4gIGNvbXBvbmVudDogP2FueSxcbiAgY2FsbGJhY2s6IEZ1bmN0aW9uLFxuKSB7XG4gIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2lvcycgJiYgIVRWTmF2aWdhdGlvbkV2ZW50RW1pdHRlcikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuX19uYXRpdmVUVk5hdmlnYXRpb25FdmVudEVtaXR0ZXIgPSBuZXcgTmF0aXZlRXZlbnRFbWl0dGVyKFxuICAgIFRWTmF2aWdhdGlvbkV2ZW50RW1pdHRlcixcbiAgKTtcbiAgdGhpcy5fX25hdGl2ZVRWTmF2aWdhdGlvbkV2ZW50TGlzdGVuZXIgPSB0aGlzLl9fbmF0aXZlVFZOYXZpZ2F0aW9uRXZlbnRFbWl0dGVyLmFkZExpc3RlbmVyKFxuICAgICdvbkhXS2V5RXZlbnQnLFxuICAgIGRhdGEgPT4ge1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrKGNvbXBvbmVudCwgZGF0YSk7XG4gICAgICB9XG4gICAgfSxcbiAgKTtcbn07XG5cblRWRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5kaXNhYmxlID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLl9fbmF0aXZlVFZOYXZpZ2F0aW9uRXZlbnRMaXN0ZW5lcikge1xuICAgIHRoaXMuX19uYXRpdmVUVk5hdmlnYXRpb25FdmVudExpc3RlbmVyLnJlbW92ZSgpO1xuICAgIGRlbGV0ZSB0aGlzLl9fbmF0aXZlVFZOYXZpZ2F0aW9uRXZlbnRMaXN0ZW5lcjtcbiAgfVxuICBpZiAodGhpcy5fX25hdGl2ZVRWTmF2aWdhdGlvbkV2ZW50RW1pdHRlcikge1xuICAgIGRlbGV0ZSB0aGlzLl9fbmF0aXZlVFZOYXZpZ2F0aW9uRXZlbnRFbWl0dGVyO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRWRXZlbnRIYW5kbGVyO1xuIl19