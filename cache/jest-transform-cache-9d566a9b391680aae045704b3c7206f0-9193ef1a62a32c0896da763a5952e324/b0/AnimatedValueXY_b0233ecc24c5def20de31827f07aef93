d747d5920e551baa3a1be70d3995a988









'use strict';var _createClass = function () {function defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}return function (Constructor, protoProps, staticProps) {if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;};}();function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self, call) {if (!self) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call && (typeof call === "object" || typeof call === "function") ? call : self;}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;}

var AnimatedValue = require('./AnimatedValue');
var AnimatedWithChildren = require('./AnimatedWithChildren');

var invariant = require('fbjs/lib/invariant');



var _uniqueId = 1;var







AnimatedValueXY = function (_AnimatedWithChildren) {_inherits(AnimatedValueXY, _AnimatedWithChildren);




  function AnimatedValueXY(
  valueIn)
  {_classCallCheck(this, AnimatedValueXY);var _this = _possibleConstructorReturn(this, (AnimatedValueXY.__proto__ || Object.getPrototypeOf(AnimatedValueXY)).call(this));

    var value = valueIn || { x: 0, y: 0 };
    if (typeof value.x === 'number' && typeof value.y === 'number') {
      _this.x = new AnimatedValue(value.x);
      _this.y = new AnimatedValue(value.y);
    } else {
      invariant(
      value.x instanceof AnimatedValue && value.y instanceof AnimatedValue,
      'AnimatedValueXY must be initialized with an object of numbers or ' +
      'AnimatedValues.');

      _this.x = value.x;
      _this.y = value.y;
    }
    _this._listeners = {};return _this;
  }_createClass(AnimatedValueXY, [{ key: 'setValue', value: function setValue(







    value) {
      this.x.setValue(value.x);
      this.y.setValue(value.y);
    } }, { key: 'setOffset', value: function setOffset(








    offset) {
      this.x.setOffset(offset.x);
      this.y.setOffset(offset.y);
    } }, { key: 'flattenOffset', value: function flattenOffset()







    {
      this.x.flattenOffset();
      this.y.flattenOffset();
    } }, { key: 'extractOffset', value: function extractOffset()







    {
      this.x.extractOffset();
      this.y.extractOffset();
    } }, { key: '__getValue', value: function __getValue()

    {
      return {
        x: this.x.__getValue(),
        y: this.y.__getValue() };

    } }, { key: 'resetAnimation', value: function resetAnimation(






    callback) {
      this.x.resetAnimation();
      this.y.resetAnimation();
      callback && callback(this.__getValue());
    } }, { key: 'stopAnimation', value: function stopAnimation(








    callback) {
      this.x.stopAnimation();
      this.y.stopAnimation();
      callback && callback(this.__getValue());
    } }, { key: 'addListener', value: function addListener(










    callback) {var _this2 = this;
      var id = String(_uniqueId++);
      var jointCallback = function jointCallback(_ref) {var number = _ref.value;
        callback(_this2.__getValue());
      };
      this._listeners[id] = {
        x: this.x.addListener(jointCallback),
        y: this.y.addListener(jointCallback) };

      return id;
    } }, { key: 'removeListener', value: function removeListener(







    id) {
      this.x.removeListener(this._listeners[id].x);
      this.y.removeListener(this._listeners[id].y);
      delete this._listeners[id];
    } }, { key: 'removeAllListeners', value: function removeAllListeners()






    {
      this.x.removeAllListeners();
      this.y.removeAllListeners();
      this._listeners = {};
    } }, { key: 'getLayout', value: function getLayout()






    {
      return {
        left: this.x,
        top: this.y };

    } }, { key: 'getTranslateTransform', value: function getTranslateTransform()






    {
      return [{ translateX: this.x }, { translateY: this.y }];
    } }]);return AnimatedValueXY;}(AnimatedWithChildren);


module.exports = AnimatedValueXY;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFuaW1hdGVkVmFsdWVYWS5qcyJdLCJuYW1lcyI6WyJBbmltYXRlZFZhbHVlIiwicmVxdWlyZSIsIkFuaW1hdGVkV2l0aENoaWxkcmVuIiwiaW52YXJpYW50IiwiX3VuaXF1ZUlkIiwiQW5pbWF0ZWRWYWx1ZVhZIiwidmFsdWVJbiIsInZhbHVlIiwieCIsInkiLCJfbGlzdGVuZXJzIiwic2V0VmFsdWUiLCJvZmZzZXQiLCJzZXRPZmZzZXQiLCJmbGF0dGVuT2Zmc2V0IiwiZXh0cmFjdE9mZnNldCIsIl9fZ2V0VmFsdWUiLCJjYWxsYmFjayIsInJlc2V0QW5pbWF0aW9uIiwic3RvcEFuaW1hdGlvbiIsImlkIiwiU3RyaW5nIiwiam9pbnRDYWxsYmFjayIsIm51bWJlciIsImFkZExpc3RlbmVyIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJsZWZ0IiwidG9wIiwidHJhbnNsYXRlWCIsInRyYW5zbGF0ZVkiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFTQSxhOztBQUVBLElBQU1BLGdCQUFnQkMsUUFBUSxpQkFBUixDQUF0QjtBQUNBLElBQU1DLHVCQUF1QkQsUUFBUSx3QkFBUixDQUE3Qjs7QUFFQSxJQUFNRSxZQUFZRixRQUFRLG9CQUFSLENBQWxCOzs7O0FBSUEsSUFBSUcsWUFBWSxDQUFoQixDOzs7Ozs7OztBQVFNQyxlOzs7OztBQUtKO0FBQ0VDLFNBREY7QUFFRTs7QUFFQSxRQUFNQyxRQUFhRCxXQUFXLEVBQUNFLEdBQUcsQ0FBSixFQUFPQyxHQUFHLENBQVYsRUFBOUI7QUFDQSxRQUFJLE9BQU9GLE1BQU1DLENBQWIsS0FBbUIsUUFBbkIsSUFBK0IsT0FBT0QsTUFBTUUsQ0FBYixLQUFtQixRQUF0RCxFQUFnRTtBQUM5RCxZQUFLRCxDQUFMLEdBQVMsSUFBSVIsYUFBSixDQUFrQk8sTUFBTUMsQ0FBeEIsQ0FBVDtBQUNBLFlBQUtDLENBQUwsR0FBUyxJQUFJVCxhQUFKLENBQWtCTyxNQUFN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QVA7QUFDRCxLLDhCQXBLMkJQLG9COzs7QUF1SzlCNkIsT0FBT0MsT0FBUCxHQUFpQjNCLGVBQWpCIiwiZmlsZSI6IkFuaW1hdGVkVmFsdWVYWS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZsb3dcbiAqIEBmb3JtYXRcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBBbmltYXRlZFZhbHVlID0gcmVxdWlyZSgnLi9BbmltYXRlZFZhbHVlJyk7XG5jb25zdCBBbmltYXRlZFdpdGhDaGlsZHJlbiA9IHJlcXVpcmUoJy4vQW5pbWF0ZWRXaXRoQ2hpbGRyZW4nKTtcblxuY29uc3QgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG5cbnR5cGUgVmFsdWVYWUxpc3RlbmVyQ2FsbGJhY2sgPSAodmFsdWU6IHt4OiBudW1iZXIsIHk6IG51bWJlcn0pID0+IHZvaWQ7XG5cbmxldCBfdW5pcXVlSWQgPSAxO1xuXG4vKipcbiAqIDJEIFZhbHVlIGZvciBkcml2aW5nIDJEIGFuaW1hdGlvbnMsIHN1Y2ggYXMgcGFuIGdlc3R1cmVzLiBBbG1vc3QgaWRlbnRpY2FsXG4gKiBBUEkgdG8gbm9ybWFsIGBBbmltYXRlZC5WYWx1ZWAsIGJ1dCBtdWx0aXBsZXhlZC5cbiAqXG4gKiBTZWUgaHR0cDovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9hbmltYXRlZHZhbHVleHkuaHRtbFxuICovXG5jbGFzcyBBbmltYXRlZFZhbHVlWFkgZXh0ZW5kcyBBbmltYXRlZFdpdGhDaGlsZHJlbiB7XG4gIHg6IEFuaW1hdGVkVmFsdWU7XG4gIHk6IEFuaW1hdGVkVmFsdWU7XG4gIF9saXN0ZW5lcnM6IHtba2V5OiBzdHJpbmddOiB7eDogc3RyaW5nLCB5OiBzdHJpbmd9fTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICB2YWx1ZUluPzogP3sreDogbnVtYmVyIHwgQW5pbWF0ZWRWYWx1ZSwgK3k6IG51bWJlciB8IEFuaW1hdGVkVmFsdWV9LFxuICApIHtcbiAgICBzdXBlcigpO1xuICAgIGNvbnN0IHZhbHVlOiBhbnkgPSB2YWx1ZUluIHx8IHt4OiAwLCB5OiAwfTsgLy8gQGZsb3dmaXhtZTogc2hvdWxkbid0IG5lZWQgYDogYW55YFxuICAgIGlmICh0eXBlb2YgdmFsdWUueCA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHZhbHVlLnkgPT09ICdudW1iZXInKSB7XG4gICAgICB0aGlzLnggPSBuZXcgQW5pbWF0ZWRWYWx1ZSh2YWx1ZS54KTtcbiAgICAgIHRoaXMueSA9IG5ldyBBbmltYXRlZFZhbHVlKHZhbHVlLnkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgIHZhbHVlLnggaW5zdGFuY2VvZiBBbmltYXRlZFZhbHVlICYmIHZhbHVlLnkgaW5zdGFuY2VvZiBBbmltYXRlZFZhbHVlLFxuICAgICAgICAnQW5pbWF0ZWRWYWx1ZVhZIG11c3QgYmUgaW5pdGlhbGl6ZWQgd2l0aCBhbiBvYmplY3Qgb2YgbnVtYmVycyBvciAnICtcbiAgICAgICAgICAnQW5pbWF0ZWRWYWx1ZXMuJyxcbiAgICAgICk7XG4gICAgICB0aGlzLnggPSB2YWx1ZS54O1xuICAgICAgdGhpcy55ID0gdmFsdWUueTtcbiAgICB9XG4gICAgdGhpcy5fbGlzdGVuZXJzID0ge307XG4gIH1cblxuICAvKipcbiAgICogRGlyZWN0bHkgc2V0IHRoZSB2YWx1ZS4gVGhpcyB3aWxsIHN0b3AgYW55IGFuaW1hdGlvbnMgcnVubmluZyBvbiB0aGUgdmFsdWVcbiAgICogYW5kIHVwZGF0ZSBhbGwgdGhlIGJvdW5kIHByb3BlcnRpZXMuXG4gICAqXG4gICAqIFNlZSBodHRwOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2FuaW1hdGVkdmFsdWV4eS5odG1sI3NldHZhbHVlXG4gICAqL1xuICBzZXRWYWx1ZSh2YWx1ZToge3g6IG51bWJlciwgeTogbnVtYmVyfSkge1xuICAgIHRoaXMueC5zZXRWYWx1ZSh2YWx1ZS54KTtcbiAgICB0aGlzLnkuc2V0VmFsdWUodmFsdWUueSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyBhbiBvZmZzZXQgdGhhdCBpcyBhcHBsaWVkIG9uIHRvcCBvZiB3aGF0ZXZlciB2YWx1ZSBpcyBzZXQsIHdoZXRoZXJcbiAgICogdmlhIGBzZXRWYWx1ZWAsIGFuIGFuaW1hdGlvbiwgb3IgYEFuaW1hdGVkLmV2ZW50YC4gVXNlZnVsIGZvciBjb21wZW5zYXRpbmdcbiAgICogdGhpbmdzIGxpa2UgdGhlIHN0YXJ0IG9mIGEgcGFuIGdlc3R1cmUuXG4gICAqXG4gICAqIFNlZSBodHRwOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2FuaW1hdGVkdmFsdWV4eS5odG1sI3NldG9mZnNldFxuICAgKi9cbiAgc2V0T2Zmc2V0KG9mZnNldDoge3g6IG51bWJlciwgeTogbnVtYmVyfSkge1xuICAgIHRoaXMueC5zZXRPZmZzZXQob2Zmc2V0LngpO1xuICAgIHRoaXMueS5zZXRPZmZzZXQob2Zmc2V0LnkpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1lcmdlcyB0aGUgb2Zmc2V0IHZhbHVlIGludG8gdGhlIGJhc2UgdmFsdWUgYW5kIHJlc2V0cyB0aGUgb2Zmc2V0IHRvIHplcm8uXG4gICAqIFRoZSBmaW5hbCBvdXRwdXQgb2YgdGhlIHZhbHVlIGlzIHVuY2hhbmdlZC5cbiAgICpcbiAgICogU2VlIGh0dHA6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QtbmF0aXZlL2RvY3MvYW5pbWF0ZWR2YWx1ZXh5Lmh0bWwjZmxhdHRlbm9mZnNldFxuICAgKi9cbiAgZmxhdHRlbk9mZnNldCgpOiB2b2lkIHtcbiAgICB0aGlzLnguZmxhdHRlbk9mZnNldCgpO1xuICAgIHRoaXMueS5mbGF0dGVuT2Zmc2V0KCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgb2Zmc2V0IHZhbHVlIHRvIHRoZSBiYXNlIHZhbHVlLCBhbmQgcmVzZXRzIHRoZSBiYXNlIHZhbHVlIHRvXG4gICAqIHplcm8uIFRoZSBmaW5hbCBvdXRwdXQgb2YgdGhlIHZhbHVlIGlzIHVuY2hhbmdlZC5cbiAgICpcbiAgICogU2VlIGh0dHA6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QtbmF0aXZlL2RvY3MvYW5pbWF0ZWR2YWx1ZXh5Lmh0bWwjZXh0cmFjdG9mZnNldFxuICAgKi9cbiAgZXh0cmFjdE9mZnNldCgpOiB2b2lkIHtcbiAgICB0aGlzLnguZXh0cmFjdE9mZnNldCgpO1xuICAgIHRoaXMueS5leHRyYWN0T2Zmc2V0KCk7XG4gIH1cblxuICBfX2dldFZhbHVlKCk6IHt4OiBudW1iZXIsIHk6IG51bWJlcn0ge1xuICAgIHJldHVybiB7XG4gICAgICB4OiB0aGlzLnguX19nZXRWYWx1ZSgpLFxuICAgICAgeTogdGhpcy55Ll9fZ2V0VmFsdWUoKSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFN0b3BzIGFueSBhbmltYXRpb24gYW5kIHJlc2V0cyB0aGUgdmFsdWUgdG8gaXRzIG9yaWdpbmFsLlxuICAgKlxuICAgKiBTZWUgaHR0cDovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9hbmltYXRlZHZhbHVleHkuaHRtbCNyZXNldGFuaW1hdGlvblxuICAgKi9cbiAgcmVzZXRBbmltYXRpb24oY2FsbGJhY2s/OiAodmFsdWU6IHt4OiBudW1iZXIsIHk6IG51bWJlcn0pID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLngucmVzZXRBbmltYXRpb24oKTtcbiAgICB0aGlzLnkucmVzZXRBbmltYXRpb24oKTtcbiAgICBjYWxsYmFjayAmJiBjYWxsYmFjayh0aGlzLl9fZ2V0VmFsdWUoKSk7XG4gIH1cblxuICAvKipcbiAgICogU3RvcHMgYW55IHJ1bm5pbmcgYW5pbWF0aW9uIG9yIHRyYWNraW5nLiBgY2FsbGJhY2tgIGlzIGludm9rZWQgd2l0aCB0aGVcbiAgICogZmluYWwgdmFsdWUgYWZ0ZXIgc3RvcHBpbmcgdGhlIGFuaW1hdGlvbiwgd2hpY2ggaXMgdXNlZnVsIGZvciB1cGRhdGluZ1xuICAgKiBzdGF0ZSB0byBtYXRjaCB0aGUgYW5pbWF0aW9uIHBvc2l0aW9uIHdpdGggbGF5b3V0LlxuICAgKlxuICAgKiBTZWUgaHR0cDovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9hbmltYXRlZHZhbHVleHkuaHRtbCNzdG9wYW5pbWF0aW9uXG4gICAqL1xuICBzdG9wQW5pbWF0aW9uKGNhbGxiYWNrPzogKHZhbHVlOiB7eDogbnVtYmVyLCB5OiBudW1iZXJ9KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy54LnN0b3BBbmltYXRpb24oKTtcbiAgICB0aGlzLnkuc3RvcEFuaW1hdGlvbigpO1xuICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHRoaXMuX19nZXRWYWx1ZSgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGFuIGFzeW5jaHJvbm91cyBsaXN0ZW5lciB0byB0aGUgdmFsdWUgc28geW91IGNhbiBvYnNlcnZlIHVwZGF0ZXMgZnJvbVxuICAgKiBhbmltYXRpb25zLiAgVGhpcyBpcyB1c2VmdWwgYmVjYXVzZSB0aGVyZSBpcyBubyB3YXkgdG8gc3luY2hyb25vdXNseSByZWFkXG4gICAqIHRoZSB2YWx1ZSBiZWNhdXNlIGl0IG1pZ2h0IGJlIGRyaXZlbiBuYXRpdmVseS5cbiAgICpcbiAgICogUmV0dXJucyBhIHN0cmluZyB0aGF0IHNlcnZlcyBhcyBhbiBpZGVudGlmaWVyIGZvciB0aGUgbGlzdGVuZXIuXG4gICAqXG4gICAqIFNlZSBodHRwOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2FuaW1hdGVkdmFsdWV4eS5odG1sI2FkZGxpc3RlbmVyXG4gICAqL1xuICBhZGRMaXN0ZW5lcihjYWxsYmFjazogVmFsdWVYWUxpc3RlbmVyQ2FsbGJhY2spOiBzdHJpbmcge1xuICAgIGNvbnN0IGlkID0gU3RyaW5nKF91bmlxdWVJZCsrKTtcbiAgICBjb25zdCBqb2ludENhbGxiYWNrID0gKHt2YWx1ZTogbnVtYmVyfSkgPT4ge1xuICAgICAgY2FsbGJhY2sodGhpcy5fX2dldFZhbHVlKCkpO1xuICAgIH07XG4gICAgdGhpcy5fbGlzdGVuZXJzW2lkXSA9IHtcbiAgICAgIHg6IHRoaXMueC5hZGRMaXN0ZW5lcihqb2ludENhbGxiYWNrKSxcbiAgICAgIHk6IHRoaXMueS5hZGRMaXN0ZW5lcihqb2ludENhbGxiYWNrKSxcbiAgICB9O1xuICAgIHJldHVybiBpZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVbnJlZ2lzdGVyIGEgbGlzdGVuZXIuIFRoZSBgaWRgIHBhcmFtIHNoYWxsIG1hdGNoIHRoZSBpZGVudGlmaWVyXG4gICAqIHByZXZpb3VzbHkgcmV0dXJuZWQgYnkgYGFkZExpc3RlbmVyKClgLlxuICAgKlxuICAgKiBTZWUgaHR0cDovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9hbmltYXRlZHZhbHVleHkuaHRtbCNyZW1vdmVsaXN0ZW5lclxuICAgKi9cbiAgcmVtb3ZlTGlzdGVuZXIoaWQ6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMueC5yZW1vdmVMaXN0ZW5lcih0aGlzLl9saXN0ZW5lcnNbaWRdLngpO1xuICAgIHRoaXMueS5yZW1vdmVMaXN0ZW5lcih0aGlzLl9saXN0ZW5lcnNbaWRdLnkpO1xuICAgIGRlbGV0ZSB0aGlzLl9saXN0ZW5lcnNbaWRdO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbGwgcmVnaXN0ZXJlZCBsaXN0ZW5lcnMuXG4gICAqXG4gICAqIFNlZSBodHRwOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2FuaW1hdGVkdmFsdWV4eS5odG1sI3JlbW92ZWFsbGxpc3RlbmVyc1xuICAgKi9cbiAgcmVtb3ZlQWxsTGlzdGVuZXJzKCk6IHZvaWQge1xuICAgIHRoaXMueC5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLnkucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fbGlzdGVuZXJzID0ge307XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYHt4LCB5fWAgaW50byBge2xlZnQsIHRvcH1gIGZvciB1c2UgaW4gc3R5bGUuXG4gICAqXG4gICAqIFNlZSBodHRwOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2FuaW1hdGVkdmFsdWV4eS5odG1sI2dldGxheW91dFxuICAgKi9cbiAgZ2V0TGF5b3V0KCk6IHtba2V5OiBzdHJpbmddOiBBbmltYXRlZFZhbHVlfSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxlZnQ6IHRoaXMueCxcbiAgICAgIHRvcDogdGhpcy55LFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYHt4LCB5fWAgaW50byBhIHVzZWFibGUgdHJhbnNsYXRpb24gdHJhbnNmb3JtLlxuICAgKlxuICAgKiBTZWUgaHR0cDovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9hbmltYXRlZHZhbHVleHkuaHRtbCNnZXR0cmFuc2xhdGV0cmFuc2Zvcm1cbiAgICovXG4gIGdldFRyYW5zbGF0ZVRyYW5zZm9ybSgpOiBBcnJheTx7W2tleTogc3RyaW5nXTogQW5pbWF0ZWRWYWx1ZX0+IHtcbiAgICByZXR1cm4gW3t0cmFuc2xhdGVYOiB0aGlzLnh9LCB7dHJhbnNsYXRlWTogdGhpcy55fV07XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBBbmltYXRlZFZhbHVlWFk7XG4iXX0=