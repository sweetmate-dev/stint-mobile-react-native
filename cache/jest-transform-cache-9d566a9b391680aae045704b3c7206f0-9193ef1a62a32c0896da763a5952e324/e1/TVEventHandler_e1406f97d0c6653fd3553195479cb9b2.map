{"version":3,"sources":["TVEventHandler.js"],"names":["Platform","require","TVNavigationEventEmitter","NativeEventEmitter","TVEventHandler","__nativeTVNavigationEventListener","__nativeTVNavigationEventEmitter","prototype","enable","component","callback","OS","addListener","data","disable","remove","module","exports"],"mappings":";;;;;;;;;;AAUA;;AAEA,IAAMA,WAAWC,QAAQ,UAAR,CAAjB;AACA,IAAMC,2BAA2BD,QAAQ,eAAR;AAC9BC,wBADH;AAEA,IAAMC,qBAAqBF,QAAQ,oBAAR,CAA3B;;AAEA,SAASG,cAAT,GAA0B;AACxB,OAAKC,iCAAL,GAAyC,IAAzC;AACA,OAAKC,gCAAL,GAAwC,IAAxC;AACD;;AAEDF,eAAeG,SAAf,CAAyBC,MAAzB,GAAkC;AAChCC,SADgC;AAEhCC,QAFgC;AAGhC;AACA,MAAIV,SAASW,EAAT,KAAgB,KAAhB,IAAyB,CAACT,wBAA9B,EAAwD;AACtD;AACD;;AAED,OAAKI,gCAAL,GAAwC,IAAIH,kBAAJ;AACtCD,0BADsC,CAAxC;;AAGA,OAAKG,iCAAL,GAAyC,KAAKC,gCAAL,CAAsCM,WAAtC;AACvC,gBADuC;AAEvC,kBAAQ;AACN,QAAIF,QAAJ,EAAc;AACZA,eAASD,SAAT,EAAoBI,IAApB;AACD;AACF,GANsC,CAAzC;;AAQD,CAnBD;;AAqBAT,eAAeG,SAAf,CAAyBO,OAAzB,GAAmC,YAAW;AAC5C,MAAI,KAAKT,iCAAT,EAA4C;AAC1C,SAAKA,iCAAL,CAAuCU,MAAvC;AACA,WAAO,KAAKV,iCAAZ;AACD;AACD,MAAI,KAAKC,gCAAT,EAA2C;AACzC,WAAO,KAAKA,gCAAZ;AACD;AACF,CARD;;AAUAU,OAAOC,OAAP,GAAiBb,cAAjB","file":"TVEventHandler.js","sourcesContent":["/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @flow\n */\n\n'use strict';\n\nconst Platform = require('Platform');\nconst TVNavigationEventEmitter = require('NativeModules')\n  .TVNavigationEventEmitter;\nconst NativeEventEmitter = require('NativeEventEmitter');\n\nfunction TVEventHandler() {\n  this.__nativeTVNavigationEventListener = null;\n  this.__nativeTVNavigationEventEmitter = null;\n}\n\nTVEventHandler.prototype.enable = function(\n  component: ?any,\n  callback: Function,\n) {\n  if (Platform.OS === 'ios' && !TVNavigationEventEmitter) {\n    return;\n  }\n\n  this.__nativeTVNavigationEventEmitter = new NativeEventEmitter(\n    TVNavigationEventEmitter,\n  );\n  this.__nativeTVNavigationEventListener = this.__nativeTVNavigationEventEmitter.addListener(\n    'onHWKeyEvent',\n    data => {\n      if (callback) {\n        callback(component, data);\n      }\n    },\n  );\n};\n\nTVEventHandler.prototype.disable = function() {\n  if (this.__nativeTVNavigationEventListener) {\n    this.__nativeTVNavigationEventListener.remove();\n    delete this.__nativeTVNavigationEventListener;\n  }\n  if (this.__nativeTVNavigationEventEmitter) {\n    delete this.__nativeTVNavigationEventEmitter;\n  }\n};\n\nmodule.exports = TVEventHandler;\n"]}