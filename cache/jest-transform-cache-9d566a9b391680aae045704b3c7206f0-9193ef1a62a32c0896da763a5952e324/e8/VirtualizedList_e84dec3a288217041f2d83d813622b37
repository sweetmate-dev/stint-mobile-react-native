3ca62ac901fd0b9ae3e0de87a7331fbd









'use strict';var _extends = Object.assign || function (target) {for (var i = 1; i < arguments.length; i++) {var source = arguments[i];for (var key in source) {if (Object.prototype.hasOwnProperty.call(source, key)) {target[key] = source[key];}}}return target;};var _createClass = function () {function defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}return function (Constructor, protoProps, staticProps) {if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;};}();function _defineProperty(obj, key, value) {if (key in obj) {Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });} else {obj[key] = value;}return obj;}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self, call) {if (!self) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call && (typeof call === "object" || typeof call === "function") ? call : self;}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;}

var Batchinator = require('Batchinator');
var FillRateHelper = require('FillRateHelper');
var PropTypes = require('prop-types');
var React = require('React');
var ReactNative = require('ReactNative');
var RefreshControl = require('RefreshControl');
var ScrollView = require('ScrollView');
var StyleSheet = require('StyleSheet');
var UIManager = require('UIManager');
var View = require('View');
var ViewabilityHelper = require('ViewabilityHelper');

var flattenStyle = require('flattenStyle');
var infoLog = require('infoLog');
var invariant = require('fbjs/lib/invariant');



var warning = require('fbjs/lib/warning');var _require =

require('VirtualizeUtils'),computeWindowedRenderLimits = _require.computeWindowedRenderLimits;


































































































































































































var _usedIndexForKey = false;
var _keylessItemComponentName = '';var












































VirtualizedList = function (_React$PureComponent) {_inherits(VirtualizedList, _React$PureComponent);_createClass(VirtualizedList, [{ key: 'scrollToEnd', value: function scrollToEnd(



    params) {
      var animated = params ? params.animated : true;
      var veryLast = this.props.getItemCount(this.props.data) - 1;
      var frame = this._getFrameMetricsApprox(veryLast);
      var offset = Math.max(
      0,
      frame.offset +
      frame.length +
      this._footerLength -
      this._scrollMetrics.visibleLength);




      this._scrollRef.scrollTo(



      this.props.horizontal ? { x: offset, animated: animated } : { y: offset, animated: animated });

    } }, { key: 'scrollToIndex', value: function scrollToIndex(


    params)




    {var _props =






      this.props,data = _props.data,horizontal = _props.horizontal,getItemCount = _props.getItemCount,getItemLayout = _props.getItemLayout,onScrollToIndexFailed = _props.onScrollToIndexFailed;var
      animated = params.animated,index = params.index,viewOffset = params.viewOffset,viewPosition = params.viewPosition;
      invariant(
      index >= 0 && index < getItemCount(data), 'scrollToIndex out of range: ' +
      index + ' vs ' + (getItemCount(data) - 1));

      if (!getItemLayout && index > this._highestMeasuredFrameIndex) {
        invariant(
        !!onScrollToIndexFailed,
        'scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, ' +
        'otherwise there is no way to know the location of offscreen indices or handle failures.');

        onScrollToIndexFailed({
          averageItemLength: this._averageCellLength,
          highestMeasuredFrameIndex: this._highestMeasuredFrameIndex,
          index: index });

        return;
      }
      var frame = this._getFrameMetricsApprox(index);
      var offset =
      Math.max(
      0,
      frame.offset -
      (viewPosition || 0) * (
      this._scrollMetrics.visibleLength - frame.length)) - (
      viewOffset || 0);



      this._scrollRef.scrollTo(



      horizontal ? { x: offset, animated: animated } : { y: offset, animated: animated });

    } }, { key: 'scrollToItem', value: function scrollToItem(



    params)



    {var
      item = params.item;var _props2 =
      this.props,data = _props2.data,getItem = _props2.getItem,getItemCount = _props2.getItemCount;
      var itemCount = getItemCount(data);
      for (var _index = 0; _index < itemCount; _index++) {
        if (getItem(data, _index) === item) {
          this.scrollToIndex(_extends({}, params, { index: _index }));
          break;
        }
      }
    } }, { key: 'scrollToOffset', value: function scrollToOffset(











    params) {var
      animated = params.animated,offset = params.offset;



      this._scrollRef.scrollTo(



      this.props.horizontal ? { x: offset, animated: animated } : { y: offset, animated: animated });

    } }, { key: 'recordInteraction', value: function recordInteraction()

    {
      this._nestedChildLists.forEach(function (childList) {
        childList.ref && childList.ref.recordInteraction();
      });
      this._viewabilityTuples.forEach(function (t) {
        t.viewabilityHelper.recordInteraction();
      });
      this._updateViewableItems(this.props.data);
    } }, { key: 'flashScrollIndicators', value: function flashScrollIndicators()

    {



      this._scrollRef.flashScrollIndicators();
    } }, { key: 'getScrollResponder', value: function getScrollResponder()






    {
      if (this._scrollRef && this._scrollRef.getScrollResponder) {
        return this._scrollRef.getScrollResponder();
      }
    } }, { key: 'getScrollableNode', value: function getScrollableNode()

    {
      if (this._scrollRef && this._scrollRef.getScrollableNode) {
        return this._scrollRef.getScrollableNode();
      } else {
        return ReactNative.findNodeHandle(this._scrollRef);
      }
    } }, { key: 'setNativeProps', value: function setNativeProps(

    props) {
      if (this._scrollRef) {
        this._scrollRef.setNativeProps(props);
      }
    } }, { key: 'getChildContext', value: function getChildContext()















































    {
      return {
        virtualizedList: {
          getScrollMetrics: this._getScrollMetrics,
          horizontal: this.props.horizontal,
          getOutermostParentListRef: this._getOutermostParentListRef,
          getNestedChildState: this._getNestedChildState,
          registerAsNestedChild: this._registerAsNestedChild,
          unregisterAsNestedChild: this._unregisterAsNestedChild } };


    } }, { key: '_getCellKey', value: function _getCellKey()

    {
      return (
        this.context.virtualizedCell && this.context.virtualizedCell.cellKey ||
        'rootList');

    } }, { key: 'hasMore', value: function hasMore()





    {
      return this._hasMore;
    } }]);






















































  function VirtualizedList(props, context) {_classCallCheck(this, VirtualizedList);var _this = _possibleConstructorReturn(this, (VirtualizedList.__proto__ || Object.getPrototypeOf(VirtualizedList)).call(this,
    props, context));_initialiseProps.call(_this);
    invariant(
    !props.onScroll || !props.onScroll.__isNative,
    'Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent ' +
    'to support native onScroll events with useNativeDriver');


    invariant(
    props.windowSize > 0,
    'VirtualizedList: The windowSize prop must be present and set to a value greater than 0.');


    _this._fillRateHelper = new FillRateHelper(_this._getFrameMetrics);
    _this._updateCellsToRenderBatcher = new Batchinator(
    _this._updateCellsToRender,
    _this.props.updateCellsBatchingPeriod);


    if (_this.props.viewabilityConfigCallbackPairs) {
      _this._viewabilityTuples = _this.props.viewabilityConfigCallbackPairs.map(
      function (pair) {return {
          viewabilityHelper: new ViewabilityHelper(pair.viewabilityConfig),
          onViewableItemsChanged: pair.onViewableItemsChanged };});


    } else if (_this.props.onViewableItemsChanged) {
      _this._viewabilityTuples.push({
        viewabilityHelper: new ViewabilityHelper(_this.props.viewabilityConfig),
        onViewableItemsChanged: _this.props.onViewableItemsChanged });

    }

    var initialState = {
      first: _this.props.initialScrollIndex || 0,
      last:
      Math.min(
      _this.props.getItemCount(_this.props.data),
      (_this.props.initialScrollIndex || 0) + _this.props.initialNumToRender) -
      1 };


    if (_this._isNestedWithSameOrientation()) {
      var storedState = _this.context.virtualizedList.getNestedChildState(
      _this.props.listKey || _this._getCellKey());

      if (storedState) {
        initialState = storedState;
        _this.state = storedState;
        _this._frames = storedState.frames;
      }
    }

    _this.state = initialState;return _this;
  }_createClass(VirtualizedList, [{ key: 'componentDidMount', value: function componentDidMount()

    {
      if (this._isNestedWithSameOrientation()) {
        this.context.virtualizedList.registerAsNestedChild({
          cellKey: this._getCellKey(),
          key: this.props.listKey || this._getCellKey(),
          ref: this });

      }
    } }, { key: 'componentWillUnmount', value: function componentWillUnmount()

    {
      if (this._isNestedWithSameOrientation()) {
        this.context.virtualizedList.unregisterAsNestedChild({
          key: this.props.listKey || this._getCellKey(),
          state: {
            first: this.state.first,
            last: this.state.last,
            frames: this._frames } });


      }
      this._updateViewableItems(null);
      this._updateCellsToRenderBatcher.dispose({ abort: true });
      this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.dispose();
      });
      this._fillRateHelper.deactivateAndFlush();
    } }, { key: '_pushCells', value: function _pushCells(















    cells,
    stickyHeaderIndices,
    stickyIndicesFromProps,
    first,
    last,
    inversionStyle)
    {var _this2 = this;var _props3 =








      this.props,CellRendererComponent = _props3.CellRendererComponent,ItemSeparatorComponent = _props3.ItemSeparatorComponent,data = _props3.data,getItem = _props3.getItem,getItemCount = _props3.getItemCount,horizontal = _props3.horizontal,keyExtractor = _props3.keyExtractor;
      var stickyOffset = this.props.ListHeaderComponent ? 1 : 0;
      var end = getItemCount(data) - 1;
      var prevCellKey = void 0;
      last = Math.min(end, last);var _loop = function _loop(
      ii) {
        var item = getItem(data, ii);
        var key = keyExtractor(item, ii);
        _this2._indicesToKeys.set(ii, key);
        if (stickyIndicesFromProps.has(ii + stickyOffset)) {
          stickyHeaderIndices.push(cells.length);
        }
        cells.push(
        React.createElement(CellRenderer, {
          CellRendererComponent: CellRendererComponent,
          ItemSeparatorComponent: ii < end ? ItemSeparatorComponent : undefined,
          cellKey: key,
          fillRateHelper: _this2._fillRateHelper,
          horizontal: horizontal,
          index: ii,
          inversionStyle: inversionStyle,
          item: item,
          key: key,
          prevCellKey: prevCellKey,
          onUpdateSeparators: _this2._onUpdateSeparators,
          onLayout: function onLayout(e) {return _this2._onCellLayout(e, key, ii);},
          onUnmount: _this2._onCellUnmount,
          parentProps: _this2.props,
          ref: function (_ref) {function ref(_x) {return _ref.apply(this, arguments);}ref.toString = function () {return _ref.toString();};return ref;}(function (ref) {
            _this2._cellRefs[key] = ref;
          }) }));


        prevCellKey = key;};for (var ii = first; ii <= last; ii++) {_loop(ii);
      }
    } }, { key: '_isVirtualizationDisabled', value: function _isVirtualizationDisabled()








    {
      return this.props.disableVirtualization;
    } }, { key: '_isNestedWithSameOrientation', value: function _isNestedWithSameOrientation()

    {
      var nestedContext = this.context.virtualizedList;
      return !!(
      nestedContext && !!nestedContext.horizontal === !!this.props.horizontal);

    } }, { key: 'render', value: function render()

    {var _this3 = this;
      if (__DEV__) {
        var flatStyles = flattenStyle(this.props.contentContainerStyle);
        warning(
        flatStyles == null || flatStyles.flexWrap !== 'wrap',
        '`flexWrap: `wrap`` is not supported with the `VirtualizedList` components.' +
        'Consider using `numColumns` with `FlatList` instead.');

      }var _props4 =




      this.props,ListEmptyComponent = _props4.ListEmptyComponent,ListFooterComponent = _props4.ListFooterComponent,ListHeaderComponent = _props4.ListHeaderComponent;var _props5 =
      this.props,data = _props5.data,horizontal = _props5.horizontal;
      var isVirtualizationDisabled = this._isVirtualizationDisabled();
      var inversionStyle = this.props.inverted ?
      this.props.horizontal ?
      styles.horizontallyInverted :
      styles.verticallyInverted :
      null;
      var cells = [];
      var stickyIndicesFromProps = new Set(this.props.stickyHeaderIndices);
      var stickyHeaderIndices = [];
      if (ListHeaderComponent) {
        if (stickyIndicesFromProps.has(0)) {
          stickyHeaderIndices.push(0);
        }
        var element = React.isValidElement(ListHeaderComponent) ?
        ListHeaderComponent :


        React.createElement(ListHeaderComponent, null);

        cells.push(
        React.createElement(VirtualizedCellWrapper, {
            cellKey: this._getCellKey() + '-header',
            key: '$header' },
          React.createElement(View, {
              onLayout: this._onLayoutHeader,
              style: StyleSheet.compose(
              inversionStyle,
              this.props.ListHeaderComponentStyle) },



            element)));




      }
      var itemCount = this.props.getItemCount(data);
      if (itemCount > 0) {
        _usedIndexForKey = false;
        _keylessItemComponentName = '';
        var spacerKey = !horizontal ? 'height' : 'width';
        var lastInitialIndex = this.props.initialScrollIndex ?
        -1 :
        this.props.initialNumToRender - 1;var _state =
        this.state,_first = _state.first,_last = _state.last;
        this._pushCells(
        cells,
        stickyHeaderIndices,
        stickyIndicesFromProps,
        0,
        lastInitialIndex,
        inversionStyle);

        var firstAfterInitial = Math.max(lastInitialIndex + 1, _first);
        if (!isVirtualizationDisabled && _first > lastInitialIndex + 1) {
          var insertedStickySpacer = false;
          if (stickyIndicesFromProps.size > 0) {
            var stickyOffset = ListHeaderComponent ? 1 : 0;

            for (var ii = firstAfterInitial - 1; ii > lastInitialIndex; ii--) {
              if (stickyIndicesFromProps.has(ii + stickyOffset)) {
                var initBlock = this._getFrameMetricsApprox(lastInitialIndex);
                var stickyBlock = this._getFrameMetricsApprox(ii);
                var leadSpace = stickyBlock.offset - initBlock.offset;
                cells.push(
                React.createElement(View, { key: '$sticky_lead', style: _defineProperty({}, spacerKey, leadSpace) }));

                this._pushCells(
                cells,
                stickyHeaderIndices,
                stickyIndicesFromProps,
                ii,
                ii,
                inversionStyle);

                var trailSpace =
                this._getFrameMetricsApprox(_first).offset - (
                stickyBlock.offset + stickyBlock.length);
                cells.push(
                React.createElement(View, { key: '$sticky_trail', style: _defineProperty({}, spacerKey, trailSpace) }));

                insertedStickySpacer = true;
                break;
              }
            }
          }
          if (!insertedStickySpacer) {
            var _initBlock = this._getFrameMetricsApprox(lastInitialIndex);
            var firstSpace =
            this._getFrameMetricsApprox(_first).offset - (
            _initBlock.offset + _initBlock.length);
            cells.push(
            React.createElement(View, { key: '$lead_spacer', style: _defineProperty({}, spacerKey, firstSpace) }));

          }
        }
        this._pushCells(
        cells,
        stickyHeaderIndices,
        stickyIndicesFromProps,
        firstAfterInitial,
        _last,
        inversionStyle);

        if (!this._hasWarned.keys && _usedIndexForKey) {
          console.warn(
          'VirtualizedList: missing keys for items, make sure to specify a key property on each ' +
          'item or provide a custom keyExtractor.',
          _keylessItemComponentName);

          this._hasWarned.keys = true;
        }
        if (!isVirtualizationDisabled && _last < itemCount - 1) {
          var lastFrame = this._getFrameMetricsApprox(_last);



          var end = this.props.getItemLayout ?
          itemCount - 1 :
          Math.min(itemCount - 1, this._highestMeasuredFrameIndex);
          var endFrame = this._getFrameMetricsApprox(end);
          var tailSpacerLength =
          endFrame.offset +
          endFrame.length - (
          lastFrame.offset + lastFrame.length);
          cells.push(
          React.createElement(View, { key: '$tail_spacer', style: _defineProperty({}, spacerKey, tailSpacerLength) }));

        }
      } else if (ListEmptyComponent) {
        var _element = React.isValidElement(
        ListEmptyComponent) ?

        ListEmptyComponent :


        React.createElement(ListEmptyComponent, null);

        cells.push(
        React.cloneElement(_element, {
          key: '$empty',
          onLayout: function onLayout(event) {
            _this3._onLayoutEmpty(event);
            if (_element.props.onLayout) {
              _element.props.onLayout(event);
            }
          },
          style: [_element.props.style, inversionStyle] }));


      }
      if (ListFooterComponent) {
        var _element2 = React.isValidElement(ListFooterComponent) ?
        ListFooterComponent :


        React.createElement(ListFooterComponent, null);

        cells.push(
        React.createElement(VirtualizedCellWrapper, {
            cellKey: this._getCellKey() + '-footer',
            key: '$footer' },
          React.createElement(View, {
              onLayout: this._onLayoutFooter,
              style: StyleSheet.compose(
              inversionStyle,
              this.props.ListFooterComponentStyle) },



            _element2)));




      }
      var scrollProps = _extends({},
      this.props, {
        onContentSizeChange: this._onContentSizeChange,
        onLayout: this._onLayout,
        onScroll: this._onScroll,
        onScrollBeginDrag: this._onScrollBeginDrag,
        onScrollEndDrag: this._onScrollEndDrag,
        onMomentumScrollEnd: this._onMomentumScrollEnd,
        scrollEventThrottle: this.props.scrollEventThrottle,
        invertStickyHeaders:
        this.props.invertStickyHeaders !== undefined ?
        this.props.invertStickyHeaders :
        this.props.inverted,
        stickyHeaderIndices: stickyHeaderIndices });

      if (inversionStyle) {



        scrollProps.style = [inversionStyle, this.props.style];
      }

      this._hasMore =
      this.state.last < this.props.getItemCount(this.props.data) - 1;

      var ret = React.cloneElement(
      (this.props.renderScrollComponent || this._defaultRenderScrollComponent)(
      scrollProps),


      {
        ref: this._captureScrollRef },

      cells);

      if (this.props.debug) {
        return (
          React.createElement(View, { style: { flex: 1 } },
            ret,
            this._renderDebugOverlay()));


      } else {
        return ret;
      }
    } }, { key: 'componentDidUpdate', value: function componentDidUpdate(

    prevProps) {var _props6 =
      this.props,data = _props6.data,extraData = _props6.extraData;
      if (data !== prevProps.data || extraData !== prevProps.extraData) {
        this._hasDataChangedSinceEndReached = true;



        this._viewabilityTuples.forEach(function (tuple) {
          tuple.viewabilityHelper.resetViewableIndices();
        });
      }
      this._scheduleCellsToRenderUpdate();
    } }, { key: '_computeBlankness', value: function _computeBlankness()










































    {
      this._fillRateHelper.computeBlankness(
      this.props,
      this.state,
      this._scrollMetrics);

    } }, { key: '_onCellLayout', value: function _onCellLayout(




































    e, cellKey, index) {
      var layout = e.nativeEvent.layout;
      var next = {
        offset: this._selectOffset(layout),
        length: this._selectLength(layout),
        index: index,
        inLayout: true };

      var curr = this._frames[cellKey];
      if (
      !curr ||
      next.offset !== curr.offset ||
      next.length !== curr.length ||
      index !== curr.index)
      {
        this._totalCellLength += next.length - (curr ? curr.length : 0);
        this._totalCellsMeasured += curr ? 0 : 1;
        this._averageCellLength =
        this._totalCellLength / this._totalCellsMeasured;
        this._frames[cellKey] = next;
        this._highestMeasuredFrameIndex = Math.max(
        this._highestMeasuredFrameIndex,
        index);

        this._scheduleCellsToRenderUpdate();
      } else {
        this._frames[cellKey].inLayout = true;
      }

      var childListKeys = this._cellKeysToChildListKeys.get(cellKey);
      if (childListKeys) {
        for (var _iterator = childListKeys, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[typeof Symbol === 'function' ? Symbol.iterator : '@@iterator']();;) {var _ref6;if (_isArray) {if (_i >= _iterator.length) break;_ref6 = _iterator[_i++];} else {_i = _iterator.next();if (_i.done) break;_ref6 = _i.value;}var childKey = _ref6;
          var childList = this._nestedChildLists.get(childKey);
          childList &&
          childList.ref &&
          childList.ref.measureLayoutRelativeToContainingList();
        }
      }

      this._computeBlankness();
    } }, { key: 'measureLayoutRelativeToContainingList', value: function measureLayoutRelativeToContainingList()








    {var _this4 = this;
      UIManager.measureLayout(
      ReactNative.findNodeHandle(this),
      ReactNative.findNodeHandle(
      this.context.virtualizedList.getOutermostParentListRef()),

      function (error) {
        console.warn(
        "VirtualizedList: Encountered an error while measuring a list's" +
        ' offset from its containing VirtualizedList.');

      },
      function (x, y, width, height) {
        _this4._offsetFromParentVirtualizedList = _this4._selectOffset({ x: x, y: y });
        _this4._scrollMetrics.contentLength = _this4._selectLength({ width: width, height: height });

        var scrollMetrics = _this4._convertParentScrollMetrics(
        _this4.context.virtualizedList.getScrollMetrics());

        _this4._scrollMetrics.visibleLength = scrollMetrics.visibleLength;
        _this4._scrollMetrics.offset = scrollMetrics.offset;
      });

    } }, { key: '_renderDebugOverlay', value: function _renderDebugOverlay()




























    {
      var normalize =
      this._scrollMetrics.visibleLength / this._scrollMetrics.contentLength;
      var framesInLayout = [];
      var itemCount = this.props.getItemCount(this.props.data);
      for (var ii = 0; ii < itemCount; ii++) {
        var frame = this._getFrameMetricsApprox(ii);



        if (frame.inLayout) {
          framesInLayout.push(frame);
        }
      }
      var windowTop = this._getFrameMetricsApprox(this.state.first).offset;
      var frameLast = this._getFrameMetricsApprox(this.state.last);
      var windowLen = frameLast.offset + frameLast.length - windowTop;
      var visTop = this._scrollMetrics.offset;
      var visLen = this._scrollMetrics.visibleLength;
      var baseStyle = { position: 'absolute', top: 0, right: 0 };
      return (
        React.createElement(View, {
            style: _extends({},
            baseStyle, {
              bottom: 0,
              width: 20,
              borderColor: 'blue',
              borderWidth: 1 }) },

          framesInLayout.map(function (f, ii) {return (
              React.createElement(View, {
                key: 'f' + ii,
                style: _extends({},
                baseStyle, {
                  left: 0,
                  top: f.offset * normalize,
                  height: f.length * normalize,
                  backgroundColor: 'orange' }) }));}),



          React.createElement(View, {
            style: _extends({},
            baseStyle, {
              left: 0,
              top: windowTop * normalize,
              height: windowLen * normalize,
              borderColor: 'green',
              borderWidth: 2 }) }),


          React.createElement(View, {
            style: _extends({},
            baseStyle, {
              left: 0,
              top: visTop * normalize,
              height: visLen * normalize,
              borderColor: 'red',
              borderWidth: 2 }) })));




    } }, { key: '_selectLength', value: function _selectLength(

    metrics) {
      return !this.props.horizontal ? metrics.height : metrics.width;
    } }, { key: '_selectOffset', value: function _selectOffset(

    metrics) {
      return !this.props.horizontal ? metrics.y : metrics.x;
    } }, { key: '_maybeCallOnEndReached', value: function _maybeCallOnEndReached()

    {var _props7 =





      this.props,data = _props7.data,getItemCount = _props7.getItemCount,onEndReached = _props7.onEndReached,onEndReachedThreshold = _props7.onEndReachedThreshold;var _scrollMetrics =
      this._scrollMetrics,contentLength = _scrollMetrics.contentLength,visibleLength = _scrollMetrics.visibleLength,offset = _scrollMetrics.offset;
      var distanceFromEnd = contentLength - visibleLength - offset;
      if (
      onEndReached &&
      this.state.last === getItemCount(data) - 1 &&



      distanceFromEnd < onEndReachedThreshold * visibleLength && (
      this._hasDataChangedSinceEndReached ||
      this._scrollMetrics.contentLength !== this._sentEndForContentLength))
      {

        this._hasDataChangedSinceEndReached = false;
        this._sentEndForContentLength = this._scrollMetrics.contentLength;
        onEndReached({ distanceFromEnd: distanceFromEnd });
      }
    } }, { key: '_scheduleCellsToRenderUpdate', value: function _scheduleCellsToRenderUpdate()



















































































































    {var _state2 =
      this.state,first = _state2.first,last = _state2.last;var _scrollMetrics2 =
      this._scrollMetrics,offset = _scrollMetrics2.offset,visibleLength = _scrollMetrics2.visibleLength,velocity = _scrollMetrics2.velocity;
      var itemCount = this.props.getItemCount(this.props.data);
      var hiPri = false;
      var scrollingThreshold =



      this.props.onEndReachedThreshold * visibleLength / 2;


      if (first > 0) {
        var distTop = offset - this._getFrameMetricsApprox(first).offset;
        hiPri =
        hiPri || distTop < 0 || velocity < -2 && distTop < scrollingThreshold;
      }


      if (last < itemCount - 1) {
        var distBottom =
        this._getFrameMetricsApprox(last).offset - (offset + visibleLength);
        hiPri =
        hiPri ||
        distBottom < 0 ||
        velocity > 2 && distBottom < scrollingThreshold;
      }





      if (hiPri && this._averageCellLength) {


        this._updateCellsToRenderBatcher.dispose({ abort: true });
        this._updateCellsToRender();
        return;
      } else {
        this._updateCellsToRenderBatcher.schedule();
      }
    } }, { key: '_updateViewableItems', value: function _updateViewableItems(















































































































































































    data) {var _this5 = this;var
      getItemCount = this.props.getItemCount;

      this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.onUpdate(
        getItemCount(data),
        _this5._scrollMetrics.offset,
        _this5._scrollMetrics.visibleLength,
        _this5._getFrameMetrics,
        _this5._createViewToken,
        tuple.onViewableItemsChanged,
        _this5.state);

      });
    } }], [{ key: 'getDerivedStateFromProps', value: function getDerivedStateFromProps(newProps, prevState) {var data = newProps.data,extraData = newProps.extraData,getItemCount = newProps.getItemCount,maxToRenderPerBatch = newProps.maxToRenderPerBatch;return { first: Math.max(0, Math.min(prevState.first, getItemCount(data) - 1 - maxToRenderPerBatch)), last: Math.max(0, Math.min(prevState.last, getItemCount(data) - 1)) };} }]);return VirtualizedList;}(React.PureComponent);VirtualizedList.defaultProps = { disableVirtualization: false, horizontal: false, initialNumToRender: 10, keyExtractor: function keyExtractor(item, index) {if (item.key != null) {return item.key;}_usedIndexForKey = true;if (item.type && item.type.displayName) {_keylessItemComponentName = item.type.displayName;}return String(index);}, maxToRenderPerBatch: 10, onEndReachedThreshold: 2, scrollEventThrottle: 50, updateCellsBatchingPeriod: 50, windowSize: 21 };VirtualizedList.contextTypes = { virtualizedCell: PropTypes.shape({ cellKey: PropTypes.string }), virtualizedList: PropTypes.shape({ getScrollMetrics: PropTypes.func, horizontal: PropTypes.bool, getOutermostParentListRef: PropTypes.func, getNestedChildState: PropTypes.func, registerAsNestedChild: PropTypes.func, unregisterAsNestedChild: PropTypes.func }) };VirtualizedList.childContextTypes = { virtualizedList: PropTypes.shape({ getScrollMetrics: PropTypes.func, horizontal: PropTypes.bool, getOutermostParentListRef: PropTypes.func, getNestedChildState: PropTypes.func, registerAsNestedChild: PropTypes.func, unregisterAsNestedChild: PropTypes.func }) };var _initialiseProps = function _initialiseProps() {var _this8 = this;this._getScrollMetrics = function () {return _this8._scrollMetrics;};this._getOutermostParentListRef = function () {if (_this8._isNestedWithSameOrientation()) {return _this8.context.virtualizedList.getOutermostParentListRef();} else {return _this8;}};this._getNestedChildState = function (key) {var existingChildData = _this8._nestedChildLists.get(key);return existingChildData && existingChildData.state;};this._registerAsNestedChild = function (childList) {var childListsInCell = _this8._cellKeysToChildListKeys.get(childList.cellKey) || new Set();childListsInCell.add(childList.key);_this8._cellKeysToChildListKeys.set(childList.cellKey, childListsInCell);var existingChildData = _this8._nestedChildLists.get(childList.key);invariant(!(existingChildData && existingChildData.ref !== null), 'A VirtualizedList contains a cell which itself contains ' + 'more than one VirtualizedList of the same orientation as the parent ' + 'list. You must pass a unique listKey prop to each sibling list.');_this8._nestedChildLists.set(childList.key, { ref: childList.ref, state: null });if (_this8._hasInteracted) {childList.ref.recordInteraction();}};this._unregisterAsNestedChild = function (childList) {_this8._nestedChildLists.set(childList.key, { ref: null, state: childList.state });};this._onUpdateSeparators = function (keys, newProps) {keys.forEach(function (key) {var ref = key != null && _this8._cellRefs[key];ref && ref.updateSeparatorProps(newProps);});};this._averageCellLength = 0;this._cellKeysToChildListKeys = new Map();this._cellRefs = {};this._frames = {};this._footerLength = 0;this._hasDataChangedSinceEndReached = true;this._hasInteracted = false;this._hasMore = false;this._hasWarned = {};this._highestMeasuredFrameIndex = 0;this._headerLength = 0;this._indicesToKeys = new Map();this._hasDoneInitialScroll = false;this._nestedChildLists = new Map();this._offsetFromParentVirtualizedList = 0;this._prevParentOffset = 0;this._scrollMetrics = { contentLength: 0, dOffset: 0, dt: 10, offset: 0, timestamp: 0, velocity: 0, visibleLength: 0 };this._scrollRef = null;this._sentEndForContentLength = 0;this._totalCellLength = 0;this._totalCellsMeasured = 0;this._viewabilityTuples = [];this._captureScrollRef = function (ref) {_this8._scrollRef = ref;};this._defaultRenderScrollComponent = function (props) {var onRefresh = props.onRefresh;if (_this8._isNestedWithSameOrientation()) {return React.createElement(View, props);} else if (onRefresh) {invariant(typeof props.refreshing === 'boolean', '`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `' + JSON.stringify(props.refreshing) + '`');return React.createElement(ScrollView, _extends({}, props, { refreshControl: props.refreshControl == null ? React.createElement(RefreshControl, { refreshing: props.refreshing, onRefresh: onRefresh, progressViewOffset: props.progressViewOffset }) : props.refreshControl }));} else {return React.createElement(ScrollView, props);}};this._onCellUnmount = function (cellKey) {var curr = _this8._frames[cellKey];if (curr) {_this8._frames[cellKey] = _extends({}, curr, { inLayout: false });}};this._onLayout = function (e) {if (_this8._isNestedWithSameOrientation()) {_this8.measureLayoutRelativeToContainingList();} else {_this8._scrollMetrics.visibleLength = _this8._selectLength(e.nativeEvent.layout);}_this8.props.onLayout && _this8.props.onLayout(e);_this8._scheduleCellsToRenderUpdate();_this8._maybeCallOnEndReached();};this._onLayoutEmpty = function (e) {_this8.props.onLayout && _this8.props.onLayout(e);};this._onLayoutFooter = function (e) {_this8._footerLength = _this8._selectLength(e.nativeEvent.layout);};this._onLayoutHeader = function (e) {_this8._headerLength = _this8._selectLength(e.nativeEvent.layout);};this._onContentSizeChange = function (width, height) {if (width > 0 && height > 0 && _this8.props.initialScrollIndex != null && _this8.props.initialScrollIndex > 0 && !_this8._hasDoneInitialScroll) {_this8.scrollToIndex({ animated: false, index: _this8.props.initialScrollIndex });_this8._hasDoneInitialScroll = true;}if (_this8.props.onContentSizeChange) {_this8.props.onContentSizeChange(width, height);}_this8._scrollMetrics.contentLength = _this8._selectLength({ height: height, width: width });_this8._scheduleCellsToRenderUpdate();_this8._maybeCallOnEndReached();};this._convertParentScrollMetrics = function (metrics) {var offset = metrics.offset - _this8._offsetFromParentVirtualizedList;var visibleLength = metrics.visibleLength;var dOffset = offset - _this8._scrollMetrics.offset;var contentLength = _this8._scrollMetrics.contentLength;return { visibleLength: visibleLength, contentLength: contentLength, offset: offset, dOffset: dOffset };};this._onScroll = function (e) {_this8._nestedChildLists.forEach(function (childList) {childList.ref && childList.ref._onScroll(e);});if (_this8.props.onScroll) {_this8.props.onScroll(e);}var timestamp = e.timeStamp;var visibleLength = _this8._selectLength(e.nativeEvent.layoutMeasurement);var contentLength = _this8._selectLength(e.nativeEvent.contentSize);var offset = _this8._selectOffset(e.nativeEvent.contentOffset);var dOffset = offset - _this8._scrollMetrics.offset;if (_this8._isNestedWithSameOrientation()) {if (_this8._scrollMetrics.contentLength === 0) {return;}var _convertParentScrollM = _this8._convertParentScrollMetrics({ visibleLength: visibleLength, offset: offset });visibleLength = _convertParentScrollM.visibleLength;contentLength = _convertParentScrollM.contentLength;offset = _convertParentScrollM.offset;dOffset = _convertParentScrollM.dOffset;}var dt = _this8._scrollMetrics.timestamp ? Math.max(1, timestamp - _this8._scrollMetrics.timestamp) : 1;var velocity = dOffset / dt;if (dt > 500 && _this8._scrollMetrics.dt > 500 && contentLength > 5 * visibleLength && !_this8._hasWarned.perf) {infoLog('VirtualizedList: You have a large list that is slow to update - make sure your ' + 'renderItem function renders components that follow React performance best practices ' + 'like PureComponent, shouldComponentUpdate, etc.', { dt: dt, prevDt: _this8._scrollMetrics.dt, contentLength: contentLength });_this8._hasWarned.perf = true;}_this8._scrollMetrics = { contentLength: contentLength, dt: dt, dOffset: dOffset, offset: offset, timestamp: timestamp, velocity: velocity, visibleLength: visibleLength };_this8._updateViewableItems(_this8.props.data);if (!_this8.props) {return;}_this8._maybeCallOnEndReached();if (velocity !== 0) {_this8._fillRateHelper.activate();}_this8._computeBlankness();_this8._scheduleCellsToRenderUpdate();};this._onScrollBeginDrag = function (e) {_this8._nestedChildLists.forEach(function (childList) {childList.ref && childList.ref._onScrollBeginDrag(e);});_this8._viewabilityTuples.forEach(function (tuple) {tuple.viewabilityHelper.recordInteraction();});_this8._hasInteracted = true;_this8.props.onScrollBeginDrag && _this8.props.onScrollBeginDrag(e);};this._onScrollEndDrag = function (e) {var velocity = e.nativeEvent.velocity;if (velocity) {_this8._scrollMetrics.velocity = _this8._selectOffset(velocity);}_this8._computeBlankness();_this8.props.onScrollEndDrag && _this8.props.onScrollEndDrag(e);};this._onMomentumScrollEnd = function (e) {_this8._scrollMetrics.velocity = 0;_this8._computeBlankness();_this8.props.onMomentumScrollEnd && _this8.props.onMomentumScrollEnd(e);};this._updateCellsToRender = function () {var _props9 = _this8.props,data = _props9.data,getItemCount = _props9.getItemCount,onEndReachedThreshold = _props9.onEndReachedThreshold;var isVirtualizationDisabled = _this8._isVirtualizationDisabled();_this8._updateViewableItems(data);if (!data) {return;}_this8.setState(function (state) {var newState = void 0;if (!isVirtualizationDisabled) {if (_this8._scrollMetrics.visibleLength) {if (!_this8.props.initialScrollIndex || _this8._scrollMetrics.offset) {newState = computeWindowedRenderLimits(_this8.props, state, _this8._getFrameMetricsApprox, _this8._scrollMetrics);}}} else {var _scrollMetrics3 = _this8._scrollMetrics,contentLength = _scrollMetrics3.contentLength,_offset = _scrollMetrics3.offset,visibleLength = _scrollMetrics3.visibleLength;var _distanceFromEnd = contentLength - visibleLength - _offset;var renderAhead = _distanceFromEnd < onEndReachedThreshold * visibleLength ? _this8.props.maxToRenderPerBatch : 0;newState = { first: 0, last: Math.min(state.last + renderAhead, getItemCount(data) - 1) };}if (newState && _this8._nestedChildLists.size > 0) {var newFirst = newState.first;var newLast = newState.last;for (var ii = newFirst; ii <= newLast; ii++) {var cellKeyForIndex = _this8._indicesToKeys.get(ii);var childListKeys = cellKeyForIndex && _this8._cellKeysToChildListKeys.get(cellKeyForIndex);if (!childListKeys) {continue;}var someChildHasMore = false;for (var _iterator2 = childListKeys, _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : _iterator2[typeof Symbol === 'function' ? Symbol.iterator : '@@iterator']();;) {var _ref8;if (_isArray2) {if (_i2 >= _iterator2.length) break;_ref8 = _iterator2[_i2++];} else {_i2 = _iterator2.next();if (_i2.done) break;_ref8 = _i2.value;}var childKey = _ref8;var childList = _this8._nestedChildLists.get(childKey);if (childList && childList.ref && childList.ref.hasMore()) {someChildHasMore = true;break;}}if (someChildHasMore) {newState.last = ii;break;}}}return newState;});};this._createViewToken = function (index, isViewable) {var _props10 = _this8.props,data = _props10.data,getItem = _props10.getItem,keyExtractor = _props10.keyExtractor;var item = getItem(data, index);return { index: index, item: item, key: keyExtractor(item, index), isViewable: isViewable };};this._getFrameMetricsApprox = function (index) {var frame = _this8._getFrameMetrics(index);if (frame && frame.index === index) {return frame;} else {var _getItemLayout = _this8.props.getItemLayout;invariant(!_getItemLayout, 'Should not have to estimate frames when a measurement metrics function is provided');return { length: _this8._averageCellLength, offset: _this8._averageCellLength * index };}};this._getFrameMetrics = function (index) {var _props11 = _this8.props,data = _props11.data,getItem = _props11.getItem,getItemCount = _props11.getItemCount,getItemLayout = _props11.getItemLayout,keyExtractor = _props11.keyExtractor;invariant(getItemCount(data) > index, 'Tried to get frame for out of range index ' + index);var item = getItem(data, index);var frame = item && _this8._frames[keyExtractor(item, index)];if (!frame || frame.index !== index) {if (getItemLayout) {frame = getItemLayout(data, index);if (__DEV__) {var frameType = PropTypes.shape({ length: PropTypes.number.isRequired, offset: PropTypes.number.isRequired, index: PropTypes.number.isRequired }).isRequired;PropTypes.checkPropTypes({ frame: frameType }, { frame: frame }, 'frame', 'VirtualizedList.getItemLayout');}}}return frame;};};var


CellRenderer = function (_React$Component) {_inherits(CellRenderer, _React$Component);function CellRenderer() {var _ref7;var _temp, _this6, _ret2;_classCallCheck(this, CellRenderer);for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {args[_key] = arguments[_key];}return _ret2 = (_temp = (_this6 = _possibleConstructorReturn(this, (_ref7 = CellRenderer.__proto__ || Object.getPrototypeOf(CellRenderer)).call.apply(_ref7, [this].concat(args))), _this6), _this6.




















    state = {
      separatorProps: {
        highlighted: false,
        leadingItem: _this6.props.item } }, _this6.



















    _separators = {
      highlight: function highlight() {var _this6$props =
        _this6.props,cellKey = _this6$props.cellKey,prevCellKey = _this6$props.prevCellKey;
        _this6.props.onUpdateSeparators([cellKey, prevCellKey], {
          highlighted: true });

      },
      unhighlight: function unhighlight() {var _this6$props2 =
        _this6.props,cellKey = _this6$props2.cellKey,prevCellKey = _this6$props2.prevCellKey;
        _this6.props.onUpdateSeparators([cellKey, prevCellKey], {
          highlighted: false });

      },
      updateProps: function updateProps(select, newProps) {var _this6$props3 =
        _this6.props,cellKey = _this6$props3.cellKey,prevCellKey = _this6$props3.prevCellKey;
        _this6.props.onUpdateSeparators(
        [select === 'leading' ? prevCellKey : cellKey],
        newProps);

      } }, _temp), _possibleConstructorReturn(_this6, _ret2);}_createClass(CellRenderer, [{ key: 'getChildContext', value: function getChildContext() {return { virtualizedCell: { cellKey: this.props.cellKey } };} }, { key: 'updateSeparatorProps', value: function updateSeparatorProps(


    newProps) {
      this.setState(function (state) {return {
          separatorProps: _extends({}, state.separatorProps, newProps) };});

    } }, { key: 'componentWillUnmount', value: function componentWillUnmount()

    {
      this.props.onUnmount(this.props.cellKey);
    } }, { key: 'render', value: function render()

    {var _props8 =









      this.props,CellRendererComponent = _props8.CellRendererComponent,ItemSeparatorComponent = _props8.ItemSeparatorComponent,fillRateHelper = _props8.fillRateHelper,horizontal = _props8.horizontal,item = _props8.item,index = _props8.index,inversionStyle = _props8.inversionStyle,parentProps = _props8.parentProps;var
      renderItem = parentProps.renderItem,getItemLayout = parentProps.getItemLayout;
      invariant(renderItem, 'no renderItem!');
      var element = renderItem({
        item: item,
        index: index,
        separators: this._separators });

      var onLayout =



      getItemLayout && !parentProps.debug && !fillRateHelper.enabled() ?
      undefined :
      this.props.onLayout;


      var itemSeparator = ItemSeparatorComponent &&
      React.createElement(ItemSeparatorComponent, this.state.separatorProps);

      var cellStyle = inversionStyle ?
      horizontal ?
      [{ flexDirection: 'row-reverse' }, inversionStyle] :
      [{ flexDirection: 'column-reverse' }, inversionStyle] :
      horizontal ?
      [{ flexDirection: 'row' }, inversionStyle] :
      inversionStyle;
      if (!CellRendererComponent) {
        return (
          React.createElement(View, { style: cellStyle, onLayout: onLayout },
            element,
            itemSeparator));


      }
      return (
        React.createElement(CellRendererComponent, _extends({},
          this.props, {
            style: cellStyle,
            onLayout: onLayout }),
          element,
          itemSeparator));


    } }]);return CellRenderer;}(React.Component);CellRenderer.childContextTypes = { virtualizedCell: PropTypes.shape({ cellKey: PropTypes.string }) };var


VirtualizedCellWrapper = function (_React$Component2) {_inherits(VirtualizedCellWrapper, _React$Component2);function VirtualizedCellWrapper() {_classCallCheck(this, VirtualizedCellWrapper);return _possibleConstructorReturn(this, (VirtualizedCellWrapper.__proto__ || Object.getPrototypeOf(VirtualizedCellWrapper)).apply(this, arguments));}_createClass(VirtualizedCellWrapper, [{ key: 'getChildContext', value: function getChildContext()









    {
      return {
        virtualizedCell: {
          cellKey: this.props.cellKey } };


    } }, { key: 'render', value: function render()

    {
      return this.props.children;
    } }]);return VirtualizedCellWrapper;}(React.Component);VirtualizedCellWrapper.childContextTypes = { virtualizedCell: PropTypes.shape({ cellKey: PropTypes.string }) };


var styles = StyleSheet.create({
  verticallyInverted: {
    transform: [{ scaleY: -1 }] },

  horizontallyInverted: {
    transform: [{ scaleX: -1 }] } });



module.exports = VirtualizedList;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlZpcnR1YWxpemVkTGlzdC5qcyJdLCJuYW1lcyI6WyJCYXRjaGluYXRvciIsInJlcXVpcmUiLCJGaWxsUmF0ZUhlbHBlciIsIlByb3BUeXBlcyIsIlJlYWN0IiwiUmVhY3ROYXRpdmUiLCJSZWZyZXNoQ29udHJvbCIsIlNjcm9sbFZpZXciLCJTdHlsZVNoZWV0IiwiVUlNYW5hZ2VyIiwiVmlldyIsIlZpZXdhYmlsaXR5SGVscGVyIiwiZmxhdHRlblN0eWxlIiwiaW5mb0xvZyIsImludmFyaWFudCIsIndhcm5pbmciLCJjb21wdXRlV2luZG93ZWRSZW5kZXJMaW1pdHMiLCJfdXNlZEluZGV4Rm9yS2V5IiwiX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZSIsIlZpcnR1YWxpemVkTGlzdCIsInBhcmFtcyIsImFuaW1hdGVkIiwidmVyeUxhc3QiLCJwcm9wcyIsImdldEl0ZW1Db3VudCIsImRhdGEiLCJmcmFtZSIsIl9nZXRGcmFtZU1ldHJpY3NBcHByb3giLCJvZmZzZXQiLCJNYXRoIiwibWF4IiwibGVuZ3RoIiwiX2Zvb3Rlckxlbmd0aCIsIl9zY3JvbGxNZXRyaWNzIiwidmlzaWJsZUxlbmd0aCIsIl9zY3JvbGxSZWYiLCJzY3JvbGxUbyIsImhvcml6b250YWwiLCJ4IiwieSIsImdldEl0ZW1MYXlvdXQiLCJvblNjcm9sbFRvSW5kZXhGYWlsZWQiLCJpbmRleCIsInZpZXdPZmZzZXQiLCJ2aWV3UG9zaXRpb24iLCJfaGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCIsImF2ZXJhZ2VJdGVtTGVuZ3RoIiwiX2F2ZXJhZ2VDZWxsTGVuZ3RoIiwiaGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCIsIml0ZW0iLCJnZXRJdGVtIiwiaXRlbUNvdW50Iiwic2Nyb2xsVG9JbmRleCIsIl9uZXN0ZWRDaGlsZExpc3RzIiwiZm9yRWFjaCIsImNoaWxkTGlzdCIsInJlZiIsInJlY29yZEludGVyYWN0aW9uIiwiX3ZpZXdhYmlsaXR5VHVwbGVzIiwidCIsInZpZXdhYmlsaXR5SGVscGVyIiwiX3VwZGF0ZVZpZXdhYmxlSXRlbXMiLCJmbGFzaFNjcm9sbEluZGljYXRvcnMiLCJnZXRTY3JvbGxSZXNwb25kZXIiLCJnZXRTY3JvbGxhYmxlTm9kZSIsImZpbmROb2RlSGFuZGxlIiwic2V0TmF0aXZlUHJvcHMiLCJ2aXJ0dWFsaXplZExpc3QiLCJnZXRTY3JvbGxNZXRyaWNzIiwiX2dldFNjcm9sbE1ldHJpY3MiLCJnZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmIiwiX2dldE91dGVybW9zdFBhcmVudExpc3RSZWYiLCJnZXROZXN0ZWRDaGlsZFN0YXRlIiwiX2dldE5lc3RlZENoaWxkU3RhdGUiLCJyZWdpc3RlckFzTmVzdGVkQ2hpbGQiLCJfcmVnaXN0ZXJBc05lc3RlZENoaWxkIiwidW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQiLCJfdW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQiLCJjb250ZXh0IiwidmlydHVhbGl6ZWRDZWxsIiwiY2VsbEtleSIsIl9oYXNNb3JlIiwib25TY3JvbGwiLCJfX2lzTmF0aXZlIiwid2luZG93U2l6ZSIsIl9maWxsUmF0ZUhlbHBlciIsIl9nZXRGcmFtZU1ldHJpY3MiLCJfdXBkYXRlQ2VsbHNUb1JlbmRlckJhdGNoZXIiLCJfdXBkYXRlQ2VsbHNUb1JlbmRlciIsInVwZGF0ZUNlbGxzQmF0Y2hpbmdQZXJpb2QiLCJ2aWV3YWJpbGl0eUNvbmZpZ0NhbGxiYWNrUGFpcnMiLCJtYXAiLCJwYWlyIiwidmlld2FiaWxpdHlDb25maWciLCJvblZpZXdhYmxlSXRlbXNDaGFuZ2VkIiwicHVzaCIsImluaXRpYWxTdGF0ZSIsImZpcnN0IiwiaW5pdGlhbFNjcm9sbEluZGV4IiwibGFzdCIsIm1pbiIsImluaXRpYWxOdW1Ub1JlbmRlciIsIl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24iLCJzdG9yZWRTdGF0ZSIsImxpc3RLZXkiLCJfZ2V0Q2VsbEtleSIsInN0YXRlIiwiX2ZyYW1lcyIsImZyYW1lcyIsImtleSIsImRpc3Bvc2UiLCJhYm9ydCIsInR1cGxlIiwiZGVhY3RpdmF0ZUFuZEZsdXNoIiwiY2VsbHMiLCJzdGlja3lIZWFkZXJJbmRpY2VzIiwic3RpY2t5SW5kaWNlc0Zyb21Qcm9wcyIsImludmVyc2lvblN0eWxlIiwiQ2VsbFJlbmRlcmVyQ29tcG9uZW50IiwiSXRlbVNlcGFyYXRvckNvbXBvbmVudCIsImtleUV4dHJhY3RvciIsInN0aWNreU9mZnNldCIsIkxpc3RIZWFkZXJDb21wb25lbnQiLCJlbmQiLCJwcmV2Q2VsbEtleSIsImlpIiwiX2luZGljZXNUb0tleXMiLCJzZXQiLCJoYXMiLCJ1bmRlZmluZWQiLCJfb25VcGRhdGVTZXBhcmF0b3JzIiwiX29uQ2VsbExheW91dCIsImUiLCJfb25DZWxsVW5tb3VudCIsIl9jZWxsUmVmcyIsImRpc2FibGVWaXJ0dWFsaXphdGlvbiIsIm5lc3RlZENvbnRleHQiLCJfX0RFVl9fIiwiZmxhdFN0eWxlcyIsImNvbnRlbnRDb250YWluZXJTdHlsZSIsImZsZXhXcmFwIiwiTGlzdEVtcHR5Q29tcG9uZW50IiwiTGlzdEZvb3RlckNvbXBvbmVudCIsImlzVmlydHVhbGl6YXRpb25EaXNhYmxlZCIsIl9pc1ZpcnR1YWxpemF0aW9uRGlzYWJsZWQiLCJpbnZlcnRlZCIsInN0eWxlcyIsImhvcml6b250YWxseUludmVydGVkIiwidmVydGljYWxseUludmVydGVkIiwiU2V0IiwiZWxlbWVudCIsImlzVmFsaWRFbGVtZW50IiwiX29uTGF5b3V0SGVhZGVyIiwiY29tcG9zZSIsIkxpc3RIZWFkZXJDb21wb25lbnRTdHlsZSIsInNwYWNlcktleSIsImxhc3RJbml0aWFsSW5kZXgiLCJfcHVzaENlbGxzIiwiZmlyc3RBZnRlckluaXRpYWwiLCJpbnNlcnRlZFN0aWNreVNwYWNlciIsInNpemUiLCJpbml0QmxvY2siLCJzdGlja3lCbG9jayIsImxlYWRTcGFjZSIsInRyYWlsU3BhY2UiLCJmaXJzdFNwYWNlIiwiX2hhc1dhcm5lZCIsImtleXMiLCJjb25zb2xlIiwid2FybiIsImxhc3RGcmFtZSIsImVuZEZyYW1lIiwidGFpbFNwYWNlckxlbmd0aCIsImNsb25lRWxlbWVudCIsIm9uTGF5b3V0IiwiX29uTGF5b3V0RW1wdHkiLCJldmVudCIsInN0eWxlIiwiX29uTGF5b3V0Rm9vdGVyIiwiTGlzdEZvb3RlckNvbXBvbmVudFN0eWxlIiwic2Nyb2xsUHJvcHMiLCJvbkNvbnRlbnRTaXplQ2hhbmdlIiwiX29uQ29udGVudFNpemVDaGFuZ2UiLCJfb25MYXlvdXQiLCJfb25TY3JvbGwiLCJvblNjcm9sbEJlZ2luRHJhZyIsIl9vblNjcm9sbEJlZ2luRHJhZyIsIm9uU2Nyb2xsRW5kRHJhZyIsIl9vblNjcm9sbEVuZERyYWciLCJvbk1vbWVudHVtU2Nyb2xsRW5kIiwiX29uTW9tZW50dW1TY3JvbGxFbmQiLCJzY3JvbGxFdmVudFRocm90dGxlIiwiaW52ZXJ0U3RpY2t5SGVhZGVycyIsInJldCIsInJlbmRlclNjcm9sbENvbXBvbmVudCIsIl9kZWZhdWx0UmVuZGVyU2Nyb2xsQ29tcG9uZW50IiwiX2NhcHR1cmVTY3JvbGxSZWYiLCJkZWJ1ZyIsImZsZXgiLCJfcmVuZGVyRGVidWdPdmVybGF5IiwicHJldlByb3BzIiwiZXh0cmFEYXRhIiwiX2hhc0RhdGFDaGFuZ2VkU2luY2VFbmRSZWFjaGVkIiwicmVzZXRWaWV3YWJsZUluZGljZXMiLCJfc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlIiwiY29tcHV0ZUJsYW5rbmVzcyIsImxheW91dCIsIm5hdGl2ZUV2ZW50IiwibmV4dCIsIl9zZWxlY3RPZmZzZXQiLCJfc2VsZWN0TGVuZ3RoIiwiaW5MYXlvdXQiLCJjdXJyIiwiX3RvdGFsQ2VsbExlbmd0aCIsIl90b3RhbENlbGxzTWVhc3VyZWQiLCJjaGlsZExpc3RLZXlzIiwiX2NlbGxLZXlzVG9DaGlsZExpc3RLZXlzIiwiZ2V0IiwiY2hpbGRLZXkiLCJtZWFzdXJlTGF5b3V0UmVsYXRpdmVUb0NvbnRhaW5pbmdMaXN0IiwiX2NvbXB1dGVCbGFua25lc3MiLCJtZWFzdXJlTGF5b3V0Iiwid2lkdGgiLCJoZWlnaHQiLCJfb2Zmc2V0RnJvbVBhcmVudFZpcnR1YWxpemVkTGlzdCIsImNvbnRlbnRMZW5ndGgiLCJzY3JvbGxNZXRyaWNzIiwiX2NvbnZlcnRQYXJlbnRTY3JvbGxNZXRyaWNzIiwibm9ybWFsaXplIiwiZnJhbWVzSW5MYXlvdXQiLCJ3aW5kb3dUb3AiLCJmcmFtZUxhc3QiLCJ3aW5kb3dMZW4iLCJ2aXNUb3AiLCJ2aXNMZW4iLCJiYXNlU3R5bGUiLCJwb3NpdGlvbiIsInRvcCIsInJpZ2h0IiwiYm90dG9tIiwiYm9yZGVyQ29sb3IiLCJib3JkZXJXaWR0aCIsImYiLCJsZWZ0IiwiYmFja2dyb3VuZENvbG9yIiwibWV0cmljcyIsIm9uRW5kUmVhY2hlZCIsIm9uRW5kUmVhY2hlZFRocmVzaG9sZCIsImRpc3RhbmNlRnJvbUVuZCIsIl9zZW50RW5kRm9yQ29udGVudExlbmd0aCIsInZlbG9jaXR5IiwiaGlQcmkiLCJzY3JvbGxpbmdUaHJlc2hvbGQiLCJkaXN0VG9wIiwiZGlzdEJvdHRvbSIsInNjaGVkdWxlIiwib25VcGRhdGUiLCJfY3JlYXRlVmlld1Rva2VuIiwibmV3UHJvcHMiLCJwcmV2U3RhdGUiLCJtYXhUb1JlbmRlclBlckJhdGNoIiwiUHVyZUNvbXBvbmVudCIsImRlZmF1bHRQcm9wcyIsInR5cGUiLCJkaXNwbGF5TmFtZSIsIlN0cmluZyIsImNvbnRleHRUeXBlcyIsInNoYXBlIiwic3RyaW5nIiwiZnVuYyIsImJvb2wiLCJjaGlsZENvbnRleHRUeXBlcyIsImV4aXN0aW5nQ2hpbGREYXRhIiwiY2hpbGRMaXN0c0luQ2VsbCIsImFkZCIsIl9oYXNJbnRlcmFjdGVkIiwidXBkYXRlU2VwYXJhdG9yUHJvcHMiLCJNYXAiLCJfaGVhZGVyTGVuZ3RoIiwiX2hhc0RvbmVJbml0aWFsU2Nyb2xsIiwiX3ByZXZQYXJlbnRPZmZzZXQiLCJkT2Zmc2V0IiwiZHQiLCJ0aW1lc3RhbXAiLCJvblJlZnJlc2giLCJyZWZyZXNoaW5nIiwiSlNPTiIsInN0cmluZ2lmeSIsInJlZnJlc2hDb250cm9sIiwicHJvZ3Jlc3NWaWV3T2Zmc2V0IiwiX21heWJlQ2FsbE9uRW5kUmVhY2hlZCIsInRpbWVTdGFtcCIsImxheW91dE1lYXN1cmVtZW50IiwiY29udGVudFNpemUiLCJjb250ZW50T2Zmc2V0IiwicGVyZiIsInByZXZEdCIsImFjdGl2YXRlIiwic2V0U3RhdGUiLCJuZXdTdGF0ZSIsInJlbmRlckFoZWFkIiwibmV3Rmlyc3QiLCJuZXdMYXN0IiwiY2VsbEtleUZvckluZGV4Iiwic29tZUNoaWxkSGFzTW9yZSIsImhhc01vcmUiLCJpc1ZpZXdhYmxlIiwiZnJhbWVUeXBlIiwibnVtYmVyIiwiaXNSZXF1aXJlZCIsImNoZWNrUHJvcFR5cGVzIiwiQ2VsbFJlbmRlcmVyIiwic2VwYXJhdG9yUHJvcHMiLCJoaWdobGlnaHRlZCIsImxlYWRpbmdJdGVtIiwiX3NlcGFyYXRvcnMiLCJoaWdobGlnaHQiLCJvblVwZGF0ZVNlcGFyYXRvcnMiLCJ1bmhpZ2hsaWdodCIsInVwZGF0ZVByb3BzIiwic2VsZWN0Iiwib25Vbm1vdW50IiwiZmlsbFJhdGVIZWxwZXIiLCJwYXJlbnRQcm9wcyIsInJlbmRlckl0ZW0iLCJzZXBhcmF0b3JzIiwiZW5hYmxlZCIsIml0ZW1TZXBhcmF0b3IiLCJjZWxsU3R5bGUiLCJmbGV4RGlyZWN0aW9uIiwiQ29tcG9uZW50IiwiVmlydHVhbGl6ZWRDZWxsV3JhcHBlciIsImNoaWxkcmVuIiwiY3JlYXRlIiwidHJhbnNmb3JtIiwic2NhbGVZIiwic2NhbGVYIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBU0EsYTs7QUFFQSxJQUFNQSxjQUFjQyxRQUFRLGFBQVIsQ0FBcEI7QUFDQSxJQUFNQyxpQkFBaUJELFFBQVEsZ0JBQVIsQ0FBdkI7QUFDQSxJQUFNRSxZQUFZRixRQUFRLFlBQVIsQ0FBbEI7QUFDQSxJQUFNRyxRQUFRSCxRQUFRLE9BQVIsQ0FBZDtBQUNBLElBQU1JLGNBQWNKLFFBQVEsYUFBUixDQUFwQjtBQUNBLElBQU1LLGlCQUFpQkwsUUFBUSxnQkFBUixDQUF2QjtBQUNBLElBQU1N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QUlHeEIsaUJBSkg7QUFLR2lMLHVCQUxILENBREY7OztBQVNELEssMkJBbEl3Qm5VLE1BQU1zVSxTLEVBQTNCbkIsWSxDQTRCR3hDLGlCLEdBQW9CLEVBQ3pCaE0saUJBQWlCNUUsVUFBVXdRLEtBQVYsQ0FBZ0IsRUFDL0IzTCxTQUFTN0UsVUFBVXlRLE1BRFksRUFBaEIsQ0FEUSxFOzs7QUF5R3ZCK0Qsc0I7Ozs7Ozs7Ozs7QUFVYztBQUNoQixhQUFPO0FBQ0w1UCx5QkFBaUI7QUFDZkMsbUJBQVMsS0FBS3pELEtBQUwsQ0FBV3lELE9BREwsRUFEWixFQUFQOzs7QUFLRCxLOztBQUVRO0FBQ1AsYUFBTyxLQUFLekQsS0FBTCxDQUFXcVQsUUFBbEI7QUFDRCxLLHFDQXBCa0N4VSxNQUFNc1UsUyxFQUFyQ0Msc0IsQ0FJRzVELGlCLEdBQW9CLEVBQ3pCaE0saUJBQWlCNUUsVUFBVXdRLEtBQVYsQ0FBZ0IsRUFDL0IzTCxTQUFTN0UsVUFBVXlRLE1BRFksRUFBaEIsQ0FEUSxFOzs7QUFtQjdCLElBQU0xSCxTQUFTMUksV0FBV3FVLE1BQVgsQ0FBa0I7QUFDL0J6TCxzQkFBb0I7QUFDbEIwTCxlQUFXLENBQUMsRUFBQ0MsUUFBUSxDQUFDLENBQVYsRUFBRCxDQURPLEVBRFc7O0FBSS9CNUwsd0JBQXNCO0FBQ3BCMkwsZUFBVyxDQUFDLEVBQUNFLFFBQVEsQ0FBQyxDQUFWLEVBQUQsQ0FEUyxFQUpTLEVBQWxCLENBQWY7Ozs7QUFTQUMsT0FBT0MsT0FBUCxHQUFpQi9ULGVBQWpCIiwiZmlsZSI6IlZpcnR1YWxpemVkTGlzdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZsb3dcbiAqIEBmb3JtYXRcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBCYXRjaGluYXRvciA9IHJlcXVpcmUoJ0JhdGNoaW5hdG9yJyk7XG5jb25zdCBGaWxsUmF0ZUhlbHBlciA9IHJlcXVpcmUoJ0ZpbGxSYXRlSGVscGVyJyk7XG5jb25zdCBQcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5jb25zdCBSZWFjdCA9IHJlcXVpcmUoJ1JlYWN0Jyk7XG5jb25zdCBSZWFjdE5hdGl2ZSA9IHJlcXVpcmUoJ1JlYWN0TmF0aXZlJyk7XG5jb25zdCBSZWZyZXNoQ29udHJvbCA9IHJlcXVpcmUoJ1JlZnJlc2hDb250cm9sJyk7XG5jb25zdCBTY3JvbGxWaWV3ID0gcmVxdWlyZSgnU2Nyb2xsVmlldycpO1xuY29uc3QgU3R5bGVTaGVldCA9IHJlcXVpcmUoJ1N0eWxlU2hlZXQnKTtcbmNvbnN0IFVJTWFuYWdlciA9IHJlcXVpcmUoJ1VJTWFuYWdlcicpO1xuY29uc3QgVmlldyA9IHJlcXVpcmUoJ1ZpZXcnKTtcbmNvbnN0IFZpZXdhYmlsaXR5SGVscGVyID0gcmVxdWlyZSgnVmlld2FiaWxpdHlIZWxwZXInKTtcblxuY29uc3QgZmxhdHRlblN0eWxlID0gcmVxdWlyZSgnZmxhdHRlblN0eWxlJyk7XG5jb25zdCBpbmZvTG9nID0gcmVxdWlyZSgnaW5mb0xvZycpO1xuY29uc3QgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG4vKiAkRmxvd0ZpeE1lKD49MC41NC4wIHNpdGU9cmVhY3RfbmF0aXZlX29zcykgVGhpcyBjb21tZW50IHN1cHByZXNzZXMgYW4gZXJyb3JcbiAqIGZvdW5kIHdoZW4gRmxvdyB2MC41NCB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IgZGVsZXRlIHRoaXMgY29tbWVudCBhbmRcbiAqIHJ1biBGbG93LiAqL1xuY29uc3Qgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcblxuY29uc3Qge2NvbXB1dGVXaW5kb3dlZFJlbmRlckxpbWl0c30gPSByZXF1aXJlKCdWaXJ0dWFsaXplVXRpbHMnKTtcblxuaW1wb3J0IHR5cGUge0Rhbmdlcm91c2x5SW1wcmVjaXNlU3R5bGVQcm9wLCBWaWV3U3R5bGVQcm9wfSBmcm9tICdTdHlsZVNoZWV0JztcbmltcG9ydCB0eXBlIHtcbiAgVmlld2FiaWxpdHlDb25maWcsXG4gIFZpZXdUb2tlbixcbiAgVmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXIsXG59IGZyb20gJ1ZpZXdhYmlsaXR5SGVscGVyJztcblxudHlwZSBJdGVtID0gYW55O1xuXG5leHBvcnQgdHlwZSByZW5kZXJJdGVtVHlwZSA9IChpbmZvOiBhbnkpID0+ID9SZWFjdC5FbGVtZW50PGFueT47XG5cbnR5cGUgVmlld2FiaWxpdHlIZWxwZXJDYWxsYmFja1R1cGxlID0ge1xuICB2aWV3YWJpbGl0eUhlbHBlcjogVmlld2FiaWxpdHlIZWxwZXIsXG4gIG9uVmlld2FibGVJdGVtc0NoYW5nZWQ6IChpbmZvOiB7XG4gICAgdmlld2FibGVJdGVtczogQXJyYXk8Vmlld1Rva2VuPixcbiAgICBjaGFuZ2VkOiBBcnJheTxWaWV3VG9rZW4+LFxuICB9KSA9PiB2b2lkLFxufTtcblxudHlwZSBSZXF1aXJlZFByb3BzID0ge1xuICAvLyBUT0RPOiBDb25mbGljdHMgd2l0aCB0aGUgb3B0aW9uYWwgYHJlbmRlckl0ZW1gIGluXG4gIC8vIGBWaXJ0dWFsaXplZFNlY3Rpb25MaXN0YCdzIHByb3BzLlxuICByZW5kZXJJdGVtOiAkRmxvd0ZpeE1lPHJlbmRlckl0ZW1UeXBlPixcbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IGFjY2Vzc29yIGZ1bmN0aW9ucyBhc3N1bWUgdGhpcyBpcyBhbiBBcnJheTx7a2V5OiBzdHJpbmd9PiBidXQgeW91IGNhbiBvdmVycmlkZVxuICAgKiBnZXRJdGVtLCBnZXRJdGVtQ291bnQsIGFuZCBrZXlFeHRyYWN0b3IgdG8gaGFuZGxlIGFueSB0eXBlIG9mIGluZGV4LWJhc2VkIGRhdGEuXG4gICAqL1xuICBkYXRhPzogYW55LFxuICAvKipcbiAgICogQSBnZW5lcmljIGFjY2Vzc29yIGZvciBleHRyYWN0aW5nIGFuIGl0ZW0gZnJvbSBhbnkgc29ydCBvZiBkYXRhIGJsb2IuXG4gICAqL1xuICBnZXRJdGVtOiAoZGF0YTogYW55LCBpbmRleDogbnVtYmVyKSA9PiA/SXRlbSxcbiAgLyoqXG4gICAqIERldGVybWluZXMgaG93IG1hbnkgaXRlbXMgYXJlIGluIHRoZSBkYXRhIGJsb2IuXG4gICAqL1xuICBnZXRJdGVtQ291bnQ6IChkYXRhOiBhbnkpID0+IG51bWJlcixcbn07XG50eXBlIE9wdGlvbmFsUHJvcHMgPSB7XG4gIC8qKlxuICAgKiBgZGVidWdgIHdpbGwgdHVybiBvbiBleHRyYSBsb2dnaW5nIGFuZCB2aXN1YWwgb3ZlcmxheXMgdG8gYWlkIHdpdGggZGVidWdnaW5nIGJvdGggdXNhZ2UgYW5kXG4gICAqIGltcGxlbWVudGF0aW9uLCBidXQgd2l0aCBhIHNpZ25pZmljYW50IHBlcmYgaGl0LlxuICAgKi9cbiAgZGVidWc/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIERFUFJFQ0FURUQ6IFZpcnR1YWxpemF0aW9uIHByb3ZpZGVzIHNpZ25pZmljYW50IHBlcmZvcm1hbmNlIGFuZCBtZW1vcnkgb3B0aW1pemF0aW9ucywgYnV0IGZ1bGx5XG4gICAqIHVubW91bnRzIHJlYWN0IGluc3RhbmNlcyB0aGF0IGFyZSBvdXRzaWRlIG9mIHRoZSByZW5kZXIgd2luZG93LiBZb3Ugc2hvdWxkIG9ubHkgbmVlZCB0byBkaXNhYmxlXG4gICAqIHRoaXMgZm9yIGRlYnVnZ2luZyBwdXJwb3Nlcy5cbiAgICovXG4gIGRpc2FibGVWaXJ0dWFsaXphdGlvbjogYm9vbGVhbixcbiAgLyoqXG4gICAqIEEgbWFya2VyIHByb3BlcnR5IGZvciB0ZWxsaW5nIHRoZSBsaXN0IHRvIHJlLXJlbmRlciAoc2luY2UgaXQgaW1wbGVtZW50cyBgUHVyZUNvbXBvbmVudGApLiBJZlxuICAgKiBhbnkgb2YgeW91ciBgcmVuZGVySXRlbWAsIEhlYWRlciwgRm9vdGVyLCBldGMuIGZ1bmN0aW9ucyBkZXBlbmQgb24gYW55dGhpbmcgb3V0c2lkZSBvZiB0aGVcbiAgICogYGRhdGFgIHByb3AsIHN0aWNrIGl0IGhlcmUgYW5kIHRyZWF0IGl0IGltbXV0YWJseS5cbiAgICovXG4gIGV4dHJhRGF0YT86IGFueSxcbiAgZ2V0SXRlbUxheW91dD86IChcbiAgICBkYXRhOiBhbnksXG4gICAgaW5kZXg6IG51bWJlcixcbiAgKSA9PiB7bGVuZ3RoOiBudW1iZXIsIG9mZnNldDogbnVtYmVyLCBpbmRleDogbnVtYmVyfSwgLy8gZS5nLiBoZWlnaHQsIHlcbiAgaG9yaXpvbnRhbD86ID9ib29sZWFuLFxuICAvKipcbiAgICogSG93IG1hbnkgaXRlbXMgdG8gcmVuZGVyIGluIHRoZSBpbml0aWFsIGJhdGNoLiBUaGlzIHNob3VsZCBiZSBlbm91Z2ggdG8gZmlsbCB0aGUgc2NyZWVuIGJ1dCBub3RcbiAgICogbXVjaCBtb3JlLiBOb3RlIHRoZXNlIGl0ZW1zIHdpbGwgbmV2ZXIgYmUgdW5tb3VudGVkIGFzIHBhcnQgb2YgdGhlIHdpbmRvd2VkIHJlbmRlcmluZyBpbiBvcmRlclxuICAgKiB0byBpbXByb3ZlIHBlcmNlaXZlZCBwZXJmb3JtYW5jZSBvZiBzY3JvbGwtdG8tdG9wIGFjdGlvbnMuXG4gICAqL1xuICBpbml0aWFsTnVtVG9SZW5kZXI6IG51bWJlcixcbiAgLyoqXG4gICAqIEluc3RlYWQgb2Ygc3RhcnRpbmcgYXQgdGhlIHRvcCB3aXRoIHRoZSBmaXJzdCBpdGVtLCBzdGFydCBhdCBgaW5pdGlhbFNjcm9sbEluZGV4YC4gVGhpc1xuICAgKiBkaXNhYmxlcyB0aGUgXCJzY3JvbGwgdG8gdG9wXCIgb3B0aW1pemF0aW9uIHRoYXQga2VlcHMgdGhlIGZpcnN0IGBpbml0aWFsTnVtVG9SZW5kZXJgIGl0ZW1zXG4gICAqIGFsd2F5cyByZW5kZXJlZCBhbmQgaW1tZWRpYXRlbHkgcmVuZGVycyB0aGUgaXRlbXMgc3RhcnRpbmcgYXQgdGhpcyBpbml0aWFsIGluZGV4LiBSZXF1aXJlc1xuICAgKiBgZ2V0SXRlbUxheW91dGAgdG8gYmUgaW1wbGVtZW50ZWQuXG4gICAqL1xuICBpbml0aWFsU2Nyb2xsSW5kZXg/OiA/bnVtYmVyLFxuICAvKipcbiAgICogUmV2ZXJzZXMgdGhlIGRpcmVjdGlvbiBvZiBzY3JvbGwuIFVzZXMgc2NhbGUgdHJhbnNmb3JtcyBvZiAtMS5cbiAgICovXG4gIGludmVydGVkPzogP2Jvb2xlYW4sXG4gIGtleUV4dHJhY3RvcjogKGl0ZW06IEl0ZW0sIGluZGV4OiBudW1iZXIpID0+IHN0cmluZyxcbiAgLyoqXG4gICAqIEVhY2ggY2VsbCBpcyByZW5kZXJlZCB1c2luZyB0aGlzIGVsZW1lbnQuIENhbiBiZSBhIFJlYWN0IENvbXBvbmVudCBDbGFzcyxcbiAgICogb3IgYSByZW5kZXIgZnVuY3Rpb24uIERlZmF1bHRzIHRvIHVzaW5nIFZpZXcuXG4gICAqL1xuICBDZWxsUmVuZGVyZXJDb21wb25lbnQ/OiA/UmVhY3QuQ29tcG9uZW50VHlwZTxhbnk+LFxuICAvKipcbiAgICogUmVuZGVyZWQgd2hlbiB0aGUgbGlzdCBpcyBlbXB0eS4gQ2FuIGJlIGEgUmVhY3QgQ29tcG9uZW50IENsYXNzLCBhIHJlbmRlciBmdW5jdGlvbiwgb3JcbiAgICogYSByZW5kZXJlZCBlbGVtZW50LlxuICAgKi9cbiAgTGlzdEVtcHR5Q29tcG9uZW50PzogPyhSZWFjdC5Db21wb25lbnRUeXBlPGFueT4gfCBSZWFjdC5FbGVtZW50PGFueT4pLFxuICAvKipcbiAgICogUmVuZGVyZWQgYXQgdGhlIGJvdHRvbSBvZiBhbGwgdGhlIGl0ZW1zLiBDYW4gYmUgYSBSZWFjdCBDb21wb25lbnQgQ2xhc3MsIGEgcmVuZGVyIGZ1bmN0aW9uLCBvclxuICAgKiBhIHJlbmRlcmVkIGVsZW1lbnQuXG4gICAqL1xuICBMaXN0Rm9vdGVyQ29tcG9uZW50PzogPyhSZWFjdC5Db21wb25lbnRUeXBlPGFueT4gfCBSZWFjdC5FbGVtZW50PGFueT4pLFxuICAvKipcbiAgICogU3R5bGluZyBmb3IgaW50ZXJuYWwgVmlldyBmb3IgTGlzdEZvb3RlckNvbXBvbmVudFxuICAgKi9cbiAgTGlzdEZvb3RlckNvbXBvbmVudFN0eWxlPzogVmlld1N0eWxlUHJvcCxcbiAgLyoqXG4gICAqIFJlbmRlcmVkIGF0IHRoZSB0b3Agb2YgYWxsIHRoZSBpdGVtcy4gQ2FuIGJlIGEgUmVhY3QgQ29tcG9uZW50IENsYXNzLCBhIHJlbmRlciBmdW5jdGlvbiwgb3JcbiAgICogYSByZW5kZXJlZCBlbGVtZW50LlxuICAgKi9cbiAgTGlzdEhlYWRlckNvbXBvbmVudD86ID8oUmVhY3QuQ29tcG9uZW50VHlwZTxhbnk+IHwgUmVhY3QuRWxlbWVudDxhbnk+KSxcbiAgLyoqXG4gICAqIFN0eWxpbmcgZm9yIGludGVybmFsIFZpZXcgZm9yIExpc3RIZWFkZXJDb21wb25lbnRcbiAgICovXG4gIExpc3RIZWFkZXJDb21wb25lbnRTdHlsZT86IFZpZXdTdHlsZVByb3AsXG4gIC8qKlxuICAgKiBBIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIGxpc3QuIElmIHRoZXJlIGFyZSBtdWx0aXBsZSBWaXJ0dWFsaXplZExpc3RzIGF0IHRoZSBzYW1lIGxldmVsIG9mXG4gICAqIG5lc3Rpbmcgd2l0aGluIGFub3RoZXIgVmlydHVhbGl6ZWRMaXN0LCB0aGlzIGtleSBpcyBuZWNlc3NhcnkgZm9yIHZpcnR1YWxpemF0aW9uIHRvXG4gICAqIHdvcmsgcHJvcGVybHkuXG4gICAqL1xuICBsaXN0S2V5Pzogc3RyaW5nLFxuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRvIHJlbmRlciBpbiBlYWNoIGluY3JlbWVudGFsIHJlbmRlciBiYXRjaC4gVGhlIG1vcmUgcmVuZGVyZWQgYXRcbiAgICogb25jZSwgdGhlIGJldHRlciB0aGUgZmlsbCByYXRlLCBidXQgcmVzcG9uc2l2ZW5lc3MgbXkgc3VmZmVyIGJlY2F1c2UgcmVuZGVyaW5nIGNvbnRlbnQgbWF5XG4gICAqIGludGVyZmVyZSB3aXRoIHJlc3BvbmRpbmcgdG8gYnV0dG9uIHRhcHMgb3Igb3RoZXIgaW50ZXJhY3Rpb25zLlxuICAgKi9cbiAgbWF4VG9SZW5kZXJQZXJCYXRjaDogbnVtYmVyLFxuICBvbkVuZFJlYWNoZWQ/OiA/KGluZm86IHtkaXN0YW5jZUZyb21FbmQ6IG51bWJlcn0pID0+IHZvaWQsXG4gIG9uRW5kUmVhY2hlZFRocmVzaG9sZD86ID9udW1iZXIsIC8vIHVuaXRzIG9mIHZpc2libGUgbGVuZ3RoXG4gIG9uTGF5b3V0PzogP0Z1bmN0aW9uLFxuICAvKipcbiAgICogSWYgcHJvdmlkZWQsIGEgc3RhbmRhcmQgUmVmcmVzaENvbnRyb2wgd2lsbCBiZSBhZGRlZCBmb3IgXCJQdWxsIHRvIFJlZnJlc2hcIiBmdW5jdGlvbmFsaXR5LiBNYWtlXG4gICAqIHN1cmUgdG8gYWxzbyBzZXQgdGhlIGByZWZyZXNoaW5nYCBwcm9wIGNvcnJlY3RseS5cbiAgICovXG4gIG9uUmVmcmVzaD86ID9GdW5jdGlvbixcbiAgLyoqXG4gICAqIFVzZWQgdG8gaGFuZGxlIGZhaWx1cmVzIHdoZW4gc2Nyb2xsaW5nIHRvIGFuIGluZGV4IHRoYXQgaGFzIG5vdCBiZWVuIG1lYXN1cmVkIHlldC4gUmVjb21tZW5kZWRcbiAgICogYWN0aW9uIGlzIHRvIGVpdGhlciBjb21wdXRlIHlvdXIgb3duIG9mZnNldCBhbmQgYHNjcm9sbFRvYCBpdCwgb3Igc2Nyb2xsIGFzIGZhciBhcyBwb3NzaWJsZSBhbmRcbiAgICogdGhlbiB0cnkgYWdhaW4gYWZ0ZXIgbW9yZSBpdGVtcyBoYXZlIGJlZW4gcmVuZGVyZWQuXG4gICAqL1xuICBvblNjcm9sbFRvSW5kZXhGYWlsZWQ/OiA/KGluZm86IHtcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIGhpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXg6IG51bWJlcixcbiAgICBhdmVyYWdlSXRlbUxlbmd0aDogbnVtYmVyLFxuICB9KSA9PiB2b2lkLFxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIHZpZXdhYmlsaXR5IG9mIHJvd3MgY2hhbmdlcywgYXMgZGVmaW5lZCBieSB0aGVcbiAgICogYHZpZXdhYmlsaXR5Q29uZmlnYCBwcm9wLlxuICAgKi9cbiAgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZD86ID8oaW5mbzoge1xuICAgIHZpZXdhYmxlSXRlbXM6IEFycmF5PFZpZXdUb2tlbj4sXG4gICAgY2hhbmdlZDogQXJyYXk8Vmlld1Rva2VuPixcbiAgfSkgPT4gdm9pZCxcbiAgLyoqXG4gICAqIFNldCB0aGlzIHdoZW4gb2Zmc2V0IGlzIG5lZWRlZCBmb3IgdGhlIGxvYWRpbmcgaW5kaWNhdG9yIHRvIHNob3cgY29ycmVjdGx5LlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgcHJvZ3Jlc3NWaWV3T2Zmc2V0PzogbnVtYmVyLFxuICAvKipcbiAgICogQSBjdXN0b20gcmVmcmVzaCBjb250cm9sIGVsZW1lbnQuIFdoZW4gc2V0LCBpdCBvdmVycmlkZXMgdGhlIGRlZmF1bHRcbiAgICogPFJlZnJlc2hDb250cm9sPiBjb21wb25lbnQgYnVpbHQgaW50ZXJuYWxseS4gVGhlIG9uUmVmcmVzaCBhbmQgcmVmcmVzaGluZ1xuICAgKiBwcm9wcyBhcmUgYWxzbyBpZ25vcmVkLiBPbmx5IHdvcmtzIGZvciB2ZXJ0aWNhbCBWaXJ0dWFsaXplZExpc3QuXG4gICAqL1xuICByZWZyZXNoQ29udHJvbD86ID9SZWFjdC5FbGVtZW50PGFueT4sXG4gIC8qKlxuICAgKiBTZXQgdGhpcyB0cnVlIHdoaWxlIHdhaXRpbmcgZm9yIG5ldyBkYXRhIGZyb20gYSByZWZyZXNoLlxuICAgKi9cbiAgcmVmcmVzaGluZz86ID9ib29sZWFuLFxuICAvKipcbiAgICogTm90ZTogbWF5IGhhdmUgYnVncyAobWlzc2luZyBjb250ZW50KSBpbiBzb21lIGNpcmN1bXN0YW5jZXMgLSB1c2UgYXQgeW91ciBvd24gcmlzay5cbiAgICpcbiAgICogVGhpcyBtYXkgaW1wcm92ZSBzY3JvbGwgcGVyZm9ybWFuY2UgZm9yIGxhcmdlIGxpc3RzLlxuICAgKi9cbiAgcmVtb3ZlQ2xpcHBlZFN1YnZpZXdzPzogYm9vbGVhbixcbiAgLyoqXG4gICAqIFJlbmRlciBhIGN1c3RvbSBzY3JvbGwgY29tcG9uZW50LCBlLmcuIHdpdGggYSBkaWZmZXJlbnRseSBzdHlsZWQgYFJlZnJlc2hDb250cm9sYC5cbiAgICovXG4gIHJlbmRlclNjcm9sbENvbXBvbmVudD86IChwcm9wczogT2JqZWN0KSA9PiBSZWFjdC5FbGVtZW50PGFueT4sXG4gIC8qKlxuICAgKiBBbW91bnQgb2YgdGltZSBiZXR3ZWVuIGxvdy1wcmkgaXRlbSByZW5kZXIgYmF0Y2hlcywgZS5nLiBmb3IgcmVuZGVyaW5nIGl0ZW1zIHF1aXRlIGEgd2F5cyBvZmZcbiAgICogc2NyZWVuLiBTaW1pbGFyIGZpbGwgcmF0ZS9yZXNwb25zaXZlbmVzcyB0cmFkZW9mZiBhcyBgbWF4VG9SZW5kZXJQZXJCYXRjaGAuXG4gICAqL1xuICB1cGRhdGVDZWxsc0JhdGNoaW5nUGVyaW9kOiBudW1iZXIsXG4gIHZpZXdhYmlsaXR5Q29uZmlnPzogVmlld2FiaWxpdHlDb25maWcsXG4gIC8qKlxuICAgKiBMaXN0IG9mIFZpZXdhYmlsaXR5Q29uZmlnL29uVmlld2FibGVJdGVtc0NoYW5nZWQgcGFpcnMuIEEgc3BlY2lmaWMgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZFxuICAgKiB3aWxsIGJlIGNhbGxlZCB3aGVuIGl0cyBjb3JyZXNwb25kaW5nIFZpZXdhYmlsaXR5Q29uZmlnJ3MgY29uZGl0aW9ucyBhcmUgbWV0LlxuICAgKi9cbiAgdmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXJzPzogQXJyYXk8Vmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXI+LFxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB0aGUgbWF4aW11bSBudW1iZXIgb2YgaXRlbXMgcmVuZGVyZWQgb3V0c2lkZSBvZiB0aGUgdmlzaWJsZSBhcmVhLCBpbiB1bml0cyBvZlxuICAgKiB2aXNpYmxlIGxlbmd0aHMuIFNvIGlmIHlvdXIgbGlzdCBmaWxscyB0aGUgc2NyZWVuLCB0aGVuIGB3aW5kb3dTaXplPXsyMX1gICh0aGUgZGVmYXVsdCkgd2lsbFxuICAgKiByZW5kZXIgdGhlIHZpc2libGUgc2NyZWVuIGFyZWEgcGx1cyB1cCB0byAxMCBzY3JlZW5zIGFib3ZlIGFuZCAxMCBiZWxvdyB0aGUgdmlld3BvcnQuIFJlZHVjaW5nXG4gICAqIHRoaXMgbnVtYmVyIHdpbGwgcmVkdWNlIG1lbW9yeSBjb25zdW1wdGlvbiBhbmQgbWF5IGltcHJvdmUgcGVyZm9ybWFuY2UsIGJ1dCB3aWxsIGluY3JlYXNlIHRoZVxuICAgKiBjaGFuY2UgdGhhdCBmYXN0IHNjcm9sbGluZyBtYXkgcmV2ZWFsIG1vbWVudGFyeSBibGFuayBhcmVhcyBvZiB1bnJlbmRlcmVkIGNvbnRlbnQuXG4gICAqL1xuICB3aW5kb3dTaXplOiBudW1iZXIsXG59O1xuLyogJEZsb3dGaXhNZSAtIHRoaXMgUHJvcHMgc2VlbXMgdG8gYmUgbWlzc2luZyBhIGJ1bmNoIG9mIHN0dWZmLiBSZW1vdmUgdGhpc1xuICogY29tbWVudCB0byBzZWUgdGhlIGVycm9ycyAqL1xuZXhwb3J0IHR5cGUgUHJvcHMgPSBSZXF1aXJlZFByb3BzICYgT3B0aW9uYWxQcm9wcztcblxubGV0IF91c2VkSW5kZXhGb3JLZXkgPSBmYWxzZTtcbmxldCBfa2V5bGVzc0l0ZW1Db21wb25lbnROYW1lOiBzdHJpbmcgPSAnJztcblxudHlwZSBGcmFtZSA9IHtcbiAgb2Zmc2V0OiBudW1iZXIsXG4gIGxlbmd0aDogbnVtYmVyLFxuICBpbmRleDogbnVtYmVyLFxuICBpbkxheW91dDogYm9vbGVhbixcbn07XG5cbnR5cGUgQ2hpbGRMaXN0U3RhdGUgPSB7XG4gIGZpcnN0OiBudW1iZXIsXG4gIGxhc3Q6IG51bWJlcixcbiAgZnJhbWVzOiB7W2tleTogbnVtYmVyXTogRnJhbWV9LFxufTtcblxudHlwZSBTdGF0ZSA9IHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9O1xuXG4vKipcbiAqIEJhc2UgaW1wbGVtZW50YXRpb24gZm9yIHRoZSBtb3JlIGNvbnZlbmllbnQgW2A8RmxhdExpc3Q+YF0oL3JlYWN0LW5hdGl2ZS9kb2NzL2ZsYXRsaXN0Lmh0bWwpXG4gKiBhbmQgW2A8U2VjdGlvbkxpc3Q+YF0oL3JlYWN0LW5hdGl2ZS9kb2NzL3NlY3Rpb25saXN0Lmh0bWwpIGNvbXBvbmVudHMsIHdoaWNoIGFyZSBhbHNvIGJldHRlclxuICogZG9jdW1lbnRlZC4gSW4gZ2VuZXJhbCwgdGhpcyBzaG91bGQgb25seSByZWFsbHkgYmUgdXNlZCBpZiB5b3UgbmVlZCBtb3JlIGZsZXhpYmlsaXR5IHRoYW5cbiAqIGBGbGF0TGlzdGAgcHJvdmlkZXMsIGUuZy4gZm9yIHVzZSB3aXRoIGltbXV0YWJsZSBkYXRhIGluc3RlYWQgb2YgcGxhaW4gYXJyYXlzLlxuICpcbiAqIFZpcnR1YWxpemF0aW9uIG1hc3NpdmVseSBpbXByb3ZlcyBtZW1vcnkgY29uc3VtcHRpb24gYW5kIHBlcmZvcm1hbmNlIG9mIGxhcmdlIGxpc3RzIGJ5XG4gKiBtYWludGFpbmluZyBhIGZpbml0ZSByZW5kZXIgd2luZG93IG9mIGFjdGl2ZSBpdGVtcyBhbmQgcmVwbGFjaW5nIGFsbCBpdGVtcyBvdXRzaWRlIG9mIHRoZSByZW5kZXJcbiAqIHdpbmRvdyB3aXRoIGFwcHJvcHJpYXRlbHkgc2l6ZWQgYmxhbmsgc3BhY2UuIFRoZSB3aW5kb3cgYWRhcHRzIHRvIHNjcm9sbGluZyBiZWhhdmlvciwgYW5kIGl0ZW1zXG4gKiBhcmUgcmVuZGVyZWQgaW5jcmVtZW50YWxseSB3aXRoIGxvdy1wcmkgKGFmdGVyIGFueSBydW5uaW5nIGludGVyYWN0aW9ucykgaWYgdGhleSBhcmUgZmFyIGZyb20gdGhlXG4gKiB2aXNpYmxlIGFyZWEsIG9yIHdpdGggaGktcHJpIG90aGVyd2lzZSB0byBtaW5pbWl6ZSB0aGUgcG90ZW50aWFsIG9mIHNlZWluZyBibGFuayBzcGFjZS5cbiAqXG4gKiBTb21lIGNhdmVhdHM6XG4gKlxuICogLSBJbnRlcm5hbCBzdGF0ZSBpcyBub3QgcHJlc2VydmVkIHdoZW4gY29udGVudCBzY3JvbGxzIG91dCBvZiB0aGUgcmVuZGVyIHdpbmRvdy4gTWFrZSBzdXJlIGFsbFxuICogICB5b3VyIGRhdGEgaXMgY2FwdHVyZWQgaW4gdGhlIGl0ZW0gZGF0YSBvciBleHRlcm5hbCBzdG9yZXMgbGlrZSBGbHV4LCBSZWR1eCwgb3IgUmVsYXkuXG4gKiAtIFRoaXMgaXMgYSBgUHVyZUNvbXBvbmVudGAgd2hpY2ggbWVhbnMgdGhhdCBpdCB3aWxsIG5vdCByZS1yZW5kZXIgaWYgYHByb3BzYCByZW1haW4gc2hhbGxvdy1cbiAqICAgZXF1YWwuIE1ha2Ugc3VyZSB0aGF0IGV2ZXJ5dGhpbmcgeW91ciBgcmVuZGVySXRlbWAgZnVuY3Rpb24gZGVwZW5kcyBvbiBpcyBwYXNzZWQgYXMgYSBwcm9wXG4gKiAgIChlLmcuIGBleHRyYURhdGFgKSB0aGF0IGlzIG5vdCBgPT09YCBhZnRlciB1cGRhdGVzLCBvdGhlcndpc2UgeW91ciBVSSBtYXkgbm90IHVwZGF0ZSBvblxuICogICBjaGFuZ2VzLiBUaGlzIGluY2x1ZGVzIHRoZSBgZGF0YWAgcHJvcCBhbmQgcGFyZW50IGNvbXBvbmVudCBzdGF0ZS5cbiAqIC0gSW4gb3JkZXIgdG8gY29uc3RyYWluIG1lbW9yeSBhbmQgZW5hYmxlIHNtb290aCBzY3JvbGxpbmcsIGNvbnRlbnQgaXMgcmVuZGVyZWQgYXN5bmNocm9ub3VzbHlcbiAqICAgb2Zmc2NyZWVuLiBUaGlzIG1lYW5zIGl0J3MgcG9zc2libGUgdG8gc2Nyb2xsIGZhc3RlciB0aGFuIHRoZSBmaWxsIHJhdGUgYW5kcyBtb21lbnRhcmlseSBzZWVcbiAqICAgYmxhbmsgY29udGVudC4gVGhpcyBpcyBhIHRyYWRlb2ZmIHRoYXQgY2FuIGJlIGFkanVzdGVkIHRvIHN1aXQgdGhlIG5lZWRzIG9mIGVhY2ggYXBwbGljYXRpb24sXG4gKiAgIGFuZCB3ZSBhcmUgd29ya2luZyBvbiBpbXByb3ZpbmcgaXQgYmVoaW5kIHRoZSBzY2VuZXMuXG4gKiAtIEJ5IGRlZmF1bHQsIHRoZSBsaXN0IGxvb2tzIGZvciBhIGBrZXlgIHByb3Agb24gZWFjaCBpdGVtIGFuZCB1c2VzIHRoYXQgZm9yIHRoZSBSZWFjdCBrZXkuXG4gKiAgIEFsdGVybmF0aXZlbHksIHlvdSBjYW4gcHJvdmlkZSBhIGN1c3RvbSBga2V5RXh0cmFjdG9yYCBwcm9wLlxuICpcbiAqL1xuY2xhc3MgVmlydHVhbGl6ZWRMaXN0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxQcm9wcywgU3RhdGU+IHtcbiAgcHJvcHM6IFByb3BzO1xuXG4gIC8vIHNjcm9sbFRvRW5kIG1heSBiZSBqYW5reSB3aXRob3V0IGdldEl0ZW1MYXlvdXQgcHJvcFxuICBzY3JvbGxUb0VuZChwYXJhbXM/OiA/e2FuaW1hdGVkPzogP2Jvb2xlYW59KSB7XG4gICAgY29uc3QgYW5pbWF0ZWQgPSBwYXJhbXMgPyBwYXJhbXMuYW5pbWF0ZWQgOiB0cnVlO1xuICAgIGNvbnN0IHZlcnlMYXN0ID0gdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQodGhpcy5wcm9wcy5kYXRhKSAtIDE7XG4gICAgY29uc3QgZnJhbWUgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3godmVyeUxhc3QpO1xuICAgIGNvbnN0IG9mZnNldCA9IE1hdGgubWF4KFxuICAgICAgMCxcbiAgICAgIGZyYW1lLm9mZnNldCArXG4gICAgICAgIGZyYW1lLmxlbmd0aCArXG4gICAgICAgIHRoaXMuX2Zvb3Rlckxlbmd0aCAtXG4gICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCxcbiAgICApO1xuICAgIC8qICRGbG93Rml4TWUoPj0wLjUzLjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIscmVhY3RfbmF0aXZlX29zcykgVGhpcyBjb21tZW50XG4gICAgICogc3VwcHJlc3NlcyBhbiBlcnJvciB3aGVuIHVwZ3JhZGluZyBGbG93J3Mgc3VwcG9ydCBmb3IgUmVhY3QuIFRvIHNlZSB0aGVcbiAgICAgKiBlcnJvciBkZWxldGUgdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICB0aGlzLl9zY3JvbGxSZWYuc2Nyb2xsVG8oXG4gICAgICAvKiAkRmxvd0ZpeE1lKD49MC41My4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiLHJlYWN0X25hdGl2ZV9vc3MpIFRoaXNcbiAgICAgICAqIGNvbW1lbnQgc3VwcHJlc3NlcyBhbiBlcnJvciB3aGVuIHVwZ3JhZGluZyBGbG93J3Mgc3VwcG9ydCBmb3IgUmVhY3QuXG4gICAgICAgKiBUbyBzZWUgdGhlIGVycm9yIGRlbGV0ZSB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgICAgdGhpcy5wcm9wcy5ob3Jpem9udGFsID8ge3g6IG9mZnNldCwgYW5pbWF0ZWR9IDoge3k6IG9mZnNldCwgYW5pbWF0ZWR9LFxuICAgICk7XG4gIH1cblxuICAvLyBzY3JvbGxUb0luZGV4IG1heSBiZSBqYW5reSB3aXRob3V0IGdldEl0ZW1MYXlvdXQgcHJvcFxuICBzY3JvbGxUb0luZGV4KHBhcmFtczoge1xuICAgIGFuaW1hdGVkPzogP2Jvb2xlYW4sXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICB2aWV3T2Zmc2V0PzogbnVtYmVyLFxuICAgIHZpZXdQb3NpdGlvbj86IG51bWJlcixcbiAgfSkge1xuICAgIGNvbnN0IHtcbiAgICAgIGRhdGEsXG4gICAgICBob3Jpem9udGFsLFxuICAgICAgZ2V0SXRlbUNvdW50LFxuICAgICAgZ2V0SXRlbUxheW91dCxcbiAgICAgIG9uU2Nyb2xsVG9JbmRleEZhaWxlZCxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7YW5pbWF0ZWQsIGluZGV4LCB2aWV3T2Zmc2V0LCB2aWV3UG9zaXRpb259ID0gcGFyYW1zO1xuICAgIGludmFyaWFudChcbiAgICAgIGluZGV4ID49IDAgJiYgaW5kZXggPCBnZXRJdGVtQ291bnQoZGF0YSksXG4gICAgICBgc2Nyb2xsVG9JbmRleCBvdXQgb2YgcmFuZ2U6ICR7aW5kZXh9IHZzICR7Z2V0SXRlbUNvdW50KGRhdGEpIC0gMX1gLFxuICAgICk7XG4gICAgaWYgKCFnZXRJdGVtTGF5b3V0ICYmIGluZGV4ID4gdGhpcy5faGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCkge1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICAhIW9uU2Nyb2xsVG9JbmRleEZhaWxlZCxcbiAgICAgICAgJ3Njcm9sbFRvSW5kZXggc2hvdWxkIGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBnZXRJdGVtTGF5b3V0IG9yIG9uU2Nyb2xsVG9JbmRleEZhaWxlZCwgJyArXG4gICAgICAgICAgJ290aGVyd2lzZSB0aGVyZSBpcyBubyB3YXkgdG8ga25vdyB0aGUgbG9jYXRpb24gb2Ygb2Zmc2NyZWVuIGluZGljZXMgb3IgaGFuZGxlIGZhaWx1cmVzLicsXG4gICAgICApO1xuICAgICAgb25TY3JvbGxUb0luZGV4RmFpbGVkKHtcbiAgICAgICAgYXZlcmFnZUl0ZW1MZW5ndGg6IHRoaXMuX2F2ZXJhZ2VDZWxsTGVuZ3RoLFxuICAgICAgICBoaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4OiB0aGlzLl9oaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4LFxuICAgICAgICBpbmRleCxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmcmFtZSA9IHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveChpbmRleCk7XG4gICAgY29uc3Qgb2Zmc2V0ID1cbiAgICAgIE1hdGgubWF4KFxuICAgICAgICAwLFxuICAgICAgICBmcmFtZS5vZmZzZXQgLVxuICAgICAgICAgICh2aWV3UG9zaXRpb24gfHwgMCkgKlxuICAgICAgICAgICAgKHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCAtIGZyYW1lLmxlbmd0aCksXG4gICAgICApIC0gKHZpZXdPZmZzZXQgfHwgMCk7XG4gICAgLyogJEZsb3dGaXhNZSg+PTAuNTMuMCBzaXRlPXJlYWN0X25hdGl2ZV9mYixyZWFjdF9uYXRpdmVfb3NzKSBUaGlzIGNvbW1lbnRcbiAgICAgKiBzdXBwcmVzc2VzIGFuIGVycm9yIHdoZW4gdXBncmFkaW5nIEZsb3cncyBzdXBwb3J0IGZvciBSZWFjdC4gVG8gc2VlIHRoZVxuICAgICAqIGVycm9yIGRlbGV0ZSB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgIHRoaXMuX3Njcm9sbFJlZi5zY3JvbGxUbyhcbiAgICAgIC8qICRGbG93Rml4TWUoPj0wLjUzLjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIscmVhY3RfbmF0aXZlX29zcykgVGhpc1xuICAgICAgICogY29tbWVudCBzdXBwcmVzc2VzIGFuIGVycm9yIHdoZW4gdXBncmFkaW5nIEZsb3cncyBzdXBwb3J0IGZvciBSZWFjdC5cbiAgICAgICAqIFRvIHNlZSB0aGUgZXJyb3IgZGVsZXRlIHRoaXMgY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgICBob3Jpem9udGFsID8ge3g6IG9mZnNldCwgYW5pbWF0ZWR9IDoge3k6IG9mZnNldCwgYW5pbWF0ZWR9LFxuICAgICk7XG4gIH1cblxuICAvLyBzY3JvbGxUb0l0ZW0gbWF5IGJlIGphbmt5IHdpdGhvdXQgZ2V0SXRlbUxheW91dCBwcm9wLiBSZXF1aXJlZCBsaW5lYXIgc2NhbiB0aHJvdWdoIGl0ZW1zIC1cbiAgLy8gdXNlIHNjcm9sbFRvSW5kZXggaW5zdGVhZCBpZiBwb3NzaWJsZS5cbiAgc2Nyb2xsVG9JdGVtKHBhcmFtczoge1xuICAgIGFuaW1hdGVkPzogP2Jvb2xlYW4sXG4gICAgaXRlbTogSXRlbSxcbiAgICB2aWV3UG9zaXRpb24/OiBudW1iZXIsXG4gIH0pIHtcbiAgICBjb25zdCB7aXRlbX0gPSBwYXJhbXM7XG4gICAgY29uc3Qge2RhdGEsIGdldEl0ZW0sIGdldEl0ZW1Db3VudH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IGdldEl0ZW1Db3VudChkYXRhKTtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgaXRlbUNvdW50OyBpbmRleCsrKSB7XG4gICAgICBpZiAoZ2V0SXRlbShkYXRhLCBpbmRleCkgPT09IGl0ZW0pIHtcbiAgICAgICAgdGhpcy5zY3JvbGxUb0luZGV4KHsuLi5wYXJhbXMsIGluZGV4fSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTY3JvbGwgdG8gYSBzcGVjaWZpYyBjb250ZW50IHBpeGVsIG9mZnNldCBpbiB0aGUgbGlzdC5cbiAgICpcbiAgICogUGFyYW0gYG9mZnNldGAgZXhwZWN0cyB0aGUgb2Zmc2V0IHRvIHNjcm9sbCB0by5cbiAgICogSW4gY2FzZSBvZiBgaG9yaXpvbnRhbGAgaXMgdHJ1ZSwgdGhlIG9mZnNldCBpcyB0aGUgeC12YWx1ZSxcbiAgICogaW4gYW55IG90aGVyIGNhc2UgdGhlIG9mZnNldCBpcyB0aGUgeS12YWx1ZS5cbiAgICpcbiAgICogUGFyYW0gYGFuaW1hdGVkYCAoYHRydWVgIGJ5IGRlZmF1bHQpIGRlZmluZXMgd2hldGhlciB0aGUgbGlzdFxuICAgKiBzaG91bGQgZG8gYW4gYW5pbWF0aW9uIHdoaWxlIHNjcm9sbGluZy5cbiAgICovXG4gIHNjcm9sbFRvT2Zmc2V0KHBhcmFtczoge2FuaW1hdGVkPzogP2Jvb2xlYW4sIG9mZnNldDogbnVtYmVyfSkge1xuICAgIGNvbnN0IHthbmltYXRlZCwgb2Zmc2V0fSA9IHBhcmFtcztcbiAgICAvKiAkRmxvd0ZpeE1lKD49MC41My4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiLHJlYWN0X25hdGl2ZV9vc3MpIFRoaXMgY29tbWVudFxuICAgICAqIHN1cHByZXNzZXMgYW4gZXJyb3Igd2hlbiB1cGdyYWRpbmcgRmxvdydzIHN1cHBvcnQgZm9yIFJlYWN0LiBUbyBzZWUgdGhlXG4gICAgICogZXJyb3IgZGVsZXRlIHRoaXMgY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgdGhpcy5fc2Nyb2xsUmVmLnNjcm9sbFRvKFxuICAgICAgLyogJEZsb3dGaXhNZSg+PTAuNTMuMCBzaXRlPXJlYWN0X25hdGl2ZV9mYixyZWFjdF9uYXRpdmVfb3NzKSBUaGlzXG4gICAgICAgKiBjb21tZW50IHN1cHByZXNzZXMgYW4gZXJyb3Igd2hlbiB1cGdyYWRpbmcgRmxvdydzIHN1cHBvcnQgZm9yIFJlYWN0LlxuICAgICAgICogVG8gc2VlIHRoZSBlcnJvciBkZWxldGUgdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICAgIHRoaXMucHJvcHMuaG9yaXpvbnRhbCA/IHt4OiBvZmZzZXQsIGFuaW1hdGVkfSA6IHt5OiBvZmZzZXQsIGFuaW1hdGVkfSxcbiAgICApO1xuICB9XG5cbiAgcmVjb3JkSW50ZXJhY3Rpb24oKSB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoKGNoaWxkTGlzdCA9PiB7XG4gICAgICBjaGlsZExpc3QucmVmICYmIGNoaWxkTGlzdC5yZWYucmVjb3JkSW50ZXJhY3Rpb24oKTtcbiAgICB9KTtcbiAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5mb3JFYWNoKHQgPT4ge1xuICAgICAgdC52aWV3YWJpbGl0eUhlbHBlci5yZWNvcmRJbnRlcmFjdGlvbigpO1xuICAgIH0pO1xuICAgIHRoaXMuX3VwZGF0ZVZpZXdhYmxlSXRlbXModGhpcy5wcm9wcy5kYXRhKTtcbiAgfVxuXG4gIGZsYXNoU2Nyb2xsSW5kaWNhdG9ycygpIHtcbiAgICAvKiAkRmxvd0ZpeE1lKD49MC41My4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiLHJlYWN0X25hdGl2ZV9vc3MpIFRoaXMgY29tbWVudFxuICAgICAqIHN1cHByZXNzZXMgYW4gZXJyb3Igd2hlbiB1cGdyYWRpbmcgRmxvdydzIHN1cHBvcnQgZm9yIFJlYWN0LiBUbyBzZWUgdGhlXG4gICAgICogZXJyb3IgZGVsZXRlIHRoaXMgY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgdGhpcy5fc2Nyb2xsUmVmLmZsYXNoU2Nyb2xsSW5kaWNhdG9ycygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb3ZpZGVzIGEgaGFuZGxlIHRvIHRoZSB1bmRlcmx5aW5nIHNjcm9sbCByZXNwb25kZXIuXG4gICAqIE5vdGUgdGhhdCBgdGhpcy5fc2Nyb2xsUmVmYCBtaWdodCBub3QgYmUgYSBgU2Nyb2xsVmlld2AsIHNvIHdlXG4gICAqIG5lZWQgdG8gY2hlY2sgdGhhdCBpdCByZXNwb25kcyB0byBgZ2V0U2Nyb2xsUmVzcG9uZGVyYCBiZWZvcmUgY2FsbGluZyBpdC5cbiAgICovXG4gIGdldFNjcm9sbFJlc3BvbmRlcigpIHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsUmVmICYmIHRoaXMuX3Njcm9sbFJlZi5nZXRTY3JvbGxSZXNwb25kZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsUmVzcG9uZGVyKCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0U2Nyb2xsYWJsZU5vZGUoKSB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiAmJiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsYWJsZU5vZGUpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsYWJsZU5vZGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFJlYWN0TmF0aXZlLmZpbmROb2RlSGFuZGxlKHRoaXMuX3Njcm9sbFJlZik7XG4gICAgfVxuICB9XG5cbiAgc2V0TmF0aXZlUHJvcHMocHJvcHM6IE9iamVjdCkge1xuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYpIHtcbiAgICAgIHRoaXMuX3Njcm9sbFJlZi5zZXROYXRpdmVQcm9wcyhwcm9wcyk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICBkaXNhYmxlVmlydHVhbGl6YXRpb246IGZhbHNlLFxuICAgIGhvcml6b250YWw6IGZhbHNlLFxuICAgIGluaXRpYWxOdW1Ub1JlbmRlcjogMTAsXG4gICAga2V5RXh0cmFjdG9yOiAoaXRlbTogSXRlbSwgaW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgaWYgKGl0ZW0ua2V5ICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0ua2V5O1xuICAgICAgfVxuICAgICAgX3VzZWRJbmRleEZvcktleSA9IHRydWU7XG4gICAgICBpZiAoaXRlbS50eXBlICYmIGl0ZW0udHlwZS5kaXNwbGF5TmFtZSkge1xuICAgICAgICBfa2V5bGVzc0l0ZW1Db21wb25lbnROYW1lID0gaXRlbS50eXBlLmRpc3BsYXlOYW1lO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFN0cmluZyhpbmRleCk7XG4gICAgfSxcbiAgICBtYXhUb1JlbmRlclBlckJhdGNoOiAxMCxcbiAgICBvbkVuZFJlYWNoZWRUaHJlc2hvbGQ6IDIsIC8vIG11bHRpcGxlcyBvZiBsZW5ndGhcbiAgICBzY3JvbGxFdmVudFRocm90dGxlOiA1MCxcbiAgICB1cGRhdGVDZWxsc0JhdGNoaW5nUGVyaW9kOiA1MCxcbiAgICB3aW5kb3dTaXplOiAyMSwgLy8gbXVsdGlwbGVzIG9mIGxlbmd0aFxuICB9O1xuXG4gIHN0YXRpYyBjb250ZXh0VHlwZXMgPSB7XG4gICAgdmlydHVhbGl6ZWRDZWxsOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgY2VsbEtleTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICB9KSxcbiAgICB2aXJ0dWFsaXplZExpc3Q6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBnZXRTY3JvbGxNZXRyaWNzOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgIGhvcml6b250YWw6IFByb3BUeXBlcy5ib29sLFxuICAgICAgZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZjogUHJvcFR5cGVzLmZ1bmMsXG4gICAgICBnZXROZXN0ZWRDaGlsZFN0YXRlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgIHJlZ2lzdGVyQXNOZXN0ZWRDaGlsZDogUHJvcFR5cGVzLmZ1bmMsXG4gICAgICB1bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZDogUHJvcFR5cGVzLmZ1bmMsXG4gICAgfSksXG4gIH07XG5cbiAgc3RhdGljIGNoaWxkQ29udGV4dFR5cGVzID0ge1xuICAgIHZpcnR1YWxpemVkTGlzdDogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIGdldFNjcm9sbE1ldHJpY3M6IFByb3BUeXBlcy5mdW5jLFxuICAgICAgaG9yaXpvbnRhbDogUHJvcFR5cGVzLmJvb2wsXG4gICAgICBnZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgIGdldE5lc3RlZENoaWxkU3RhdGU6IFByb3BUeXBlcy5mdW5jLFxuICAgICAgcmVnaXN0ZXJBc05lc3RlZENoaWxkOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgIHVucmVnaXN0ZXJBc05lc3RlZENoaWxkOiBQcm9wVHlwZXMuZnVuYyxcbiAgICB9KSxcbiAgfTtcblxuICBnZXRDaGlsZENvbnRleHQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZpcnR1YWxpemVkTGlzdDoge1xuICAgICAgICBnZXRTY3JvbGxNZXRyaWNzOiB0aGlzLl9nZXRTY3JvbGxNZXRyaWNzLFxuICAgICAgICBob3Jpem9udGFsOiB0aGlzLnByb3BzLmhvcml6b250YWwsXG4gICAgICAgIGdldE91dGVybW9zdFBhcmVudExpc3RSZWY6IHRoaXMuX2dldE91dGVybW9zdFBhcmVudExpc3RSZWYsXG4gICAgICAgIGdldE5lc3RlZENoaWxkU3RhdGU6IHRoaXMuX2dldE5lc3RlZENoaWxkU3RhdGUsXG4gICAgICAgIHJlZ2lzdGVyQXNOZXN0ZWRDaGlsZDogdGhpcy5fcmVnaXN0ZXJBc05lc3RlZENoaWxkLFxuICAgICAgICB1bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZDogdGhpcy5fdW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQsXG4gICAgICB9LFxuICAgIH07XG4gIH1cblxuICBfZ2V0Q2VsbEtleSgpOiBzdHJpbmcge1xuICAgIHJldHVybiAoXG4gICAgICAodGhpcy5jb250ZXh0LnZpcnR1YWxpemVkQ2VsbCAmJiB0aGlzLmNvbnRleHQudmlydHVhbGl6ZWRDZWxsLmNlbGxLZXkpIHx8XG4gICAgICAncm9vdExpc3QnXG4gICAgKTtcbiAgfVxuXG4gIF9nZXRTY3JvbGxNZXRyaWNzID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLl9zY3JvbGxNZXRyaWNzO1xuICB9O1xuXG4gIGhhc01vcmUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX2hhc01vcmU7XG4gIH1cblxuICBfZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZiA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRleHQudmlydHVhbGl6ZWRMaXN0LmdldE91dGVybW9zdFBhcmVudExpc3RSZWYoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9O1xuXG4gIF9nZXROZXN0ZWRDaGlsZFN0YXRlID0gKGtleTogc3RyaW5nKTogP0NoaWxkTGlzdFN0YXRlID0+IHtcbiAgICBjb25zdCBleGlzdGluZ0NoaWxkRGF0YSA9IHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZ2V0KGtleSk7XG4gICAgcmV0dXJuIGV4aXN0aW5nQ2hpbGREYXRhICYmIGV4aXN0aW5nQ2hpbGREYXRhLnN0YXRlO1xuICB9O1xuXG4gIF9yZWdpc3RlckFzTmVzdGVkQ2hpbGQgPSAoY2hpbGRMaXN0OiB7XG4gICAgY2VsbEtleTogc3RyaW5nLFxuICAgIGtleTogc3RyaW5nLFxuICAgIHJlZjogVmlydHVhbGl6ZWRMaXN0LFxuICB9KTogP0NoaWxkTGlzdFN0YXRlID0+IHtcbiAgICAvLyBSZWdpc3RlciB0aGUgbWFwcGluZyBiZXR3ZWVuIHRoaXMgY2hpbGQga2V5IGFuZCB0aGUgY2VsbEtleSBmb3IgaXRzIGNlbGxcbiAgICBjb25zdCBjaGlsZExpc3RzSW5DZWxsID1cbiAgICAgIHRoaXMuX2NlbGxLZXlzVG9DaGlsZExpc3RLZXlzLmdldChjaGlsZExpc3QuY2VsbEtleSkgfHwgbmV3IFNldCgpO1xuICAgIGNoaWxkTGlzdHNJbkNlbGwuYWRkKGNoaWxkTGlzdC5rZXkpO1xuICAgIHRoaXMuX2NlbGxLZXlzVG9DaGlsZExpc3RLZXlzLnNldChjaGlsZExpc3QuY2VsbEtleSwgY2hpbGRMaXN0c0luQ2VsbCk7XG5cbiAgICBjb25zdCBleGlzdGluZ0NoaWxkRGF0YSA9IHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZ2V0KGNoaWxkTGlzdC5rZXkpO1xuICAgIGludmFyaWFudChcbiAgICAgICEoZXhpc3RpbmdDaGlsZERhdGEgJiYgZXhpc3RpbmdDaGlsZERhdGEucmVmICE9PSBudWxsKSxcbiAgICAgICdBIFZpcnR1YWxpemVkTGlzdCBjb250YWlucyBhIGNlbGwgd2hpY2ggaXRzZWxmIGNvbnRhaW5zICcgK1xuICAgICAgICAnbW9yZSB0aGFuIG9uZSBWaXJ0dWFsaXplZExpc3Qgb2YgdGhlIHNhbWUgb3JpZW50YXRpb24gYXMgdGhlIHBhcmVudCAnICtcbiAgICAgICAgJ2xpc3QuIFlvdSBtdXN0IHBhc3MgYSB1bmlxdWUgbGlzdEtleSBwcm9wIHRvIGVhY2ggc2libGluZyBsaXN0LicsXG4gICAgKTtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLnNldChjaGlsZExpc3Qua2V5LCB7XG4gICAgICByZWY6IGNoaWxkTGlzdC5yZWYsXG4gICAgICBzdGF0ZTogbnVsbCxcbiAgICB9KTtcblxuICAgIGlmICh0aGlzLl9oYXNJbnRlcmFjdGVkKSB7XG4gICAgICBjaGlsZExpc3QucmVmLnJlY29yZEludGVyYWN0aW9uKCk7XG4gICAgfVxuICB9O1xuXG4gIF91bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCA9IChjaGlsZExpc3Q6IHtcbiAgICBrZXk6IHN0cmluZyxcbiAgICBzdGF0ZTogQ2hpbGRMaXN0U3RhdGUsXG4gIH0pOiB2b2lkID0+IHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLnNldChjaGlsZExpc3Qua2V5LCB7XG4gICAgICByZWY6IG51bGwsXG4gICAgICBzdGF0ZTogY2hpbGRMaXN0LnN0YXRlLFxuICAgIH0pO1xuICB9O1xuXG4gIHN0YXRlOiBTdGF0ZTtcblxuICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMsIGNvbnRleHQ6IE9iamVjdCkge1xuICAgIHN1cGVyKHByb3BzLCBjb250ZXh0KTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICAhcHJvcHMub25TY3JvbGwgfHwgIXByb3BzLm9uU2Nyb2xsLl9faXNOYXRpdmUsXG4gICAgICAnQ29tcG9uZW50cyBiYXNlZCBvbiBWaXJ0dWFsaXplZExpc3QgbXVzdCBiZSB3cmFwcGVkIHdpdGggQW5pbWF0ZWQuY3JlYXRlQW5pbWF0ZWRDb21wb25lbnQgJyArXG4gICAgICAgICd0byBzdXBwb3J0IG5hdGl2ZSBvblNjcm9sbCBldmVudHMgd2l0aCB1c2VOYXRpdmVEcml2ZXInLFxuICAgICk7XG5cbiAgICBpbnZhcmlhbnQoXG4gICAgICBwcm9wcy53aW5kb3dTaXplID4gMCxcbiAgICAgICdWaXJ0dWFsaXplZExpc3Q6IFRoZSB3aW5kb3dTaXplIHByb3AgbXVzdCBiZSBwcmVzZW50IGFuZCBzZXQgdG8gYSB2YWx1ZSBncmVhdGVyIHRoYW4gMC4nLFxuICAgICk7XG5cbiAgICB0aGlzLl9maWxsUmF0ZUhlbHBlciA9IG5ldyBGaWxsUmF0ZUhlbHBlcih0aGlzLl9nZXRGcmFtZU1ldHJpY3MpO1xuICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyID0gbmV3IEJhdGNoaW5hdG9yKFxuICAgICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlcixcbiAgICAgIHRoaXMucHJvcHMudXBkYXRlQ2VsbHNCYXRjaGluZ1BlcmlvZCxcbiAgICApO1xuXG4gICAgaWYgKHRoaXMucHJvcHMudmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXJzKSB7XG4gICAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcyA9IHRoaXMucHJvcHMudmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXJzLm1hcChcbiAgICAgICAgcGFpciA9PiAoe1xuICAgICAgICAgIHZpZXdhYmlsaXR5SGVscGVyOiBuZXcgVmlld2FiaWxpdHlIZWxwZXIocGFpci52aWV3YWJpbGl0eUNvbmZpZyksXG4gICAgICAgICAgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZDogcGFpci5vblZpZXdhYmxlSXRlbXNDaGFuZ2VkLFxuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLm9uVmlld2FibGVJdGVtc0NoYW5nZWQpIHtcbiAgICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLnB1c2goe1xuICAgICAgICB2aWV3YWJpbGl0eUhlbHBlcjogbmV3IFZpZXdhYmlsaXR5SGVscGVyKHRoaXMucHJvcHMudmlld2FiaWxpdHlDb25maWcpLFxuICAgICAgICBvblZpZXdhYmxlSXRlbXNDaGFuZ2VkOiB0aGlzLnByb3BzLm9uVmlld2FibGVJdGVtc0NoYW5nZWQsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBsZXQgaW5pdGlhbFN0YXRlID0ge1xuICAgICAgZmlyc3Q6IHRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4IHx8IDAsXG4gICAgICBsYXN0OlxuICAgICAgICBNYXRoLm1pbihcbiAgICAgICAgICB0aGlzLnByb3BzLmdldEl0ZW1Db3VudCh0aGlzLnByb3BzLmRhdGEpLFxuICAgICAgICAgICh0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCB8fCAwKSArIHRoaXMucHJvcHMuaW5pdGlhbE51bVRvUmVuZGVyLFxuICAgICAgICApIC0gMSxcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICBjb25zdCBzdG9yZWRTdGF0ZSA9IHRoaXMuY29udGV4dC52aXJ0dWFsaXplZExpc3QuZ2V0TmVzdGVkQ2hpbGRTdGF0ZShcbiAgICAgICAgdGhpcy5wcm9wcy5saXN0S2V5IHx8IHRoaXMuX2dldENlbGxLZXkoKSxcbiAgICAgICk7XG4gICAgICBpZiAoc3RvcmVkU3RhdGUpIHtcbiAgICAgICAgaW5pdGlhbFN0YXRlID0gc3RvcmVkU3RhdGU7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdG9yZWRTdGF0ZTtcbiAgICAgICAgdGhpcy5fZnJhbWVzID0gc3RvcmVkU3RhdGUuZnJhbWVzO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuc3RhdGUgPSBpbml0aWFsU3RhdGU7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIHRoaXMuY29udGV4dC52aXJ0dWFsaXplZExpc3QucmVnaXN0ZXJBc05lc3RlZENoaWxkKHtcbiAgICAgICAgY2VsbEtleTogdGhpcy5fZ2V0Q2VsbEtleSgpLFxuICAgICAgICBrZXk6IHRoaXMucHJvcHMubGlzdEtleSB8fCB0aGlzLl9nZXRDZWxsS2V5KCksXG4gICAgICAgIHJlZjogdGhpcyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgdGhpcy5jb250ZXh0LnZpcnR1YWxpemVkTGlzdC51bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCh7XG4gICAgICAgIGtleTogdGhpcy5wcm9wcy5saXN0S2V5IHx8IHRoaXMuX2dldENlbGxLZXkoKSxcbiAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICBmaXJzdDogdGhpcy5zdGF0ZS5maXJzdCxcbiAgICAgICAgICBsYXN0OiB0aGlzLnN0YXRlLmxhc3QsXG4gICAgICAgICAgZnJhbWVzOiB0aGlzLl9mcmFtZXMsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5fdXBkYXRlVmlld2FibGVJdGVtcyhudWxsKTtcbiAgICB0aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyQmF0Y2hlci5kaXNwb3NlKHthYm9ydDogdHJ1ZX0pO1xuICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLmZvckVhY2godHVwbGUgPT4ge1xuICAgICAgdHVwbGUudmlld2FiaWxpdHlIZWxwZXIuZGlzcG9zZSgpO1xuICAgIH0pO1xuICAgIHRoaXMuX2ZpbGxSYXRlSGVscGVyLmRlYWN0aXZhdGVBbmRGbHVzaCgpO1xuICB9XG5cbiAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXdQcm9wczogUHJvcHMsIHByZXZTdGF0ZTogU3RhdGUpIHtcbiAgICBjb25zdCB7ZGF0YSwgZXh0cmFEYXRhLCBnZXRJdGVtQ291bnQsIG1heFRvUmVuZGVyUGVyQmF0Y2h9ID0gbmV3UHJvcHM7XG4gICAgLy8gZmlyc3QgYW5kIGxhc3QgY291bGQgYmUgc3RhbGUgKGUuZy4gaWYgYSBuZXcsIHNob3J0ZXIgaXRlbXMgcHJvcHMgaXMgcGFzc2VkIGluKSwgc28gd2UgbWFrZVxuICAgIC8vIHN1cmUgd2UncmUgcmVuZGVyaW5nIGEgcmVhc29uYWJsZSByYW5nZSBoZXJlLlxuICAgIHJldHVybiB7XG4gICAgICBmaXJzdDogTWF0aC5tYXgoXG4gICAgICAgIDAsXG4gICAgICAgIE1hdGgubWluKHByZXZTdGF0ZS5maXJzdCwgZ2V0SXRlbUNvdW50KGRhdGEpIC0gMSAtIG1heFRvUmVuZGVyUGVyQmF0Y2gpLFxuICAgICAgKSxcbiAgICAgIGxhc3Q6IE1hdGgubWF4KDAsIE1hdGgubWluKHByZXZTdGF0ZS5sYXN0LCBnZXRJdGVtQ291bnQoZGF0YSkgLSAxKSksXG4gICAgfTtcbiAgfVxuXG4gIF9wdXNoQ2VsbHMoXG4gICAgY2VsbHM6IEFycmF5PE9iamVjdD4sXG4gICAgc3RpY2t5SGVhZGVySW5kaWNlczogQXJyYXk8bnVtYmVyPixcbiAgICBzdGlja3lJbmRpY2VzRnJvbVByb3BzOiBTZXQ8bnVtYmVyPixcbiAgICBmaXJzdDogbnVtYmVyLFxuICAgIGxhc3Q6IG51bWJlcixcbiAgICBpbnZlcnNpb25TdHlsZTogP0Rhbmdlcm91c2x5SW1wcmVjaXNlU3R5bGVQcm9wLFxuICApIHtcbiAgICBjb25zdCB7XG4gICAgICBDZWxsUmVuZGVyZXJDb21wb25lbnQsXG4gICAgICBJdGVtU2VwYXJhdG9yQ29tcG9uZW50LFxuICAgICAgZGF0YSxcbiAgICAgIGdldEl0ZW0sXG4gICAgICBnZXRJdGVtQ291bnQsXG4gICAgICBob3Jpem9udGFsLFxuICAgICAga2V5RXh0cmFjdG9yLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHN0aWNreU9mZnNldCA9IHRoaXMucHJvcHMuTGlzdEhlYWRlckNvbXBvbmVudCA/IDEgOiAwO1xuICAgIGNvbnN0IGVuZCA9IGdldEl0ZW1Db3VudChkYXRhKSAtIDE7XG4gICAgbGV0IHByZXZDZWxsS2V5O1xuICAgIGxhc3QgPSBNYXRoLm1pbihlbmQsIGxhc3QpO1xuICAgIGZvciAobGV0IGlpID0gZmlyc3Q7IGlpIDw9IGxhc3Q7IGlpKyspIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBnZXRJdGVtKGRhdGEsIGlpKTtcbiAgICAgIGNvbnN0IGtleSA9IGtleUV4dHJhY3RvcihpdGVtLCBpaSk7XG4gICAgICB0aGlzLl9pbmRpY2VzVG9LZXlzLnNldChpaSwga2V5KTtcbiAgICAgIGlmIChzdGlja3lJbmRpY2VzRnJvbVByb3BzLmhhcyhpaSArIHN0aWNreU9mZnNldCkpIHtcbiAgICAgICAgc3RpY2t5SGVhZGVySW5kaWNlcy5wdXNoKGNlbGxzLmxlbmd0aCk7XG4gICAgICB9XG4gICAgICBjZWxscy5wdXNoKFxuICAgICAgICA8Q2VsbFJlbmRlcmVyXG4gICAgICAgICAgQ2VsbFJlbmRlcmVyQ29tcG9uZW50PXtDZWxsUmVuZGVyZXJDb21wb25lbnR9XG4gICAgICAgICAgSXRlbVNlcGFyYXRvckNvbXBvbmVudD17aWkgPCBlbmQgPyBJdGVtU2VwYXJhdG9yQ29tcG9uZW50IDogdW5kZWZpbmVkfVxuICAgICAgICAgIGNlbGxLZXk9e2tleX1cbiAgICAgICAgICBmaWxsUmF0ZUhlbHBlcj17dGhpcy5fZmlsbFJhdGVIZWxwZXJ9XG4gICAgICAgICAgaG9yaXpvbnRhbD17aG9yaXpvbnRhbH1cbiAgICAgICAgICBpbmRleD17aWl9XG4gICAgICAgICAgaW52ZXJzaW9uU3R5bGU9e2ludmVyc2lvblN0eWxlfVxuICAgICAgICAgIGl0ZW09e2l0ZW19XG4gICAgICAgICAga2V5PXtrZXl9XG4gICAgICAgICAgcHJldkNlbGxLZXk9e3ByZXZDZWxsS2V5fVxuICAgICAgICAgIG9uVXBkYXRlU2VwYXJhdG9ycz17dGhpcy5fb25VcGRhdGVTZXBhcmF0b3JzfVxuICAgICAgICAgIG9uTGF5b3V0PXtlID0+IHRoaXMuX29uQ2VsbExheW91dChlLCBrZXksIGlpKX1cbiAgICAgICAgICBvblVubW91bnQ9e3RoaXMuX29uQ2VsbFVubW91bnR9XG4gICAgICAgICAgcGFyZW50UHJvcHM9e3RoaXMucHJvcHN9XG4gICAgICAgICAgcmVmPXtyZWYgPT4ge1xuICAgICAgICAgICAgdGhpcy5fY2VsbFJlZnNba2V5XSA9IHJlZjtcbiAgICAgICAgICB9fVxuICAgICAgICAvPixcbiAgICAgICk7XG4gICAgICBwcmV2Q2VsbEtleSA9IGtleTtcbiAgICB9XG4gIH1cblxuICBfb25VcGRhdGVTZXBhcmF0b3JzID0gKGtleXM6IEFycmF5PD9zdHJpbmc+LCBuZXdQcm9wczogT2JqZWN0KSA9PiB7XG4gICAga2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBjb25zdCByZWYgPSBrZXkgIT0gbnVsbCAmJiB0aGlzLl9jZWxsUmVmc1trZXldO1xuICAgICAgcmVmICYmIHJlZi51cGRhdGVTZXBhcmF0b3JQcm9wcyhuZXdQcm9wcyk7XG4gICAgfSk7XG4gIH07XG5cbiAgX2lzVmlydHVhbGl6YXRpb25EaXNhYmxlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5kaXNhYmxlVmlydHVhbGl6YXRpb247XG4gIH1cblxuICBfaXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IG5lc3RlZENvbnRleHQgPSB0aGlzLmNvbnRleHQudmlydHVhbGl6ZWRMaXN0O1xuICAgIHJldHVybiAhIShcbiAgICAgIG5lc3RlZENvbnRleHQgJiYgISFuZXN0ZWRDb250ZXh0Lmhvcml6b250YWwgPT09ICEhdGhpcy5wcm9wcy5ob3Jpem9udGFsXG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoX19ERVZfXykge1xuICAgICAgY29uc3QgZmxhdFN0eWxlcyA9IGZsYXR0ZW5TdHlsZSh0aGlzLnByb3BzLmNvbnRlbnRDb250YWluZXJTdHlsZSk7XG4gICAgICB3YXJuaW5nKFxuICAgICAgICBmbGF0U3R5bGVzID09IG51bGwgfHwgZmxhdFN0eWxlcy5mbGV4V3JhcCAhPT0gJ3dyYXAnLFxuICAgICAgICAnYGZsZXhXcmFwOiBgd3JhcGBgIGlzIG5vdCBzdXBwb3J0ZWQgd2l0aCB0aGUgYFZpcnR1YWxpemVkTGlzdGAgY29tcG9uZW50cy4nICtcbiAgICAgICAgICAnQ29uc2lkZXIgdXNpbmcgYG51bUNvbHVtbnNgIHdpdGggYEZsYXRMaXN0YCBpbnN0ZWFkLicsXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCB7XG4gICAgICBMaXN0RW1wdHlDb21wb25lbnQsXG4gICAgICBMaXN0Rm9vdGVyQ29tcG9uZW50LFxuICAgICAgTGlzdEhlYWRlckNvbXBvbmVudCxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7ZGF0YSwgaG9yaXpvbnRhbH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGlzVmlydHVhbGl6YXRpb25EaXNhYmxlZCA9IHRoaXMuX2lzVmlydHVhbGl6YXRpb25EaXNhYmxlZCgpO1xuICAgIGNvbnN0IGludmVyc2lvblN0eWxlID0gdGhpcy5wcm9wcy5pbnZlcnRlZFxuICAgICAgPyB0aGlzLnByb3BzLmhvcml6b250YWxcbiAgICAgICAgPyBzdHlsZXMuaG9yaXpvbnRhbGx5SW52ZXJ0ZWRcbiAgICAgICAgOiBzdHlsZXMudmVydGljYWxseUludmVydGVkXG4gICAgICA6IG51bGw7XG4gICAgY29uc3QgY2VsbHMgPSBbXTtcbiAgICBjb25zdCBzdGlja3lJbmRpY2VzRnJvbVByb3BzID0gbmV3IFNldCh0aGlzLnByb3BzLnN0aWNreUhlYWRlckluZGljZXMpO1xuICAgIGNvbnN0IHN0aWNreUhlYWRlckluZGljZXMgPSBbXTtcbiAgICBpZiAoTGlzdEhlYWRlckNvbXBvbmVudCkge1xuICAgICAgaWYgKHN0aWNreUluZGljZXNGcm9tUHJvcHMuaGFzKDApKSB7XG4gICAgICAgIHN0aWNreUhlYWRlckluZGljZXMucHVzaCgwKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBSZWFjdC5pc1ZhbGlkRWxlbWVudChMaXN0SGVhZGVyQ29tcG9uZW50KSA/IChcbiAgICAgICAgTGlzdEhlYWRlckNvbXBvbmVudFxuICAgICAgKSA6IChcbiAgICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgICA8TGlzdEhlYWRlckNvbXBvbmVudCAvPlxuICAgICAgKTtcbiAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgIDxWaXJ0dWFsaXplZENlbGxXcmFwcGVyXG4gICAgICAgICAgY2VsbEtleT17dGhpcy5fZ2V0Q2VsbEtleSgpICsgJy1oZWFkZXInfVxuICAgICAgICAgIGtleT1cIiRoZWFkZXJcIj5cbiAgICAgICAgICA8Vmlld1xuICAgICAgICAgICAgb25MYXlvdXQ9e3RoaXMuX29uTGF5b3V0SGVhZGVyfVxuICAgICAgICAgICAgc3R5bGU9e1N0eWxlU2hlZXQuY29tcG9zZShcbiAgICAgICAgICAgICAgaW52ZXJzaW9uU3R5bGUsXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMuTGlzdEhlYWRlckNvbXBvbmVudFN0eWxlLFxuICAgICAgICAgICAgKX0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIC8vICRGbG93Rml4TWUgLSBUeXBpbmcgUmVhY3ROYXRpdmVDb21wb25lbnQgcmV2ZWFsZWQgZXJyb3JzXG4gICAgICAgICAgICAgIGVsZW1lbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L1ZpZXc+XG4gICAgICAgIDwvVmlydHVhbGl6ZWRDZWxsV3JhcHBlcj4sXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBpdGVtQ291bnQgPSB0aGlzLnByb3BzLmdldEl0ZW1Db3VudChkYXRhKTtcbiAgICBpZiAoaXRlbUNvdW50ID4gMCkge1xuICAgICAgX3VzZWRJbmRleEZvcktleSA9IGZhbHNlO1xuICAgICAgX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZSA9ICcnO1xuICAgICAgY29uc3Qgc3BhY2VyS2V5ID0gIWhvcml6b250YWwgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG4gICAgICBjb25zdCBsYXN0SW5pdGlhbEluZGV4ID0gdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXhcbiAgICAgICAgPyAtMVxuICAgICAgICA6IHRoaXMucHJvcHMuaW5pdGlhbE51bVRvUmVuZGVyIC0gMTtcbiAgICAgIGNvbnN0IHtmaXJzdCwgbGFzdH0gPSB0aGlzLnN0YXRlO1xuICAgICAgdGhpcy5fcHVzaENlbGxzKFxuICAgICAgICBjZWxscyxcbiAgICAgICAgc3RpY2t5SGVhZGVySW5kaWNlcyxcbiAgICAgICAgc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcyxcbiAgICAgICAgMCxcbiAgICAgICAgbGFzdEluaXRpYWxJbmRleCxcbiAgICAgICAgaW52ZXJzaW9uU3R5bGUsXG4gICAgICApO1xuICAgICAgY29uc3QgZmlyc3RBZnRlckluaXRpYWwgPSBNYXRoLm1heChsYXN0SW5pdGlhbEluZGV4ICsgMSwgZmlyc3QpO1xuICAgICAgaWYgKCFpc1ZpcnR1YWxpemF0aW9uRGlzYWJsZWQgJiYgZmlyc3QgPiBsYXN0SW5pdGlhbEluZGV4ICsgMSkge1xuICAgICAgICBsZXQgaW5zZXJ0ZWRTdGlja3lTcGFjZXIgPSBmYWxzZTtcbiAgICAgICAgaWYgKHN0aWNreUluZGljZXNGcm9tUHJvcHMuc2l6ZSA+IDApIHtcbiAgICAgICAgICBjb25zdCBzdGlja3lPZmZzZXQgPSBMaXN0SGVhZGVyQ29tcG9uZW50ID8gMSA6IDA7XG4gICAgICAgICAgLy8gU2VlIGlmIHRoZXJlIGFyZSBhbnkgc3RpY2t5IGhlYWRlcnMgaW4gdGhlIHZpcnR1YWxpemVkIHNwYWNlIHRoYXQgd2UgbmVlZCB0byByZW5kZXIuXG4gICAgICAgICAgZm9yIChsZXQgaWkgPSBmaXJzdEFmdGVySW5pdGlhbCAtIDE7IGlpID4gbGFzdEluaXRpYWxJbmRleDsgaWktLSkge1xuICAgICAgICAgICAgaWYgKHN0aWNreUluZGljZXNGcm9tUHJvcHMuaGFzKGlpICsgc3RpY2t5T2Zmc2V0KSkge1xuICAgICAgICAgICAgICBjb25zdCBpbml0QmxvY2sgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3gobGFzdEluaXRpYWxJbmRleCk7XG4gICAgICAgICAgICAgIGNvbnN0IHN0aWNreUJsb2NrID0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGlpKTtcbiAgICAgICAgICAgICAgY29uc3QgbGVhZFNwYWNlID0gc3RpY2t5QmxvY2sub2Zmc2V0IC0gaW5pdEJsb2NrLm9mZnNldDtcbiAgICAgICAgICAgICAgY2VsbHMucHVzaChcbiAgICAgICAgICAgICAgICA8VmlldyBrZXk9XCIkc3RpY2t5X2xlYWRcIiBzdHlsZT17e1tzcGFjZXJLZXldOiBsZWFkU3BhY2V9fSAvPixcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgdGhpcy5fcHVzaENlbGxzKFxuICAgICAgICAgICAgICAgIGNlbGxzLFxuICAgICAgICAgICAgICAgIHN0aWNreUhlYWRlckluZGljZXMsXG4gICAgICAgICAgICAgICAgc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcyxcbiAgICAgICAgICAgICAgICBpaSxcbiAgICAgICAgICAgICAgICBpaSxcbiAgICAgICAgICAgICAgICBpbnZlcnNpb25TdHlsZSxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgY29uc3QgdHJhaWxTcGFjZSA9XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGZpcnN0KS5vZmZzZXQgLVxuICAgICAgICAgICAgICAgIChzdGlja3lCbG9jay5vZmZzZXQgKyBzdGlja3lCbG9jay5sZW5ndGgpO1xuICAgICAgICAgICAgICBjZWxscy5wdXNoKFxuICAgICAgICAgICAgICAgIDxWaWV3IGtleT1cIiRzdGlja3lfdHJhaWxcIiBzdHlsZT17e1tzcGFjZXJLZXldOiB0cmFpbFNwYWNlfX0gLz4sXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGluc2VydGVkU3RpY2t5U3BhY2VyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghaW5zZXJ0ZWRTdGlja3lTcGFjZXIpIHtcbiAgICAgICAgICBjb25zdCBpbml0QmxvY2sgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3gobGFzdEluaXRpYWxJbmRleCk7XG4gICAgICAgICAgY29uc3QgZmlyc3RTcGFjZSA9XG4gICAgICAgICAgICB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3goZmlyc3QpLm9mZnNldCAtXG4gICAgICAgICAgICAoaW5pdEJsb2NrLm9mZnNldCArIGluaXRCbG9jay5sZW5ndGgpO1xuICAgICAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgICAgICA8VmlldyBrZXk9XCIkbGVhZF9zcGFjZXJcIiBzdHlsZT17e1tzcGFjZXJLZXldOiBmaXJzdFNwYWNlfX0gLz4sXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5fcHVzaENlbGxzKFxuICAgICAgICBjZWxscyxcbiAgICAgICAgc3RpY2t5SGVhZGVySW5kaWNlcyxcbiAgICAgICAgc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcyxcbiAgICAgICAgZmlyc3RBZnRlckluaXRpYWwsXG4gICAgICAgIGxhc3QsXG4gICAgICAgIGludmVyc2lvblN0eWxlLFxuICAgICAgKTtcbiAgICAgIGlmICghdGhpcy5faGFzV2FybmVkLmtleXMgJiYgX3VzZWRJbmRleEZvcktleSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgJ1ZpcnR1YWxpemVkTGlzdDogbWlzc2luZyBrZXlzIGZvciBpdGVtcywgbWFrZSBzdXJlIHRvIHNwZWNpZnkgYSBrZXkgcHJvcGVydHkgb24gZWFjaCAnICtcbiAgICAgICAgICAgICdpdGVtIG9yIHByb3ZpZGUgYSBjdXN0b20ga2V5RXh0cmFjdG9yLicsXG4gICAgICAgICAgX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZSxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5faGFzV2FybmVkLmtleXMgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKCFpc1ZpcnR1YWxpemF0aW9uRGlzYWJsZWQgJiYgbGFzdCA8IGl0ZW1Db3VudCAtIDEpIHtcbiAgICAgICAgY29uc3QgbGFzdEZyYW1lID0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGxhc3QpO1xuICAgICAgICAvLyBXaXRob3V0IGdldEl0ZW1MYXlvdXQsIHdlIGxpbWl0IG91ciB0YWlsIHNwYWNlciB0byB0aGUgX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXggdG9cbiAgICAgICAgLy8gcHJldmVudCB0aGUgdXNlciBmb3IgaHlwZXJzY3JvbGxpbmcgaW50byB1bi1tZWFzdXJlZCBhcmVhIGJlY2F1c2Ugb3RoZXJ3aXNlIGNvbnRlbnQgd2lsbFxuICAgICAgICAvLyBsaWtlbHkganVtcCBhcm91bmQgYXMgaXQgcmVuZGVycyBpbiBhYm92ZSB0aGUgdmlld3BvcnQuXG4gICAgICAgIGNvbnN0IGVuZCA9IHRoaXMucHJvcHMuZ2V0SXRlbUxheW91dFxuICAgICAgICAgID8gaXRlbUNvdW50IC0gMVxuICAgICAgICAgIDogTWF0aC5taW4oaXRlbUNvdW50IC0gMSwgdGhpcy5faGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCk7XG4gICAgICAgIGNvbnN0IGVuZEZyYW1lID0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGVuZCk7XG4gICAgICAgIGNvbnN0IHRhaWxTcGFjZXJMZW5ndGggPVxuICAgICAgICAgIGVuZEZyYW1lLm9mZnNldCArXG4gICAgICAgICAgZW5kRnJhbWUubGVuZ3RoIC1cbiAgICAgICAgICAobGFzdEZyYW1lLm9mZnNldCArIGxhc3RGcmFtZS5sZW5ndGgpO1xuICAgICAgICBjZWxscy5wdXNoKFxuICAgICAgICAgIDxWaWV3IGtleT1cIiR0YWlsX3NwYWNlclwiIHN0eWxlPXt7W3NwYWNlcktleV06IHRhaWxTcGFjZXJMZW5ndGh9fSAvPixcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKExpc3RFbXB0eUNvbXBvbmVudCkge1xuICAgICAgY29uc3QgZWxlbWVudDogUmVhY3QuRWxlbWVudDxhbnk+ID0gKChSZWFjdC5pc1ZhbGlkRWxlbWVudChcbiAgICAgICAgTGlzdEVtcHR5Q29tcG9uZW50LFxuICAgICAgKSA/IChcbiAgICAgICAgTGlzdEVtcHR5Q29tcG9uZW50XG4gICAgICApIDogKFxuICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgIDxMaXN0RW1wdHlDb21wb25lbnQgLz5cbiAgICAgICkpOiBhbnkpO1xuICAgICAgY2VsbHMucHVzaChcbiAgICAgICAgUmVhY3QuY2xvbmVFbGVtZW50KGVsZW1lbnQsIHtcbiAgICAgICAgICBrZXk6ICckZW1wdHknLFxuICAgICAgICAgIG9uTGF5b3V0OiBldmVudCA9PiB7XG4gICAgICAgICAgICB0aGlzLl9vbkxheW91dEVtcHR5KGV2ZW50KTtcbiAgICAgICAgICAgIGlmIChlbGVtZW50LnByb3BzLm9uTGF5b3V0KSB7XG4gICAgICAgICAgICAgIGVsZW1lbnQucHJvcHMub25MYXlvdXQoZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgc3R5bGU6IFtlbGVtZW50LnByb3BzLnN0eWxlLCBpbnZlcnNpb25TdHlsZV0sXG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKExpc3RGb290ZXJDb21wb25lbnQpIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBSZWFjdC5pc1ZhbGlkRWxlbWVudChMaXN0Rm9vdGVyQ29tcG9uZW50KSA/IChcbiAgICAgICAgTGlzdEZvb3RlckNvbXBvbmVudFxuICAgICAgKSA6IChcbiAgICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgICA8TGlzdEZvb3RlckNvbXBvbmVudCAvPlxuICAgICAgKTtcbiAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgIDxWaXJ0dWFsaXplZENlbGxXcmFwcGVyXG4gICAgICAgICAgY2VsbEtleT17dGhpcy5fZ2V0Q2VsbEtleSgpICsgJy1mb290ZXInfVxuICAgICAgICAgIGtleT1cIiRmb290ZXJcIj5cbiAgICAgICAgICA8Vmlld1xuICAgICAgICAgICAgb25MYXlvdXQ9e3RoaXMuX29uTGF5b3V0Rm9vdGVyfVxuICAgICAgICAgICAgc3R5bGU9e1N0eWxlU2hlZXQuY29tcG9zZShcbiAgICAgICAgICAgICAgaW52ZXJzaW9uU3R5bGUsXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMuTGlzdEZvb3RlckNvbXBvbmVudFN0eWxlLFxuICAgICAgICAgICAgKX0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIC8vICRGbG93Rml4TWUgLSBUeXBpbmcgUmVhY3ROYXRpdmVDb21wb25lbnQgcmV2ZWFsZWQgZXJyb3JzXG4gICAgICAgICAgICAgIGVsZW1lbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L1ZpZXc+XG4gICAgICAgIDwvVmlydHVhbGl6ZWRDZWxsV3JhcHBlcj4sXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBzY3JvbGxQcm9wcyA9IHtcbiAgICAgIC4uLnRoaXMucHJvcHMsXG4gICAgICBvbkNvbnRlbnRTaXplQ2hhbmdlOiB0aGlzLl9vbkNvbnRlbnRTaXplQ2hhbmdlLFxuICAgICAgb25MYXlvdXQ6IHRoaXMuX29uTGF5b3V0LFxuICAgICAgb25TY3JvbGw6IHRoaXMuX29uU2Nyb2xsLFxuICAgICAgb25TY3JvbGxCZWdpbkRyYWc6IHRoaXMuX29uU2Nyb2xsQmVnaW5EcmFnLFxuICAgICAgb25TY3JvbGxFbmREcmFnOiB0aGlzLl9vblNjcm9sbEVuZERyYWcsXG4gICAgICBvbk1vbWVudHVtU2Nyb2xsRW5kOiB0aGlzLl9vbk1vbWVudHVtU2Nyb2xsRW5kLFxuICAgICAgc2Nyb2xsRXZlbnRUaHJvdHRsZTogdGhpcy5wcm9wcy5zY3JvbGxFdmVudFRocm90dGxlLCAvLyBUT0RPOiBBbmRyb2lkIHN1cHBvcnRcbiAgICAgIGludmVydFN0aWNreUhlYWRlcnM6XG4gICAgICAgIHRoaXMucHJvcHMuaW52ZXJ0U3RpY2t5SGVhZGVycyAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyB0aGlzLnByb3BzLmludmVydFN0aWNreUhlYWRlcnNcbiAgICAgICAgICA6IHRoaXMucHJvcHMuaW52ZXJ0ZWQsXG4gICAgICBzdGlja3lIZWFkZXJJbmRpY2VzLFxuICAgIH07XG4gICAgaWYgKGludmVyc2lvblN0eWxlKSB7XG4gICAgICAvKiAkRmxvd0ZpeE1lKD49MC43MC4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3NlcyBhblxuICAgICAgICogZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjcwIHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZSBlcnJvciBkZWxldGVcbiAgICAgICAqIHRoaXMgY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgICBzY3JvbGxQcm9wcy5zdHlsZSA9IFtpbnZlcnNpb25TdHlsZSwgdGhpcy5wcm9wcy5zdHlsZV07XG4gICAgfVxuXG4gICAgdGhpcy5faGFzTW9yZSA9XG4gICAgICB0aGlzLnN0YXRlLmxhc3QgPCB0aGlzLnByb3BzLmdldEl0ZW1Db3VudCh0aGlzLnByb3BzLmRhdGEpIC0gMTtcblxuICAgIGNvbnN0IHJldCA9IFJlYWN0LmNsb25lRWxlbWVudChcbiAgICAgICh0aGlzLnByb3BzLnJlbmRlclNjcm9sbENvbXBvbmVudCB8fCB0aGlzLl9kZWZhdWx0UmVuZGVyU2Nyb2xsQ29tcG9uZW50KShcbiAgICAgICAgc2Nyb2xsUHJvcHMsXG4gICAgICApLFxuICAgICAgLy8gJEZsb3dGaXhNZSBJbnZhbGlkIHByb3AgdXNhZ2VcbiAgICAgIHtcbiAgICAgICAgcmVmOiB0aGlzLl9jYXB0dXJlU2Nyb2xsUmVmLFxuICAgICAgfSxcbiAgICAgIGNlbGxzLFxuICAgICk7XG4gICAgaWYgKHRoaXMucHJvcHMuZGVidWcpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxWaWV3IHN0eWxlPXt7ZmxleDogMX19PlxuICAgICAgICAgIHtyZXR9XG4gICAgICAgICAge3RoaXMuX3JlbmRlckRlYnVnT3ZlcmxheSgpfVxuICAgICAgICA8L1ZpZXc+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHM6IFByb3BzKSB7XG4gICAgY29uc3Qge2RhdGEsIGV4dHJhRGF0YX0gPSB0aGlzLnByb3BzO1xuICAgIGlmIChkYXRhICE9PSBwcmV2UHJvcHMuZGF0YSB8fCBleHRyYURhdGEgIT09IHByZXZQcm9wcy5leHRyYURhdGEpIHtcbiAgICAgIHRoaXMuX2hhc0RhdGFDaGFuZ2VkU2luY2VFbmRSZWFjaGVkID0gdHJ1ZTtcblxuICAgICAgLy8gY2xlYXIgdGhlIHZpZXdhYmxlSW5kaWNlcyBjYWNoZSB0byBhbHNvIHRyaWdnZXJcbiAgICAgIC8vIHRoZSBvblZpZXdhYmxlSXRlbXNDaGFuZ2VkIGNhbGxiYWNrIHdpdGggdGhlIG5ldyBkYXRhXG4gICAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5mb3JFYWNoKHR1cGxlID0+IHtcbiAgICAgICAgdHVwbGUudmlld2FiaWxpdHlIZWxwZXIucmVzZXRWaWV3YWJsZUluZGljZXMoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKTtcbiAgfVxuXG4gIF9hdmVyYWdlQ2VsbExlbmd0aCA9IDA7XG4gIC8vIE1hcHMgYSBjZWxsIGtleSB0byB0aGUgc2V0IG9mIGtleXMgZm9yIGFsbCBvdXRlcm1vc3QgY2hpbGQgbGlzdHMgd2l0aGluIHRoYXQgY2VsbFxuICBfY2VsbEtleXNUb0NoaWxkTGlzdEtleXM6IE1hcDxzdHJpbmcsIFNldDxzdHJpbmc+PiA9IG5ldyBNYXAoKTtcbiAgX2NlbGxSZWZzID0ge307XG4gIF9maWxsUmF0ZUhlbHBlcjogRmlsbFJhdGVIZWxwZXI7XG4gIF9mcmFtZXMgPSB7fTtcbiAgX2Zvb3Rlckxlbmd0aCA9IDA7XG4gIF9oYXNEYXRhQ2hhbmdlZFNpbmNlRW5kUmVhY2hlZCA9IHRydWU7XG4gIF9oYXNJbnRlcmFjdGVkID0gZmFsc2U7XG4gIF9oYXNNb3JlID0gZmFsc2U7XG4gIF9oYXNXYXJuZWQgPSB7fTtcbiAgX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXggPSAwO1xuICBfaGVhZGVyTGVuZ3RoID0gMDtcbiAgX2luZGljZXNUb0tleXM6IE1hcDxudW1iZXIsIHN0cmluZz4gPSBuZXcgTWFwKCk7XG4gIF9oYXNEb25lSW5pdGlhbFNjcm9sbCA9IGZhbHNlO1xuICBfbmVzdGVkQ2hpbGRMaXN0czogTWFwPFxuICAgIHN0cmluZyxcbiAgICB7cmVmOiA/VmlydHVhbGl6ZWRMaXN0LCBzdGF0ZTogP0NoaWxkTGlzdFN0YXRlfSxcbiAgPiA9IG5ldyBNYXAoKTtcbiAgX29mZnNldEZyb21QYXJlbnRWaXJ0dWFsaXplZExpc3Q6IG51bWJlciA9IDA7XG4gIF9wcmV2UGFyZW50T2Zmc2V0OiBudW1iZXIgPSAwO1xuICBfc2Nyb2xsTWV0cmljcyA9IHtcbiAgICBjb250ZW50TGVuZ3RoOiAwLFxuICAgIGRPZmZzZXQ6IDAsXG4gICAgZHQ6IDEwLFxuICAgIG9mZnNldDogMCxcbiAgICB0aW1lc3RhbXA6IDAsXG4gICAgdmVsb2NpdHk6IDAsXG4gICAgdmlzaWJsZUxlbmd0aDogMCxcbiAgfTtcbiAgX3Njcm9sbFJlZjogP1JlYWN0LkVsZW1lbnRSZWY8YW55PiA9IG51bGw7XG4gIF9zZW50RW5kRm9yQ29udGVudExlbmd0aCA9IDA7XG4gIF90b3RhbENlbGxMZW5ndGggPSAwO1xuICBfdG90YWxDZWxsc01lYXN1cmVkID0gMDtcbiAgX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyOiBCYXRjaGluYXRvcjtcbiAgX3ZpZXdhYmlsaXR5VHVwbGVzOiBBcnJheTxWaWV3YWJpbGl0eUhlbHBlckNhbGxiYWNrVHVwbGU+ID0gW107XG5cbiAgX2NhcHR1cmVTY3JvbGxSZWYgPSByZWYgPT4ge1xuICAgIHRoaXMuX3Njcm9sbFJlZiA9IHJlZjtcbiAgfTtcblxuICBfY29tcHV0ZUJsYW5rbmVzcygpIHtcbiAgICB0aGlzLl9maWxsUmF0ZUhlbHBlci5jb21wdXRlQmxhbmtuZXNzKFxuICAgICAgdGhpcy5wcm9wcyxcbiAgICAgIHRoaXMuc3RhdGUsXG4gICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLFxuICAgICk7XG4gIH1cblxuICBfZGVmYXVsdFJlbmRlclNjcm9sbENvbXBvbmVudCA9IHByb3BzID0+IHtcbiAgICBjb25zdCBvblJlZnJlc2ggPSBwcm9wcy5vblJlZnJlc2g7XG4gICAgaWYgKHRoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICAvLyAkRmxvd0ZpeE1lIC0gVHlwaW5nIFJlYWN0TmF0aXZlQ29tcG9uZW50IHJldmVhbGVkIGVycm9yc1xuICAgICAgcmV0dXJuIDxWaWV3IHsuLi5wcm9wc30gLz47XG4gICAgfSBlbHNlIGlmIChvblJlZnJlc2gpIHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgdHlwZW9mIHByb3BzLnJlZnJlc2hpbmcgPT09ICdib29sZWFuJyxcbiAgICAgICAgJ2ByZWZyZXNoaW5nYCBwcm9wIG11c3QgYmUgc2V0IGFzIGEgYm9vbGVhbiBpbiBvcmRlciB0byB1c2UgYG9uUmVmcmVzaGAsIGJ1dCBnb3QgYCcgK1xuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHByb3BzLnJlZnJlc2hpbmcpICtcbiAgICAgICAgICAnYCcsXG4gICAgICApO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgLy8gJEZsb3dGaXhNZSBJbnZhbGlkIHByb3AgdXNhZ2VcbiAgICAgICAgPFNjcm9sbFZpZXdcbiAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgcmVmcmVzaENvbnRyb2w9e1xuICAgICAgICAgICAgcHJvcHMucmVmcmVzaENvbnRyb2wgPT0gbnVsbCA/IChcbiAgICAgICAgICAgICAgPFJlZnJlc2hDb250cm9sXG4gICAgICAgICAgICAgICAgcmVmcmVzaGluZz17cHJvcHMucmVmcmVzaGluZ31cbiAgICAgICAgICAgICAgICBvblJlZnJlc2g9e29uUmVmcmVzaH1cbiAgICAgICAgICAgICAgICBwcm9ncmVzc1ZpZXdPZmZzZXQ9e3Byb3BzLnByb2dyZXNzVmlld09mZnNldH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIHByb3BzLnJlZnJlc2hDb250cm9sXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gJEZsb3dGaXhNZSBJbnZhbGlkIHByb3AgdXNhZ2VcbiAgICAgIHJldHVybiA8U2Nyb2xsVmlldyB7Li4ucHJvcHN9IC8+O1xuICAgIH1cbiAgfTtcblxuICBfb25DZWxsTGF5b3V0KGUsIGNlbGxLZXksIGluZGV4KSB7XG4gICAgY29uc3QgbGF5b3V0ID0gZS5uYXRpdmVFdmVudC5sYXlvdXQ7XG4gICAgY29uc3QgbmV4dCA9IHtcbiAgICAgIG9mZnNldDogdGhpcy5fc2VsZWN0T2Zmc2V0KGxheW91dCksXG4gICAgICBsZW5ndGg6IHRoaXMuX3NlbGVjdExlbmd0aChsYXlvdXQpLFxuICAgICAgaW5kZXgsXG4gICAgICBpbkxheW91dDogdHJ1ZSxcbiAgICB9O1xuICAgIGNvbnN0IGN1cnIgPSB0aGlzLl9mcmFtZXNbY2VsbEtleV07XG4gICAgaWYgKFxuICAgICAgIWN1cnIgfHxcbiAgICAgIG5leHQub2Zmc2V0ICE9PSBjdXJyLm9mZnNldCB8fFxuICAgICAgbmV4dC5sZW5ndGggIT09IGN1cnIubGVuZ3RoIHx8XG4gICAgICBpbmRleCAhPT0gY3Vyci5pbmRleFxuICAgICkge1xuICAgICAgdGhpcy5fdG90YWxDZWxsTGVuZ3RoICs9IG5leHQubGVuZ3RoIC0gKGN1cnIgPyBjdXJyLmxlbmd0aCA6IDApO1xuICAgICAgdGhpcy5fdG90YWxDZWxsc01lYXN1cmVkICs9IGN1cnIgPyAwIDogMTtcbiAgICAgIHRoaXMuX2F2ZXJhZ2VDZWxsTGVuZ3RoID1cbiAgICAgICAgdGhpcy5fdG90YWxDZWxsTGVuZ3RoIC8gdGhpcy5fdG90YWxDZWxsc01lYXN1cmVkO1xuICAgICAgdGhpcy5fZnJhbWVzW2NlbGxLZXldID0gbmV4dDtcbiAgICAgIHRoaXMuX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXggPSBNYXRoLm1heChcbiAgICAgICAgdGhpcy5faGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCxcbiAgICAgICAgaW5kZXgsXG4gICAgICApO1xuICAgICAgdGhpcy5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2ZyYW1lc1tjZWxsS2V5XS5pbkxheW91dCA9IHRydWU7XG4gICAgfVxuXG4gICAgY29uc3QgY2hpbGRMaXN0S2V5cyA9IHRoaXMuX2NlbGxLZXlzVG9DaGlsZExpc3RLZXlzLmdldChjZWxsS2V5KTtcbiAgICBpZiAoY2hpbGRMaXN0S2V5cykge1xuICAgICAgZm9yIChsZXQgY2hpbGRLZXkgb2YgY2hpbGRMaXN0S2V5cykge1xuICAgICAgICBjb25zdCBjaGlsZExpc3QgPSB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmdldChjaGlsZEtleSk7XG4gICAgICAgIGNoaWxkTGlzdCAmJlxuICAgICAgICAgIGNoaWxkTGlzdC5yZWYgJiZcbiAgICAgICAgICBjaGlsZExpc3QucmVmLm1lYXN1cmVMYXlvdXRSZWxhdGl2ZVRvQ29udGFpbmluZ0xpc3QoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9jb21wdXRlQmxhbmtuZXNzKCk7XG4gIH1cblxuICBfb25DZWxsVW5tb3VudCA9IChjZWxsS2V5OiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBjdXJyID0gdGhpcy5fZnJhbWVzW2NlbGxLZXldO1xuICAgIGlmIChjdXJyKSB7XG4gICAgICB0aGlzLl9mcmFtZXNbY2VsbEtleV0gPSB7Li4uY3VyciwgaW5MYXlvdXQ6IGZhbHNlfTtcbiAgICB9XG4gIH07XG5cbiAgbWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCgpOiB2b2lkIHtcbiAgICBVSU1hbmFnZXIubWVhc3VyZUxheW91dChcbiAgICAgIFJlYWN0TmF0aXZlLmZpbmROb2RlSGFuZGxlKHRoaXMpLFxuICAgICAgUmVhY3ROYXRpdmUuZmluZE5vZGVIYW5kbGUoXG4gICAgICAgIHRoaXMuY29udGV4dC52aXJ0dWFsaXplZExpc3QuZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZigpLFxuICAgICAgKSxcbiAgICAgIGVycm9yID0+IHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIFwiVmlydHVhbGl6ZWRMaXN0OiBFbmNvdW50ZXJlZCBhbiBlcnJvciB3aGlsZSBtZWFzdXJpbmcgYSBsaXN0J3NcIiArXG4gICAgICAgICAgICAnIG9mZnNldCBmcm9tIGl0cyBjb250YWluaW5nIFZpcnR1YWxpemVkTGlzdC4nLFxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgICh4LCB5LCB3aWR0aCwgaGVpZ2h0KSA9PiB7XG4gICAgICAgIHRoaXMuX29mZnNldEZyb21QYXJlbnRWaXJ0dWFsaXplZExpc3QgPSB0aGlzLl9zZWxlY3RPZmZzZXQoe3gsIHl9KTtcbiAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy5jb250ZW50TGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKHt3aWR0aCwgaGVpZ2h0fSk7XG5cbiAgICAgICAgY29uc3Qgc2Nyb2xsTWV0cmljcyA9IHRoaXMuX2NvbnZlcnRQYXJlbnRTY3JvbGxNZXRyaWNzKFxuICAgICAgICAgIHRoaXMuY29udGV4dC52aXJ0dWFsaXplZExpc3QuZ2V0U2Nyb2xsTWV0cmljcygpLFxuICAgICAgICApO1xuICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGggPSBzY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGg7XG4gICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0ID0gc2Nyb2xsTWV0cmljcy5vZmZzZXQ7XG4gICAgICB9LFxuICAgICk7XG4gIH1cblxuICBfb25MYXlvdXQgPSAoZTogT2JqZWN0KSA9PiB7XG4gICAgaWYgKHRoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICAvLyBOZWVkIHRvIGFkanVzdCBvdXIgc2Nyb2xsIG1ldHJpY3MgdG8gYmUgcmVsYXRpdmUgdG8gb3VyIGNvbnRhaW5pbmdcbiAgICAgIC8vIFZpcnR1YWxpemVkTGlzdCBiZWZvcmUgd2UgY2FuIG1ha2UgY2xhaW1zIGFib3V0IGxpc3QgaXRlbSB2aWV3YWJpbGl0eVxuICAgICAgdGhpcy5tZWFzdXJlTGF5b3V0UmVsYXRpdmVUb0NvbnRhaW5pbmdMaXN0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCA9IHRoaXMuX3NlbGVjdExlbmd0aChcbiAgICAgICAgZS5uYXRpdmVFdmVudC5sYXlvdXQsXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLnByb3BzLm9uTGF5b3V0ICYmIHRoaXMucHJvcHMub25MYXlvdXQoZSk7XG4gICAgdGhpcy5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCk7XG4gICAgdGhpcy5fbWF5YmVDYWxsT25FbmRSZWFjaGVkKCk7XG4gIH07XG5cbiAgX29uTGF5b3V0RW1wdHkgPSBlID0+IHtcbiAgICB0aGlzLnByb3BzLm9uTGF5b3V0ICYmIHRoaXMucHJvcHMub25MYXlvdXQoZSk7XG4gIH07XG5cbiAgX29uTGF5b3V0Rm9vdGVyID0gZSA9PiB7XG4gICAgdGhpcy5fZm9vdGVyTGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKGUubmF0aXZlRXZlbnQubGF5b3V0KTtcbiAgfTtcblxuICBfb25MYXlvdXRIZWFkZXIgPSBlID0+IHtcbiAgICB0aGlzLl9oZWFkZXJMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoZS5uYXRpdmVFdmVudC5sYXlvdXQpO1xuICB9O1xuXG4gIF9yZW5kZXJEZWJ1Z092ZXJsYXkoKSB7XG4gICAgY29uc3Qgbm9ybWFsaXplID1cbiAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCAvIHRoaXMuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aDtcbiAgICBjb25zdCBmcmFtZXNJbkxheW91dCA9IFtdO1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KHRoaXMucHJvcHMuZGF0YSk7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGl0ZW1Db3VudDsgaWkrKykge1xuICAgICAgY29uc3QgZnJhbWUgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3goaWkpO1xuICAgICAgLyogJEZsb3dGaXhNZSg+PTAuNjguMCBzaXRlPXJlYWN0X25hdGl2ZV9mYikgVGhpcyBjb21tZW50IHN1cHByZXNzZXMgYW5cbiAgICAgICAqIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC42OCB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IgZGVsZXRlIHRoaXNcbiAgICAgICAqIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgICAgaWYgKGZyYW1lLmluTGF5b3V0KSB7XG4gICAgICAgIGZyYW1lc0luTGF5b3V0LnB1c2goZnJhbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB3aW5kb3dUb3AgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3godGhpcy5zdGF0ZS5maXJzdCkub2Zmc2V0O1xuICAgIGNvbnN0IGZyYW1lTGFzdCA9IHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveCh0aGlzLnN0YXRlLmxhc3QpO1xuICAgIGNvbnN0IHdpbmRvd0xlbiA9IGZyYW1lTGFzdC5vZmZzZXQgKyBmcmFtZUxhc3QubGVuZ3RoIC0gd2luZG93VG9wO1xuICAgIGNvbnN0IHZpc1RvcCA9IHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0O1xuICAgIGNvbnN0IHZpc0xlbiA9IHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aDtcbiAgICBjb25zdCBiYXNlU3R5bGUgPSB7cG9zaXRpb246ICdhYnNvbHV0ZScsIHRvcDogMCwgcmlnaHQ6IDB9O1xuICAgIHJldHVybiAoXG4gICAgICA8Vmlld1xuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIC4uLmJhc2VTdHlsZSxcbiAgICAgICAgICBib3R0b206IDAsXG4gICAgICAgICAgd2lkdGg6IDIwLFxuICAgICAgICAgIGJvcmRlckNvbG9yOiAnYmx1ZScsXG4gICAgICAgICAgYm9yZGVyV2lkdGg6IDEsXG4gICAgICAgIH19PlxuICAgICAgICB7ZnJhbWVzSW5MYXlvdXQubWFwKChmLCBpaSkgPT4gKFxuICAgICAgICAgIDxWaWV3XG4gICAgICAgICAgICBrZXk9eydmJyArIGlpfVxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgLi4uYmFzZVN0eWxlLFxuICAgICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgICB0b3A6IGYub2Zmc2V0ICogbm9ybWFsaXplLFxuICAgICAgICAgICAgICBoZWlnaHQ6IGYubGVuZ3RoICogbm9ybWFsaXplLFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdvcmFuZ2UnLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPlxuICAgICAgICApKX1cbiAgICAgICAgPFZpZXdcbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgLi4uYmFzZVN0eWxlLFxuICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgIHRvcDogd2luZG93VG9wICogbm9ybWFsaXplLFxuICAgICAgICAgICAgaGVpZ2h0OiB3aW5kb3dMZW4gKiBub3JtYWxpemUsXG4gICAgICAgICAgICBib3JkZXJDb2xvcjogJ2dyZWVuJyxcbiAgICAgICAgICAgIGJvcmRlcldpZHRoOiAyLFxuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICAgIDxWaWV3XG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIC4uLmJhc2VTdHlsZSxcbiAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICB0b3A6IHZpc1RvcCAqIG5vcm1hbGl6ZSxcbiAgICAgICAgICAgIGhlaWdodDogdmlzTGVuICogbm9ybWFsaXplLFxuICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICdyZWQnLFxuICAgICAgICAgICAgYm9yZGVyV2lkdGg6IDIsXG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgIDwvVmlldz5cbiAgICApO1xuICB9XG5cbiAgX3NlbGVjdExlbmd0aChtZXRyaWNzOiAkUmVhZE9ubHk8e2hlaWdodDogbnVtYmVyLCB3aWR0aDogbnVtYmVyfT4pOiBudW1iZXIge1xuICAgIHJldHVybiAhdGhpcy5wcm9wcy5ob3Jpem9udGFsID8gbWV0cmljcy5oZWlnaHQgOiBtZXRyaWNzLndpZHRoO1xuICB9XG5cbiAgX3NlbGVjdE9mZnNldChtZXRyaWNzOiAkUmVhZE9ubHk8e3g6IG51bWJlciwgeTogbnVtYmVyfT4pOiBudW1iZXIge1xuICAgIHJldHVybiAhdGhpcy5wcm9wcy5ob3Jpem9udGFsID8gbWV0cmljcy55IDogbWV0cmljcy54O1xuICB9XG5cbiAgX21heWJlQ2FsbE9uRW5kUmVhY2hlZCgpIHtcbiAgICBjb25zdCB7XG4gICAgICBkYXRhLFxuICAgICAgZ2V0SXRlbUNvdW50LFxuICAgICAgb25FbmRSZWFjaGVkLFxuICAgICAgb25FbmRSZWFjaGVkVGhyZXNob2xkLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHtjb250ZW50TGVuZ3RoLCB2aXNpYmxlTGVuZ3RoLCBvZmZzZXR9ID0gdGhpcy5fc2Nyb2xsTWV0cmljcztcbiAgICBjb25zdCBkaXN0YW5jZUZyb21FbmQgPSBjb250ZW50TGVuZ3RoIC0gdmlzaWJsZUxlbmd0aCAtIG9mZnNldDtcbiAgICBpZiAoXG4gICAgICBvbkVuZFJlYWNoZWQgJiZcbiAgICAgIHRoaXMuc3RhdGUubGFzdCA9PT0gZ2V0SXRlbUNvdW50KGRhdGEpIC0gMSAmJlxuICAgICAgLyogJEZsb3dGaXhNZSg+PTAuNjMuMCBzaXRlPXJlYWN0X25hdGl2ZV9mYikgVGhpcyBjb21tZW50IHN1cHByZXNzZXMgYW5cbiAgICAgICAqIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC42MyB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IgZGVsZXRlIHRoaXNcbiAgICAgICAqIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgICAgZGlzdGFuY2VGcm9tRW5kIDwgb25FbmRSZWFjaGVkVGhyZXNob2xkICogdmlzaWJsZUxlbmd0aCAmJlxuICAgICAgKHRoaXMuX2hhc0RhdGFDaGFuZ2VkU2luY2VFbmRSZWFjaGVkIHx8XG4gICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aCAhPT0gdGhpcy5fc2VudEVuZEZvckNvbnRlbnRMZW5ndGgpXG4gICAgKSB7XG4gICAgICAvLyBPbmx5IGNhbGwgb25FbmRSZWFjaGVkIG9uY2UgZm9yIGEgZ2l2ZW4gZGF0YXNldCArIGNvbnRlbnQgbGVuZ3RoLlxuICAgICAgdGhpcy5faGFzRGF0YUNoYW5nZWRTaW5jZUVuZFJlYWNoZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuX3NlbnRFbmRGb3JDb250ZW50TGVuZ3RoID0gdGhpcy5fc2Nyb2xsTWV0cmljcy5jb250ZW50TGVuZ3RoO1xuICAgICAgb25FbmRSZWFjaGVkKHtkaXN0YW5jZUZyb21FbmR9KTtcbiAgICB9XG4gIH1cblxuICBfb25Db250ZW50U2l6ZUNoYW5nZSA9ICh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgPT4ge1xuICAgIGlmIChcbiAgICAgIHdpZHRoID4gMCAmJlxuICAgICAgaGVpZ2h0ID4gMCAmJlxuICAgICAgdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggIT0gbnVsbCAmJlxuICAgICAgdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggPiAwICYmXG4gICAgICAhdGhpcy5faGFzRG9uZUluaXRpYWxTY3JvbGxcbiAgICApIHtcbiAgICAgIHRoaXMuc2Nyb2xsVG9JbmRleCh7XG4gICAgICAgIGFuaW1hdGVkOiBmYWxzZSxcbiAgICAgICAgaW5kZXg6IHRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4LFxuICAgICAgfSk7XG4gICAgICB0aGlzLl9oYXNEb25lSW5pdGlhbFNjcm9sbCA9IHRydWU7XG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BzLm9uQ29udGVudFNpemVDaGFuZ2UpIHtcbiAgICAgIHRoaXMucHJvcHMub25Db250ZW50U2l6ZUNoYW5nZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG4gICAgdGhpcy5fc2Nyb2xsTWV0cmljcy5jb250ZW50TGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKHtoZWlnaHQsIHdpZHRofSk7XG4gICAgdGhpcy5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCk7XG4gICAgdGhpcy5fbWF5YmVDYWxsT25FbmRSZWFjaGVkKCk7XG4gIH07XG5cbiAgLyogVHJhbnNsYXRlcyBtZXRyaWNzIGZyb20gYSBzY3JvbGwgZXZlbnQgaW4gYSBwYXJlbnQgVmlydHVhbGl6ZWRMaXN0IGludG9cbiAgICogY29vcmRpbmF0ZXMgcmVsYXRpdmUgdG8gdGhlIGNoaWxkIGxpc3QuXG4gICAqL1xuICBfY29udmVydFBhcmVudFNjcm9sbE1ldHJpY3MgPSAobWV0cmljczoge1xuICAgIHZpc2libGVMZW5ndGg6IG51bWJlcixcbiAgICBvZmZzZXQ6IG51bWJlcixcbiAgfSkgPT4ge1xuICAgIC8vIE9mZnNldCBvZiB0aGUgdG9wIG9mIHRoZSBuZXN0ZWQgbGlzdCByZWxhdGl2ZSB0byB0aGUgdG9wIG9mIGl0cyBwYXJlbnQncyB2aWV3cG9ydFxuICAgIGNvbnN0IG9mZnNldCA9IG1ldHJpY3Mub2Zmc2V0IC0gdGhpcy5fb2Zmc2V0RnJvbVBhcmVudFZpcnR1YWxpemVkTGlzdDtcbiAgICAvLyBDaGlsZCdzIHZpc2libGUgbGVuZ3RoIGlzIHRoZSBzYW1lIGFzIGl0cyBwYXJlbnQnc1xuICAgIGNvbnN0IHZpc2libGVMZW5ndGggPSBtZXRyaWNzLnZpc2libGVMZW5ndGg7XG4gICAgY29uc3QgZE9mZnNldCA9IG9mZnNldCAtIHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0O1xuICAgIGNvbnN0IGNvbnRlbnRMZW5ndGggPSB0aGlzLl9zY3JvbGxNZXRyaWNzLmNvbnRlbnRMZW5ndGg7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdmlzaWJsZUxlbmd0aCxcbiAgICAgIGNvbnRlbnRMZW5ndGgsXG4gICAgICBvZmZzZXQsXG4gICAgICBkT2Zmc2V0LFxuICAgIH07XG4gIH07XG5cbiAgX29uU2Nyb2xsID0gKGU6IE9iamVjdCkgPT4ge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0LnJlZiAmJiBjaGlsZExpc3QucmVmLl9vblNjcm9sbChlKTtcbiAgICB9KTtcbiAgICBpZiAodGhpcy5wcm9wcy5vblNjcm9sbCkge1xuICAgICAgdGhpcy5wcm9wcy5vblNjcm9sbChlKTtcbiAgICB9XG4gICAgY29uc3QgdGltZXN0YW1wID0gZS50aW1lU3RhbXA7XG4gICAgbGV0IHZpc2libGVMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoZS5uYXRpdmVFdmVudC5sYXlvdXRNZWFzdXJlbWVudCk7XG4gICAgbGV0IGNvbnRlbnRMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoZS5uYXRpdmVFdmVudC5jb250ZW50U2l6ZSk7XG4gICAgbGV0IG9mZnNldCA9IHRoaXMuX3NlbGVjdE9mZnNldChlLm5hdGl2ZUV2ZW50LmNvbnRlbnRPZmZzZXQpO1xuICAgIGxldCBkT2Zmc2V0ID0gb2Zmc2V0IC0gdGhpcy5fc2Nyb2xsTWV0cmljcy5vZmZzZXQ7XG5cbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIGlmICh0aGlzLl9zY3JvbGxNZXRyaWNzLmNvbnRlbnRMZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gSWdub3JlIHNjcm9sbCBldmVudHMgdW50aWwgb25MYXlvdXQgaGFzIGJlZW4gY2FsbGVkIGFuZCB3ZVxuICAgICAgICAvLyBrbm93IG91ciBvZmZzZXQgZnJvbSBvdXIgb2Zmc2V0IGZyb20gb3VyIHBhcmVudFxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAoe1xuICAgICAgICB2aXNpYmxlTGVuZ3RoLFxuICAgICAgICBjb250ZW50TGVuZ3RoLFxuICAgICAgICBvZmZzZXQsXG4gICAgICAgIGRPZmZzZXQsXG4gICAgICB9ID0gdGhpcy5fY29udmVydFBhcmVudFNjcm9sbE1ldHJpY3Moe1xuICAgICAgICB2aXNpYmxlTGVuZ3RoLFxuICAgICAgICBvZmZzZXQsXG4gICAgICB9KSk7XG4gICAgfVxuXG4gICAgY29uc3QgZHQgPSB0aGlzLl9zY3JvbGxNZXRyaWNzLnRpbWVzdGFtcFxuICAgICAgPyBNYXRoLm1heCgxLCB0aW1lc3RhbXAgLSB0aGlzLl9zY3JvbGxNZXRyaWNzLnRpbWVzdGFtcClcbiAgICAgIDogMTtcbiAgICBjb25zdCB2ZWxvY2l0eSA9IGRPZmZzZXQgLyBkdDtcblxuICAgIGlmIChcbiAgICAgIGR0ID4gNTAwICYmXG4gICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLmR0ID4gNTAwICYmXG4gICAgICBjb250ZW50TGVuZ3RoID4gNSAqIHZpc2libGVMZW5ndGggJiZcbiAgICAgICF0aGlzLl9oYXNXYXJuZWQucGVyZlxuICAgICkge1xuICAgICAgaW5mb0xvZyhcbiAgICAgICAgJ1ZpcnR1YWxpemVkTGlzdDogWW91IGhhdmUgYSBsYXJnZSBsaXN0IHRoYXQgaXMgc2xvdyB0byB1cGRhdGUgLSBtYWtlIHN1cmUgeW91ciAnICtcbiAgICAgICAgICAncmVuZGVySXRlbSBmdW5jdGlvbiByZW5kZXJzIGNvbXBvbmVudHMgdGhhdCBmb2xsb3cgUmVhY3QgcGVyZm9ybWFuY2UgYmVzdCBwcmFjdGljZXMgJyArXG4gICAgICAgICAgJ2xpa2UgUHVyZUNvbXBvbmVudCwgc2hvdWxkQ29tcG9uZW50VXBkYXRlLCBldGMuJyxcbiAgICAgICAge2R0LCBwcmV2RHQ6IHRoaXMuX3Njcm9sbE1ldHJpY3MuZHQsIGNvbnRlbnRMZW5ndGh9LFxuICAgICAgKTtcbiAgICAgIHRoaXMuX2hhc1dhcm5lZC5wZXJmID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5fc2Nyb2xsTWV0cmljcyA9IHtcbiAgICAgIGNvbnRlbnRMZW5ndGgsXG4gICAgICBkdCxcbiAgICAgIGRPZmZzZXQsXG4gICAgICBvZmZzZXQsXG4gICAgICB0aW1lc3RhbXAsXG4gICAgICB2ZWxvY2l0eSxcbiAgICAgIHZpc2libGVMZW5ndGgsXG4gICAgfTtcbiAgICB0aGlzLl91cGRhdGVWaWV3YWJsZUl0ZW1zKHRoaXMucHJvcHMuZGF0YSk7XG4gICAgaWYgKCF0aGlzLnByb3BzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX21heWJlQ2FsbE9uRW5kUmVhY2hlZCgpO1xuICAgIGlmICh2ZWxvY2l0eSAhPT0gMCkge1xuICAgICAgdGhpcy5fZmlsbFJhdGVIZWxwZXIuYWN0aXZhdGUoKTtcbiAgICB9XG4gICAgdGhpcy5fY29tcHV0ZUJsYW5rbmVzcygpO1xuICAgIHRoaXMuX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpO1xuICB9O1xuXG4gIF9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKSB7XG4gICAgY29uc3Qge2ZpcnN0LCBsYXN0fSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3Qge29mZnNldCwgdmlzaWJsZUxlbmd0aCwgdmVsb2NpdHl9ID0gdGhpcy5fc2Nyb2xsTWV0cmljcztcbiAgICBjb25zdCBpdGVtQ291bnQgPSB0aGlzLnByb3BzLmdldEl0ZW1Db3VudCh0aGlzLnByb3BzLmRhdGEpO1xuICAgIGxldCBoaVByaSA9IGZhbHNlO1xuICAgIGNvbnN0IHNjcm9sbGluZ1RocmVzaG9sZCA9XG4gICAgICAvKiAkRmxvd0ZpeE1lKD49MC42My4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3NlcyBhblxuICAgICAgICogZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjYzIHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZSBlcnJvciBkZWxldGVcbiAgICAgICAqIHRoaXMgY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgICAodGhpcy5wcm9wcy5vbkVuZFJlYWNoZWRUaHJlc2hvbGQgKiB2aXNpYmxlTGVuZ3RoKSAvIDI7XG4gICAgLy8gTWFyayBhcyBoaWdoIHByaW9yaXR5IGlmIHdlJ3JlIGNsb3NlIHRvIHRoZSBzdGFydCBvZiB0aGUgZmlyc3QgaXRlbVxuICAgIC8vIEJ1dCBvbmx5IGlmIHRoZXJlIGFyZSBpdGVtcyBiZWZvcmUgdGhlIGZpcnN0IHJlbmRlcmVkIGl0ZW1cbiAgICBpZiAoZmlyc3QgPiAwKSB7XG4gICAgICBjb25zdCBkaXN0VG9wID0gb2Zmc2V0IC0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGZpcnN0KS5vZmZzZXQ7XG4gICAgICBoaVByaSA9XG4gICAgICAgIGhpUHJpIHx8IGRpc3RUb3AgPCAwIHx8ICh2ZWxvY2l0eSA8IC0yICYmIGRpc3RUb3AgPCBzY3JvbGxpbmdUaHJlc2hvbGQpO1xuICAgIH1cbiAgICAvLyBNYXJrIGFzIGhpZ2ggcHJpb3JpdHkgaWYgd2UncmUgY2xvc2UgdG8gdGhlIGVuZCBvZiB0aGUgbGFzdCBpdGVtXG4gICAgLy8gQnV0IG9ubHkgaWYgdGhlcmUgYXJlIGl0ZW1zIGFmdGVyIHRoZSBsYXN0IHJlbmRlcmVkIGl0ZW1cbiAgICBpZiAobGFzdCA8IGl0ZW1Db3VudCAtIDEpIHtcbiAgICAgIGNvbnN0IGRpc3RCb3R0b20gPVxuICAgICAgICB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3gobGFzdCkub2Zmc2V0IC0gKG9mZnNldCArIHZpc2libGVMZW5ndGgpO1xuICAgICAgaGlQcmkgPVxuICAgICAgICBoaVByaSB8fFxuICAgICAgICBkaXN0Qm90dG9tIDwgMCB8fFxuICAgICAgICAodmVsb2NpdHkgPiAyICYmIGRpc3RCb3R0b20gPCBzY3JvbGxpbmdUaHJlc2hvbGQpO1xuICAgIH1cbiAgICAvLyBPbmx5IHRyaWdnZXIgaGlnaC1wcmlvcml0eSB1cGRhdGVzIGlmIHdlJ3ZlIGFjdHVhbGx5IHJlbmRlcmVkIGNlbGxzLFxuICAgIC8vIGFuZCB3aXRoIHRoYXQgc2l6ZSBlc3RpbWF0ZSwgYWNjdXJhdGVseSBjb21wdXRlIGhvdyBtYW55IGNlbGxzIHdlIHNob3VsZCByZW5kZXIuXG4gICAgLy8gT3RoZXJ3aXNlLCBpdCB3b3VsZCBqdXN0IHJlbmRlciBhcyBtYW55IGNlbGxzIGFzIGl0IGNhbiAob2YgemVybyBkaW1lbnNpb24pLFxuICAgIC8vIGVhY2ggdGltZSB0aHJvdWdoIGF0dGVtcHRpbmcgdG8gcmVuZGVyIG1vcmUgKGxpbWl0ZWQgYnkgbWF4VG9SZW5kZXJQZXJCYXRjaCksXG4gICAgLy8gc3RhcnZpbmcgdGhlIHJlbmRlcmVyIGZyb20gYWN0dWFsbHkgbGF5aW5nIG91dCB0aGUgb2JqZWN0cyBhbmQgY29tcHV0aW5nIF9hdmVyYWdlQ2VsbExlbmd0aC5cbiAgICBpZiAoaGlQcmkgJiYgdGhpcy5fYXZlcmFnZUNlbGxMZW5ndGgpIHtcbiAgICAgIC8vIERvbid0IHdvcnJ5IGFib3V0IGludGVyYWN0aW9ucyB3aGVuIHNjcm9sbGluZyBxdWlja2x5OyBmb2N1cyBvbiBmaWxsaW5nIGNvbnRlbnQgYXMgZmFzdFxuICAgICAgLy8gYXMgcG9zc2libGUuXG4gICAgICB0aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyQmF0Y2hlci5kaXNwb3NlKHthYm9ydDogdHJ1ZX0pO1xuICAgICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlcigpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyQmF0Y2hlci5zY2hlZHVsZSgpO1xuICAgIH1cbiAgfVxuXG4gIF9vblNjcm9sbEJlZ2luRHJhZyA9IChlKTogdm9pZCA9PiB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoKGNoaWxkTGlzdCA9PiB7XG4gICAgICBjaGlsZExpc3QucmVmICYmIGNoaWxkTGlzdC5yZWYuX29uU2Nyb2xsQmVnaW5EcmFnKGUpO1xuICAgIH0pO1xuICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLmZvckVhY2godHVwbGUgPT4ge1xuICAgICAgdHVwbGUudmlld2FiaWxpdHlIZWxwZXIucmVjb3JkSW50ZXJhY3Rpb24oKTtcbiAgICB9KTtcbiAgICB0aGlzLl9oYXNJbnRlcmFjdGVkID0gdHJ1ZTtcbiAgICB0aGlzLnByb3BzLm9uU2Nyb2xsQmVnaW5EcmFnICYmIHRoaXMucHJvcHMub25TY3JvbGxCZWdpbkRyYWcoZSk7XG4gIH07XG5cbiAgX29uU2Nyb2xsRW5kRHJhZyA9IChlKTogdm9pZCA9PiB7XG4gICAgY29uc3Qge3ZlbG9jaXR5fSA9IGUubmF0aXZlRXZlbnQ7XG4gICAgaWYgKHZlbG9jaXR5KSB7XG4gICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZlbG9jaXR5ID0gdGhpcy5fc2VsZWN0T2Zmc2V0KHZlbG9jaXR5KTtcbiAgICB9XG4gICAgdGhpcy5fY29tcHV0ZUJsYW5rbmVzcygpO1xuICAgIHRoaXMucHJvcHMub25TY3JvbGxFbmREcmFnICYmIHRoaXMucHJvcHMub25TY3JvbGxFbmREcmFnKGUpO1xuICB9O1xuXG4gIF9vbk1vbWVudHVtU2Nyb2xsRW5kID0gKGUpOiB2b2lkID0+IHtcbiAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZlbG9jaXR5ID0gMDtcbiAgICB0aGlzLl9jb21wdXRlQmxhbmtuZXNzKCk7XG4gICAgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsRW5kICYmIHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEVuZChlKTtcbiAgfTtcblxuICBfdXBkYXRlQ2VsbHNUb1JlbmRlciA9ICgpID0+IHtcbiAgICBjb25zdCB7ZGF0YSwgZ2V0SXRlbUNvdW50LCBvbkVuZFJlYWNoZWRUaHJlc2hvbGR9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBpc1ZpcnR1YWxpemF0aW9uRGlzYWJsZWQgPSB0aGlzLl9pc1ZpcnR1YWxpemF0aW9uRGlzYWJsZWQoKTtcbiAgICB0aGlzLl91cGRhdGVWaWV3YWJsZUl0ZW1zKGRhdGEpO1xuICAgIGlmICghZGF0YSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnNldFN0YXRlKHN0YXRlID0+IHtcbiAgICAgIGxldCBuZXdTdGF0ZTtcbiAgICAgIGlmICghaXNWaXJ0dWFsaXphdGlvbkRpc2FibGVkKSB7XG4gICAgICAgIC8vIElmIHdlIHJ1biB0aGlzIHdpdGggYm9ndXMgZGF0YSwgd2UnbGwgZm9yY2UtcmVuZGVyIHdpbmRvdyB7Zmlyc3Q6IDAsIGxhc3Q6IDB9LFxuICAgICAgICAvLyBhbmQgd2lwZSBvdXQgdGhlIGluaXRpYWxOdW1Ub1JlbmRlciByZW5kZXJlZCBlbGVtZW50cy5cbiAgICAgICAgLy8gU28gbGV0J3Mgd2FpdCB1bnRpbCB0aGUgc2Nyb2xsIHZpZXcgbWV0cmljcyBoYXZlIGJlZW4gc2V0IHVwLiBBbmQgdW50aWwgdGhlbixcbiAgICAgICAgLy8gd2Ugd2lsbCB0cnVzdCB0aGUgaW5pdGlhbE51bVRvUmVuZGVyIHN1Z2dlc3Rpb25cbiAgICAgICAgaWYgKHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCkge1xuICAgICAgICAgIC8vIElmIHdlIGhhdmUgYSBub24temVybyBpbml0aWFsU2Nyb2xsSW5kZXggYW5kIHJ1biB0aGlzIGJlZm9yZSB3ZSd2ZSBzY3JvbGxlZCxcbiAgICAgICAgICAvLyB3ZSdsbCB3aXBlIG91dCB0aGUgaW5pdGlhbE51bVRvUmVuZGVyIHJlbmRlcmVkIGVsZW1lbnRzIHN0YXJ0aW5nIGF0IGluaXRpYWxTY3JvbGxJbmRleC5cbiAgICAgICAgICAvLyBTbyBsZXQncyB3YWl0IHVudGlsIHdlJ3ZlIHNjcm9sbGVkIHRoZSB2aWV3IHRvIHRoZSByaWdodCBwbGFjZS4gQW5kIHVudGlsIHRoZW4sXG4gICAgICAgICAgLy8gd2Ugd2lsbCB0cnVzdCB0aGUgaW5pdGlhbFNjcm9sbEluZGV4IHN1Z2dlc3Rpb24uXG4gICAgICAgICAgaWYgKCF0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCB8fCB0aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldCkge1xuICAgICAgICAgICAgbmV3U3RhdGUgPSBjb21wdXRlV2luZG93ZWRSZW5kZXJMaW1pdHMoXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgICB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3gsXG4gICAgICAgICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qge2NvbnRlbnRMZW5ndGgsIG9mZnNldCwgdmlzaWJsZUxlbmd0aH0gPSB0aGlzLl9zY3JvbGxNZXRyaWNzO1xuICAgICAgICBjb25zdCBkaXN0YW5jZUZyb21FbmQgPSBjb250ZW50TGVuZ3RoIC0gdmlzaWJsZUxlbmd0aCAtIG9mZnNldDtcbiAgICAgICAgY29uc3QgcmVuZGVyQWhlYWQgPVxuICAgICAgICAgIC8qICRGbG93Rml4TWUoPj0wLjYzLjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIpIFRoaXMgY29tbWVudCBzdXBwcmVzc2VzXG4gICAgICAgICAgICogYW4gZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjYzIHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZSBlcnJvclxuICAgICAgICAgICAqIGRlbGV0ZSB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgICAgICAgIGRpc3RhbmNlRnJvbUVuZCA8IG9uRW5kUmVhY2hlZFRocmVzaG9sZCAqIHZpc2libGVMZW5ndGhcbiAgICAgICAgICAgID8gdGhpcy5wcm9wcy5tYXhUb1JlbmRlclBlckJhdGNoXG4gICAgICAgICAgICA6IDA7XG4gICAgICAgIG5ld1N0YXRlID0ge1xuICAgICAgICAgIGZpcnN0OiAwLFxuICAgICAgICAgIGxhc3Q6IE1hdGgubWluKHN0YXRlLmxhc3QgKyByZW5kZXJBaGVhZCwgZ2V0SXRlbUNvdW50KGRhdGEpIC0gMSksXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAobmV3U3RhdGUgJiYgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5zaXplID4gMCkge1xuICAgICAgICBjb25zdCBuZXdGaXJzdCA9IG5ld1N0YXRlLmZpcnN0O1xuICAgICAgICBjb25zdCBuZXdMYXN0ID0gbmV3U3RhdGUubGFzdDtcbiAgICAgICAgLy8gSWYgc29tZSBjZWxsIGluIHRoZSBuZXcgc3RhdGUgaGFzIGEgY2hpbGQgbGlzdCBpbiBpdCwgd2Ugc2hvdWxkIG9ubHkgcmVuZGVyXG4gICAgICAgIC8vIHVwIHRocm91Z2ggdGhhdCBpdGVtLCBzbyB0aGF0IHdlIGdpdmUgdGhhdCBsaXN0IGEgY2hhbmNlIHRvIHJlbmRlci5cbiAgICAgICAgLy8gT3RoZXJ3aXNlIHRoZXJlJ3MgY2h1cm4gZnJvbSBtdWx0aXBsZSBjaGlsZCBsaXN0cyBtb3VudGluZyBhbmQgdW4tbW91bnRpbmdcbiAgICAgICAgLy8gdGhlaXIgaXRlbXMuXG4gICAgICAgIGZvciAobGV0IGlpID0gbmV3Rmlyc3Q7IGlpIDw9IG5ld0xhc3Q7IGlpKyspIHtcbiAgICAgICAgICBjb25zdCBjZWxsS2V5Rm9ySW5kZXggPSB0aGlzLl9pbmRpY2VzVG9LZXlzLmdldChpaSk7XG4gICAgICAgICAgY29uc3QgY2hpbGRMaXN0S2V5cyA9XG4gICAgICAgICAgICBjZWxsS2V5Rm9ySW5kZXggJiZcbiAgICAgICAgICAgIHRoaXMuX2NlbGxLZXlzVG9DaGlsZExpc3RLZXlzLmdldChjZWxsS2V5Rm9ySW5kZXgpO1xuICAgICAgICAgIGlmICghY2hpbGRMaXN0S2V5cykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBzb21lQ2hpbGRIYXNNb3JlID0gZmFsc2U7XG4gICAgICAgICAgLy8gRm9yIGVhY2ggY2VsbCwgbmVlZCB0byBjaGVjayB3aGV0aGVyIGFueSBjaGlsZCBsaXN0IGluIGl0IGhhcyBtb3JlIGVsZW1lbnRzIHRvIHJlbmRlclxuICAgICAgICAgIGZvciAobGV0IGNoaWxkS2V5IG9mIGNoaWxkTGlzdEtleXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkTGlzdCA9IHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZ2V0KGNoaWxkS2V5KTtcbiAgICAgICAgICAgIGlmIChjaGlsZExpc3QgJiYgY2hpbGRMaXN0LnJlZiAmJiBjaGlsZExpc3QucmVmLmhhc01vcmUoKSkge1xuICAgICAgICAgICAgICBzb21lQ2hpbGRIYXNNb3JlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzb21lQ2hpbGRIYXNNb3JlKSB7XG4gICAgICAgICAgICBuZXdTdGF0ZS5sYXN0ID0gaWk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICB9KTtcbiAgfTtcblxuICBfY3JlYXRlVmlld1Rva2VuID0gKGluZGV4OiBudW1iZXIsIGlzVmlld2FibGU6IGJvb2xlYW4pID0+IHtcbiAgICBjb25zdCB7ZGF0YSwgZ2V0SXRlbSwga2V5RXh0cmFjdG9yfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgaXRlbSA9IGdldEl0ZW0oZGF0YSwgaW5kZXgpO1xuICAgIHJldHVybiB7aW5kZXgsIGl0ZW0sIGtleToga2V5RXh0cmFjdG9yKGl0ZW0sIGluZGV4KSwgaXNWaWV3YWJsZX07XG4gIH07XG5cbiAgX2dldEZyYW1lTWV0cmljc0FwcHJveCA9IChcbiAgICBpbmRleDogbnVtYmVyLFxuICApOiB7bGVuZ3RoOiBudW1iZXIsIG9mZnNldDogbnVtYmVyfSA9PiB7XG4gICAgY29uc3QgZnJhbWUgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3MoaW5kZXgpO1xuICAgIGlmIChmcmFtZSAmJiBmcmFtZS5pbmRleCA9PT0gaW5kZXgpIHtcbiAgICAgIC8vIGNoZWNrIGZvciBpbnZhbGlkIGZyYW1lcyBkdWUgdG8gcm93IHJlLW9yZGVyaW5nXG4gICAgICByZXR1cm4gZnJhbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHtnZXRJdGVtTGF5b3V0fSA9IHRoaXMucHJvcHM7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgICFnZXRJdGVtTGF5b3V0LFxuICAgICAgICAnU2hvdWxkIG5vdCBoYXZlIHRvIGVzdGltYXRlIGZyYW1lcyB3aGVuIGEgbWVhc3VyZW1lbnQgbWV0cmljcyBmdW5jdGlvbiBpcyBwcm92aWRlZCcsXG4gICAgICApO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGVuZ3RoOiB0aGlzLl9hdmVyYWdlQ2VsbExlbmd0aCxcbiAgICAgICAgb2Zmc2V0OiB0aGlzLl9hdmVyYWdlQ2VsbExlbmd0aCAqIGluZGV4LFxuICAgICAgfTtcbiAgICB9XG4gIH07XG5cbiAgX2dldEZyYW1lTWV0cmljcyA9IChcbiAgICBpbmRleDogbnVtYmVyLFxuICApOiA/e1xuICAgIGxlbmd0aDogbnVtYmVyLFxuICAgIG9mZnNldDogbnVtYmVyLFxuICAgIGluZGV4OiBudW1iZXIsXG4gICAgaW5MYXlvdXQ/OiBib29sZWFuLFxuICB9ID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBkYXRhLFxuICAgICAgZ2V0SXRlbSxcbiAgICAgIGdldEl0ZW1Db3VudCxcbiAgICAgIGdldEl0ZW1MYXlvdXQsXG4gICAgICBrZXlFeHRyYWN0b3IsXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgaW52YXJpYW50KFxuICAgICAgZ2V0SXRlbUNvdW50KGRhdGEpID4gaW5kZXgsXG4gICAgICAnVHJpZWQgdG8gZ2V0IGZyYW1lIGZvciBvdXQgb2YgcmFuZ2UgaW5kZXggJyArIGluZGV4LFxuICAgICk7XG4gICAgY29uc3QgaXRlbSA9IGdldEl0ZW0oZGF0YSwgaW5kZXgpO1xuICAgIGxldCBmcmFtZSA9IGl0ZW0gJiYgdGhpcy5fZnJhbWVzW2tleUV4dHJhY3RvcihpdGVtLCBpbmRleCldO1xuICAgIGlmICghZnJhbWUgfHwgZnJhbWUuaW5kZXggIT09IGluZGV4KSB7XG4gICAgICBpZiAoZ2V0SXRlbUxheW91dCkge1xuICAgICAgICBmcmFtZSA9IGdldEl0ZW1MYXlvdXQoZGF0YSwgaW5kZXgpO1xuICAgICAgICBpZiAoX19ERVZfXykge1xuICAgICAgICAgIGNvbnN0IGZyYW1lVHlwZSA9IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICAgICAgICBsZW5ndGg6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIG9mZnNldDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgaW5kZXg6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgICAgICAgICB9KS5pc1JlcXVpcmVkO1xuICAgICAgICAgIFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcyhcbiAgICAgICAgICAgIHtmcmFtZTogZnJhbWVUeXBlfSxcbiAgICAgICAgICAgIHtmcmFtZX0sXG4gICAgICAgICAgICAnZnJhbWUnLFxuICAgICAgICAgICAgJ1ZpcnR1YWxpemVkTGlzdC5nZXRJdGVtTGF5b3V0JyxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8qICRGbG93Rml4TWUoPj0wLjYzLjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIpIFRoaXMgY29tbWVudCBzdXBwcmVzc2VzIGFuXG4gICAgICogZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjYzIHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZSBlcnJvciBkZWxldGUgdGhpc1xuICAgICAqIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgIHJldHVybiBmcmFtZTtcbiAgfTtcblxuICBfdXBkYXRlVmlld2FibGVJdGVtcyhkYXRhOiBhbnkpIHtcbiAgICBjb25zdCB7Z2V0SXRlbUNvdW50fSA9IHRoaXMucHJvcHM7XG5cbiAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5mb3JFYWNoKHR1cGxlID0+IHtcbiAgICAgIHR1cGxlLnZpZXdhYmlsaXR5SGVscGVyLm9uVXBkYXRlKFxuICAgICAgICBnZXRJdGVtQ291bnQoZGF0YSksXG4gICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0LFxuICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGgsXG4gICAgICAgIHRoaXMuX2dldEZyYW1lTWV0cmljcyxcbiAgICAgICAgdGhpcy5fY3JlYXRlVmlld1Rva2VuLFxuICAgICAgICB0dXBsZS5vblZpZXdhYmxlSXRlbXNDaGFuZ2VkLFxuICAgICAgICB0aGlzLnN0YXRlLFxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxufVxuXG5jbGFzcyBDZWxsUmVuZGVyZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8XG4gIHtcbiAgICBDZWxsUmVuZGVyZXJDb21wb25lbnQ/OiA/UmVhY3QuQ29tcG9uZW50VHlwZTxhbnk+LFxuICAgIEl0ZW1TZXBhcmF0b3JDb21wb25lbnQ6ID9SZWFjdC5Db21wb25lbnRUeXBlPCo+LFxuICAgIGNlbGxLZXk6IHN0cmluZyxcbiAgICBmaWxsUmF0ZUhlbHBlcjogRmlsbFJhdGVIZWxwZXIsXG4gICAgaG9yaXpvbnRhbDogP2Jvb2xlYW4sXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICBpbnZlcnNpb25TdHlsZTogP0Rhbmdlcm91c2x5SW1wcmVjaXNlU3R5bGVQcm9wLFxuICAgIGl0ZW06IEl0ZW0sXG4gICAgb25MYXlvdXQ6IChldmVudDogT2JqZWN0KSA9PiB2b2lkLCAvLyBUaGlzIGlzIGV4dHJhY3RlZCBieSBTY3JvbGxWaWV3U3RpY2t5SGVhZGVyXG4gICAgb25Vbm1vdW50OiAoY2VsbEtleTogc3RyaW5nKSA9PiB2b2lkLFxuICAgIG9uVXBkYXRlU2VwYXJhdG9yczogKGNlbGxLZXlzOiBBcnJheTw/c3RyaW5nPiwgcHJvcHM6IE9iamVjdCkgPT4gdm9pZCxcbiAgICBwYXJlbnRQcm9wczoge1xuICAgICAgZ2V0SXRlbUxheW91dD86ID9GdW5jdGlvbixcbiAgICAgIHJlbmRlckl0ZW06IHJlbmRlckl0ZW1UeXBlLFxuICAgIH0sXG4gICAgcHJldkNlbGxLZXk6ID9zdHJpbmcsXG4gIH0sXG4gICRGbG93Rml4TWVTdGF0ZSxcbj4ge1xuICBzdGF0ZSA9IHtcbiAgICBzZXBhcmF0b3JQcm9wczoge1xuICAgICAgaGlnaGxpZ2h0ZWQ6IGZhbHNlLFxuICAgICAgbGVhZGluZ0l0ZW06IHRoaXMucHJvcHMuaXRlbSxcbiAgICB9LFxuICB9O1xuXG4gIHN0YXRpYyBjaGlsZENvbnRleHRUeXBlcyA9IHtcbiAgICB2aXJ0dWFsaXplZENlbGw6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBjZWxsS2V5OiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIH0pLFxuICB9O1xuXG4gIGdldENoaWxkQ29udGV4dCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdmlydHVhbGl6ZWRDZWxsOiB7XG4gICAgICAgIGNlbGxLZXk6IHRoaXMucHJvcHMuY2VsbEtleSxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuXG4gIC8vIFRPRE86IGNvbnNpZGVyIGZhY3RvcmluZyBzZXBhcmF0b3Igc3R1ZmYgb3V0IG9mIFZpcnR1YWxpemVkTGlzdCBpbnRvIEZsYXRMaXN0IHNpbmNlIGl0J3Mgbm90XG4gIC8vIHJldXNlZCBieSBTZWN0aW9uTGlzdCBhbmQgd2UgY2FuIGtlZXAgVmlydHVhbGl6ZWRMaXN0IHNpbXBsZXIuXG4gIF9zZXBhcmF0b3JzID0ge1xuICAgIGhpZ2hsaWdodDogKCkgPT4ge1xuICAgICAgY29uc3Qge2NlbGxLZXksIHByZXZDZWxsS2V5fSA9IHRoaXMucHJvcHM7XG4gICAgICB0aGlzLnByb3BzLm9uVXBkYXRlU2VwYXJhdG9ycyhbY2VsbEtleSwgcHJldkNlbGxLZXldLCB7XG4gICAgICAgIGhpZ2hsaWdodGVkOiB0cnVlLFxuICAgICAgfSk7XG4gICAgfSxcbiAgICB1bmhpZ2hsaWdodDogKCkgPT4ge1xuICAgICAgY29uc3Qge2NlbGxLZXksIHByZXZDZWxsS2V5fSA9IHRoaXMucHJvcHM7XG4gICAgICB0aGlzLnByb3BzLm9uVXBkYXRlU2VwYXJhdG9ycyhbY2VsbEtleSwgcHJldkNlbGxLZXldLCB7XG4gICAgICAgIGhpZ2hsaWdodGVkOiBmYWxzZSxcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgdXBkYXRlUHJvcHM6IChzZWxlY3Q6ICdsZWFkaW5nJyB8ICd0cmFpbGluZycsIG5ld1Byb3BzOiBPYmplY3QpID0+IHtcbiAgICAgIGNvbnN0IHtjZWxsS2V5LCBwcmV2Q2VsbEtleX0gPSB0aGlzLnByb3BzO1xuICAgICAgdGhpcy5wcm9wcy5vblVwZGF0ZVNlcGFyYXRvcnMoXG4gICAgICAgIFtzZWxlY3QgPT09ICdsZWFkaW5nJyA/IHByZXZDZWxsS2V5IDogY2VsbEtleV0sXG4gICAgICAgIG5ld1Byb3BzLFxuICAgICAgKTtcbiAgICB9LFxuICB9O1xuXG4gIHVwZGF0ZVNlcGFyYXRvclByb3BzKG5ld1Byb3BzOiBPYmplY3QpIHtcbiAgICB0aGlzLnNldFN0YXRlKHN0YXRlID0+ICh7XG4gICAgICBzZXBhcmF0b3JQcm9wczogey4uLnN0YXRlLnNlcGFyYXRvclByb3BzLCAuLi5uZXdQcm9wc30sXG4gICAgfSkpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5wcm9wcy5vblVubW91bnQodGhpcy5wcm9wcy5jZWxsS2V5KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBDZWxsUmVuZGVyZXJDb21wb25lbnQsXG4gICAgICBJdGVtU2VwYXJhdG9yQ29tcG9uZW50LFxuICAgICAgZmlsbFJhdGVIZWxwZXIsXG4gICAgICBob3Jpem9udGFsLFxuICAgICAgaXRlbSxcbiAgICAgIGluZGV4LFxuICAgICAgaW52ZXJzaW9uU3R5bGUsXG4gICAgICBwYXJlbnRQcm9wcyxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7cmVuZGVySXRlbSwgZ2V0SXRlbUxheW91dH0gPSBwYXJlbnRQcm9wcztcbiAgICBpbnZhcmlhbnQocmVuZGVySXRlbSwgJ25vIHJlbmRlckl0ZW0hJyk7XG4gICAgY29uc3QgZWxlbWVudCA9IHJlbmRlckl0ZW0oe1xuICAgICAgaXRlbSxcbiAgICAgIGluZGV4LFxuICAgICAgc2VwYXJhdG9yczogdGhpcy5fc2VwYXJhdG9ycyxcbiAgICB9KTtcbiAgICBjb25zdCBvbkxheW91dCA9XG4gICAgICAvKiAkRmxvd0ZpeE1lKD49MC42OC4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3NlcyBhblxuICAgICAgICogZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjY4IHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZSBlcnJvciBkZWxldGUgdGhpc1xuICAgICAgICogY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgICBnZXRJdGVtTGF5b3V0ICYmICFwYXJlbnRQcm9wcy5kZWJ1ZyAmJiAhZmlsbFJhdGVIZWxwZXIuZW5hYmxlZCgpXG4gICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgIDogdGhpcy5wcm9wcy5vbkxheW91dDtcbiAgICAvLyBOT1RFOiB0aGF0IHdoZW4gdGhpcyBpcyBhIHN0aWNreSBoZWFkZXIsIGBvbkxheW91dGAgd2lsbCBnZXQgYXV0b21hdGljYWxseSBleHRyYWN0ZWQgYW5kXG4gICAgLy8gY2FsbGVkIGV4cGxpY2l0bHkgYnkgYFNjcm9sbFZpZXdTdGlja3lIZWFkZXJgLlxuICAgIGNvbnN0IGl0ZW1TZXBhcmF0b3IgPSBJdGVtU2VwYXJhdG9yQ29tcG9uZW50ICYmIChcbiAgICAgIDxJdGVtU2VwYXJhdG9yQ29tcG9uZW50IHsuLi50aGlzLnN0YXRlLnNlcGFyYXRvclByb3BzfSAvPlxuICAgICk7XG4gICAgY29uc3QgY2VsbFN0eWxlID0gaW52ZXJzaW9uU3R5bGVcbiAgICAgID8gaG9yaXpvbnRhbFxuICAgICAgICA/IFt7ZmxleERpcmVjdGlvbjogJ3Jvdy1yZXZlcnNlJ30sIGludmVyc2lvblN0eWxlXVxuICAgICAgICA6IFt7ZmxleERpcmVjdGlvbjogJ2NvbHVtbi1yZXZlcnNlJ30sIGludmVyc2lvblN0eWxlXVxuICAgICAgOiBob3Jpem9udGFsXG4gICAgICAgID8gW3tmbGV4RGlyZWN0aW9uOiAncm93J30sIGludmVyc2lvblN0eWxlXVxuICAgICAgICA6IGludmVyc2lvblN0eWxlO1xuICAgIGlmICghQ2VsbFJlbmRlcmVyQ29tcG9uZW50KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8VmlldyBzdHlsZT17Y2VsbFN0eWxlfSBvbkxheW91dD17b25MYXlvdXR9PlxuICAgICAgICAgIHtlbGVtZW50fVxuICAgICAgICAgIHtpdGVtU2VwYXJhdG9yfVxuICAgICAgICA8L1ZpZXc+XG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgPENlbGxSZW5kZXJlckNvbXBvbmVudFxuICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgc3R5bGU9e2NlbGxTdHlsZX1cbiAgICAgICAgb25MYXlvdXQ9e29uTGF5b3V0fT5cbiAgICAgICAge2VsZW1lbnR9XG4gICAgICAgIHtpdGVtU2VwYXJhdG9yfVxuICAgICAgPC9DZWxsUmVuZGVyZXJDb21wb25lbnQ+XG4gICAgKTtcbiAgfVxufVxuXG5jbGFzcyBWaXJ0dWFsaXplZENlbGxXcmFwcGVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PHtcbiAgY2VsbEtleTogc3RyaW5nLFxuICBjaGlsZHJlbjogUmVhY3QuTm9kZSxcbn0+IHtcbiAgc3RhdGljIGNoaWxkQ29udGV4dFR5cGVzID0ge1xuICAgIHZpcnR1YWxpemVkQ2VsbDogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIGNlbGxLZXk6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgfSksXG4gIH07XG5cbiAgZ2V0Q2hpbGRDb250ZXh0KCkge1xuICAgIHJldHVybiB7XG4gICAgICB2aXJ0dWFsaXplZENlbGw6IHtcbiAgICAgICAgY2VsbEtleTogdGhpcy5wcm9wcy5jZWxsS2V5LFxuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICB9XG59XG5cbmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgdmVydGljYWxseUludmVydGVkOiB7XG4gICAgdHJhbnNmb3JtOiBbe3NjYWxlWTogLTF9XSxcbiAgfSxcbiAgaG9yaXpvbnRhbGx5SW52ZXJ0ZWQ6IHtcbiAgICB0cmFuc2Zvcm06IFt7c2NhbGVYOiAtMX1dLFxuICB9LFxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gVmlydHVhbGl6ZWRMaXN0O1xuIl19