23954f1f44c4320d394e742855dffb3b









'use strict';var _extends = Object.assign || function (target) {for (var i = 1; i < arguments.length; i++) {var source = arguments[i];for (var key in source) {if (Object.prototype.hasOwnProperty.call(source, key)) {target[key] = source[key];}}}return target;};

var ImageProps = require('ImageProps');
var NativeModules = require('NativeModules');
var React = require('React');
var ReactNative = require('ReactNative');
var StyleSheet = require('StyleSheet');

var flattenStyle = require('flattenStyle');
var requireNativeComponent = require('requireNativeComponent');
var resolveAssetSource = require('resolveAssetSource');

var ImageViewManager = NativeModules.ImageViewManager;

var RCTImageView = requireNativeComponent('RCTImageView');



function getSize(
uri,
success,
failure)
{
  ImageViewManager.getSize(
  uri,
  success,
  failure ||
  function () {
    console.warn('Failed to get size for image: ' + uri);
  });

}

function prefetch(url) {
  return ImageViewManager.prefetchImage(url);
}

















var Image = function Image(
props,
forwardedRef)
{
  var source = resolveAssetSource(props.source) || {
    uri: undefined,
    width: undefined,
    height: undefined };


  var sources = void 0;
  var style = void 0;
  if (Array.isArray(source)) {
    style = flattenStyle([styles.base, props.style]) || {};
    sources = source;
  } else {var
    _width = source.width,_height = source.height,uri = source.uri;
    style = flattenStyle([{ width: _width, height: _height }, styles.base, props.style]) || {};
    sources = [source];

    if (uri === '') {
      console.warn('source.uri should not be an empty string');
    }
  }

  var resizeMode = props.resizeMode || style.resizeMode || 'cover';
  var tintColor = style.tintColor;

  if (props.src != null) {
    console.warn(
    'The <Image> component requires a `source` property rather than `src`.');

  }

  if (props.children != null) {
    throw new Error(
    'The <Image> component cannot contain children. If you want to render content on top of the image, consider using the <ImageBackground> component or absolute positioning.');

  }

  return (
    React.createElement(RCTImageView, _extends({},
    props, {
      ref: forwardedRef,
      style: style,
      resizeMode: resizeMode,
      tintColor: tintColor,
      source: sources })));


};


Image = React.forwardRef(Image);






Image.getSize = getSize;







Image.prefetch = prefetch;






Image.resolveAssetSource = resolveAssetSource;

Image.propTypes = ImageProps;

var styles = StyleSheet.create({
  base: {
    overflow: 'hidden' } });



module.exports = Image;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkltYWdlLmlvcy5qcyJdLCJuYW1lcyI6WyJJbWFnZVByb3BzIiwicmVxdWlyZSIsIk5hdGl2ZU1vZHVsZXMiLCJSZWFjdCIsIlJlYWN0TmF0aXZlIiwiU3R5bGVTaGVldCIsImZsYXR0ZW5TdHlsZSIsInJlcXVpcmVOYXRpdmVDb21wb25lbnQiLCJyZXNvbHZlQXNzZXRTb3VyY2UiLCJJbWFnZVZpZXdNYW5hZ2VyIiwiUkNUSW1hZ2VWaWV3IiwiZ2V0U2l6ZSIsInVyaSIsInN1Y2Nlc3MiLCJmYWlsdXJlIiwiY29uc29sZSIsIndhcm4iLCJwcmVmZXRjaCIsInVybCIsInByZWZldGNoSW1hZ2UiLCJJbWFnZSIsInByb3BzIiwiZm9yd2FyZGVkUmVmIiwic291cmNlIiwidW5kZWZpbmVkIiwid2lkdGgiLCJoZWlnaHQiLCJzb3VyY2VzIiwic3R5bGUiLCJBcnJheSIsImlzQXJyYXkiLCJzdHlsZXMiLCJiYXNlIiwicmVzaXplTW9kZSIsInRpbnRDb2xvciIsInNyYyIsImNoaWxkcmVuIiwiRXJyb3IiLCJmb3J3YXJkUmVmIiwicHJvcFR5cGVzIiwiY3JlYXRlIiwib3ZlcmZsb3ciLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFTQSxhOztBQUVBLElBQU1BLGFBQWFDLFFBQVEsWUFBUixDQUFuQjtBQUNBLElBQU1DLGdCQUFnQkQsUUFBUSxlQUFSLENBQXRCO0FBQ0EsSUFBTUUsUUFBUUYsUUFBUSxPQUFSLENBQWQ7QUFDQSxJQUFNRyxjQUFjSCxRQUFRLGFBQVIsQ0FBcEI7QUFDQSxJQUFNSSxhQUFhSixRQUFRLFlBQVIsQ0FBbkI7O0FBRUEsSUFBTUssZUFBZUwsUUFBUSxjQUFSLENBQXJCO0FBQ0EsSUFBTU0seUJBQXlCTixRQUFRLHdCQUFSLENBQS9CO0FBQ0EsSUFBTU8scUJBQXFCUCxRQUFRLG9CQUFSLENBQTNCOztBQUVBLElBQU1RLG1CQUFtQlAsY0FBY08sZ0JBQXZDOztBQUVBLElBQU1DLGVBQWVILHVCQUF1QixjQUF2QixDQUFyQjs7OztBQUlBLFNBQVNJLE9BQVQ7QUFDRUMsR0FERjtBQUVFQyxPQUZGO0FBR0VDLE9BSEY7QUFJRTtBQUNBTCxtQkFBaUJFLE9BQWpCO0FBQ0VDLEtBREY7QUFFRUMsU0FGRjtBQUdFQztBQUNFLGNBQVc7QUFDVEMsWUFBUUMsSUFBUixDQUFhLG1DQUFtQ0osR0FBaEQ7QUFDRCxHQU5MOztBQVFEOztBQUVELFNBQVNLLFFBQVQsQ0FBa0JDLEdBQWxCLEVBQStCO0FBQzdCLFNBQU9ULGlCQUFpQlUsYUFBakIsQ0FBK0JELEdBQS9CLENBQVA7QUFDRDs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBa0JELElBQUlFLFFBQVE7QUFDVkMsS0FEVTtBQUVWQyxZQUZVO0FBR1A7QUFDSCxNQUFNQyxTQUFTZixtQkFBbUJhLE1BQU1FLE1BQXpCLEtBQW9DO0FBQ2pEWCxTQUFLWSxTQUQ0QztBQUVqREMsV0FBT0QsU0FGMEM7QUFHakRFLFlBQVFGLFNBSHlDLEVBQW5EOzs7QUFNQSxNQUFJRyxnQkFBSjtBQUNBLE1BQUlDLGNBQUo7QUFDQSxNQUFJQyxNQUFNQyxPQUFOLENBQWNQLE1BQWQsQ0FBSixFQUEyQjtBQUN6QkssWUFBUXRCLGFBQWEsQ0FBQ3lCLE9BQU9DLElBQVIsRUFBY1gsTUFBTU8sS0FBcEIsQ0FBYixLQUE0QyxFQUFwRDtBQUNBRCxjQUFVSixNQUFWO0FBQ0QsR0FIRCxNQUdPO0FBQ0VFLFVBREYsR0FDd0JGLE1BRHhCLENBQ0VFLEtBREYsQ0FDU0MsT0FEVCxHQUN3QkgsTUFEeEIsQ0FDU0csTUFEVCxDQUNpQmQsR0FEakIsR0FDd0JXLE1BRHhCLENBQ2lCWCxHQURqQjtBQUVMZ0IsWUFBUXRCLGFBQWEsQ0FBQyxFQUFDbUIsYUFBRCxFQUFRQyxlQUFSLEVBQUQsRUFBa0JLLE9BQU9DLElBQXpCLEVBQStCWCxNQUFNTyxLQUFyQyxDQUFiLEtBQTZELEVBQXJFO0FBQ0FELGNBQVUsQ0FBQ0osTUFBRCxDQUFWOztBQUVBLFFBQUlYLFFBQVEsRUFBWixFQUFnQjtBQUNkRyxjQUFRQyxJQUFSLENBQWEsMENBQWI7QUFDRDtBQUNGOztBQUVELE1BQU1pQixhQUFhWixNQUFNWSxVQUFOLElBQW9CTCxNQUFNSyxVQUExQixJQUF3QyxPQUEzRDtBQUNBLE1BQU1DLFlBQVlOLE1BQU1NLFNBQXhCOztBQUVBLE1BQUliLE1BQU1jLEdBQU4sSUFBYSxJQUFqQixFQUF1QjtBQUNyQnBCLFlBQVFDLElBQVI7QUFDRSwyRUFERjs7QUFHRDs7QUFFRCxNQUFJSyxNQUFNZSxRQUFOLElBQWtCLElBQXRCLEVBQTRCO0FBQzFCLFVBQU0sSUFBSUMsS0FBSjtBQUNKLCtLQURJLENBQU47O0FBR0Q7O0FBRUQ7QUFDRSx3QkFBQyxZQUFEO0FBQ01oQixTQUROO0FBRUUsV0FBS0MsWUFGUDtBQUdFLGFBQU9NLEtBSFQ7QUFJRSxrQkFBWUssVUFKZDtBQUtFLGlCQUFXQyxTQUxiO0FBTUUsY0FBUVAsT0FOVixJQURGOzs7QUFVRCxDQWxERDs7O0FBcURBUCxRQUFRakIsTUFBTW1DLFVBQU4sQ0FBaUJsQixLQUFqQixDQUFSOzs7Ozs7O0FBT0FBLE1BQU1ULE9BQU4sR0FBZ0JBLE9BQWhCOzs7Ozs7OztBQVFBUyxNQUFNSCxRQUFOLEdBQWlCQSxRQUFqQjs7Ozs7OztBQU9BRyxNQUFNWixrQkFBTixHQUEyQkEsa0JBQTNCOztBQUVBWSxNQUFNbUIsU0FBTixHQUFrQnZDLFVBQWxCOztBQUVBLElBQU0rQixTQUFTMUIsV0FBV21DLE1BQVgsQ0FBa0I7QUFDL0JSLFFBQU07QUFDSlMsY0FBVSxRQUROLEVBRHlCLEVBQWxCLENBQWY7Ozs7QUFNQUMsT0FBT0MsT0FBUCxHQUFrQnZCLEtBQWxCIiwiZmlsZSI6IkltYWdlLmlvcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZsb3dcbiAqIEBmb3JtYXRcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBJbWFnZVByb3BzID0gcmVxdWlyZSgnSW1hZ2VQcm9wcycpO1xuY29uc3QgTmF0aXZlTW9kdWxlcyA9IHJlcXVpcmUoJ05hdGl2ZU1vZHVsZXMnKTtcbmNvbnN0IFJlYWN0ID0gcmVxdWlyZSgnUmVhY3QnKTtcbmNvbnN0IFJlYWN0TmF0aXZlID0gcmVxdWlyZSgnUmVhY3ROYXRpdmUnKTtcbmNvbnN0IFN0eWxlU2hlZXQgPSByZXF1aXJlKCdTdHlsZVNoZWV0Jyk7XG5cbmNvbnN0IGZsYXR0ZW5TdHlsZSA9IHJlcXVpcmUoJ2ZsYXR0ZW5TdHlsZScpO1xuY29uc3QgcmVxdWlyZU5hdGl2ZUNvbXBvbmVudCA9IHJlcXVpcmUoJ3JlcXVpcmVOYXRpdmVDb21wb25lbnQnKTtcbmNvbnN0IHJlc29sdmVBc3NldFNvdXJjZSA9IHJlcXVpcmUoJ3Jlc29sdmVBc3NldFNvdXJjZScpO1xuXG5jb25zdCBJbWFnZVZpZXdNYW5hZ2VyID0gTmF0aXZlTW9kdWxlcy5JbWFnZVZpZXdNYW5hZ2VyO1xuXG5jb25zdCBSQ1RJbWFnZVZpZXcgPSByZXF1aXJlTmF0aXZlQ29tcG9uZW50KCdSQ1RJbWFnZVZpZXcnKTtcblxuaW1wb3J0IHR5cGUge0ltYWdlUHJvcHMgYXMgSW1hZ2VQcm9wc1R5cGV9IGZyb20gJ0ltYWdlUHJvcHMnO1xuXG5mdW5jdGlvbiBnZXRTaXplKFxuICB1cmk6IHN0cmluZyxcbiAgc3VjY2VzczogKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSA9PiB2b2lkLFxuICBmYWlsdXJlPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4pIHtcbiAgSW1hZ2VWaWV3TWFuYWdlci5nZXRTaXplKFxuICAgIHVyaSxcbiAgICBzdWNjZXNzLFxuICAgIGZhaWx1cmUgfHxcbiAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBnZXQgc2l6ZSBmb3IgaW1hZ2U6ICcgKyB1cmkpO1xuICAgICAgfSxcbiAgKTtcbn1cblxuZnVuY3Rpb24gcHJlZmV0Y2godXJsOiBzdHJpbmcpIHtcbiAgcmV0dXJuIEltYWdlVmlld01hbmFnZXIucHJlZmV0Y2hJbWFnZSh1cmwpO1xufVxuXG5kZWNsYXJlIGNsYXNzIEltYWdlQ29tcG9uZW50VHlwZSBleHRlbmRzIFJlYWN0TmF0aXZlLk5hdGl2ZUNvbXBvbmVudDxcbiAgSW1hZ2VQcm9wc1R5cGUsXG4+IHtcbiAgc3RhdGljIGdldFNpemU6IHR5cGVvZiBnZXRTaXplO1xuICBzdGF0aWMgcHJlZmV0Y2g6IHR5cGVvZiBwcmVmZXRjaDtcbiAgc3RhdGljIHJlc29sdmVBc3NldFNvdXJjZTogdHlwZW9mIHJlc29sdmVBc3NldFNvdXJjZTtcbiAgc3RhdGljIHByb3BUeXBlczogdHlwZW9mIEltYWdlUHJvcHM7XG59XG5cbi8qKlxuICogQSBSZWFjdCBjb21wb25lbnQgZm9yIGRpc3BsYXlpbmcgZGlmZmVyZW50IHR5cGVzIG9mIGltYWdlcyxcbiAqIGluY2x1ZGluZyBuZXR3b3JrIGltYWdlcywgc3RhdGljIHJlc291cmNlcywgdGVtcG9yYXJ5IGxvY2FsIGltYWdlcywgYW5kXG4gKiBpbWFnZXMgZnJvbSBsb2NhbCBkaXNrLCBzdWNoIGFzIHRoZSBjYW1lcmEgcm9sbC5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QtbmF0aXZlL2RvY3MvaW1hZ2UuaHRtbFxuICovXG5sZXQgSW1hZ2UgPSAoXG4gIHByb3BzOiBJbWFnZVByb3BzVHlwZSxcbiAgZm9yd2FyZGVkUmVmOiA/UmVhY3QuUmVmPCdSQ1RJbWFnZVZpZXcnPixcbikgPT4ge1xuICBjb25zdCBzb3VyY2UgPSByZXNvbHZlQXNzZXRTb3VyY2UocHJvcHMuc291cmNlKSB8fCB7XG4gICAgdXJpOiB1bmRlZmluZWQsXG4gICAgd2lkdGg6IHVuZGVmaW5lZCxcbiAgICBoZWlnaHQ6IHVuZGVmaW5lZCxcbiAgfTtcblxuICBsZXQgc291cmNlcztcbiAgbGV0IHN0eWxlO1xuICBpZiAoQXJyYXkuaXNBcnJheShzb3VyY2UpKSB7XG4gICAgc3R5bGUgPSBmbGF0dGVuU3R5bGUoW3N0eWxlcy5iYXNlLCBwcm9wcy5zdHlsZV0pIHx8IHt9O1xuICAgIHNvdXJjZXMgPSBzb3VyY2U7XG4gIH0gZWxzZSB7XG4gICAgY29uc3Qge3dpZHRoLCBoZWlnaHQsIHVyaX0gPSBzb3VyY2U7XG4gICAgc3R5bGUgPSBmbGF0dGVuU3R5bGUoW3t3aWR0aCwgaGVpZ2h0fSwgc3R5bGVzLmJhc2UsIHByb3BzLnN0eWxlXSkgfHwge307XG4gICAgc291cmNlcyA9IFtzb3VyY2VdO1xuXG4gICAgaWYgKHVyaSA9PT0gJycpIHtcbiAgICAgIGNvbnNvbGUud2Fybignc291cmNlLnVyaSBzaG91bGQgbm90IGJlIGFuIGVtcHR5IHN0cmluZycpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHJlc2l6ZU1vZGUgPSBwcm9wcy5yZXNpemVNb2RlIHx8IHN0eWxlLnJlc2l6ZU1vZGUgfHwgJ2NvdmVyJztcbiAgY29uc3QgdGludENvbG9yID0gc3R5bGUudGludENvbG9yO1xuXG4gIGlmIChwcm9wcy5zcmMgIT0gbnVsbCkge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgICdUaGUgPEltYWdlPiBjb21wb25lbnQgcmVxdWlyZXMgYSBgc291cmNlYCBwcm9wZXJ0eSByYXRoZXIgdGhhbiBgc3JjYC4nLFxuICAgICk7XG4gIH1cblxuICBpZiAocHJvcHMuY2hpbGRyZW4gIT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdUaGUgPEltYWdlPiBjb21wb25lbnQgY2Fubm90IGNvbnRhaW4gY2hpbGRyZW4uIElmIHlvdSB3YW50IHRvIHJlbmRlciBjb250ZW50IG9uIHRvcCBvZiB0aGUgaW1hZ2UsIGNvbnNpZGVyIHVzaW5nIHRoZSA8SW1hZ2VCYWNrZ3JvdW5kPiBjb21wb25lbnQgb3IgYWJzb2x1dGUgcG9zaXRpb25pbmcuJyxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8UkNUSW1hZ2VWaWV3XG4gICAgICB7Li4ucHJvcHN9XG4gICAgICByZWY9e2ZvcndhcmRlZFJlZn1cbiAgICAgIHN0eWxlPXtzdHlsZX1cbiAgICAgIHJlc2l6ZU1vZGU9e3Jlc2l6ZU1vZGV9XG4gICAgICB0aW50Q29sb3I9e3RpbnRDb2xvcn1cbiAgICAgIHNvdXJjZT17c291cmNlc31cbiAgICAvPlxuICApO1xufTtcblxuLy8gJEZsb3dGaXhNZSAtIFRPRE8gVDI5MTU2NzIxIGBSZWFjdC5mb3J3YXJkUmVmYCBpcyBub3QgZGVmaW5lZCBpbiBGbG93LCB5ZXQuXG5JbWFnZSA9IFJlYWN0LmZvcndhcmRSZWYoSW1hZ2UpO1xuXG4vKipcbiAqIFJldHJpZXZlIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IChpbiBwaXhlbHMpIG9mIGFuIGltYWdlIHByaW9yIHRvIGRpc3BsYXlpbmcgaXQuXG4gKlxuICogU2VlIGh0dHBzOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2ltYWdlLmh0bWwjZ2V0c2l6ZVxuICovXG5JbWFnZS5nZXRTaXplID0gZ2V0U2l6ZTtcblxuLyoqXG4gKiBQcmVmZXRjaGVzIGEgcmVtb3RlIGltYWdlIGZvciBsYXRlciB1c2UgYnkgZG93bmxvYWRpbmcgaXQgdG8gdGhlIGRpc2tcbiAqIGNhY2hlLlxuICpcbiAqIFNlZSBodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9pbWFnZS5odG1sI3ByZWZldGNoXG4gKi9cbkltYWdlLnByZWZldGNoID0gcHJlZmV0Y2g7XG5cbi8qKlxuICogUmVzb2x2ZXMgYW4gYXNzZXQgcmVmZXJlbmNlIGludG8gYW4gb2JqZWN0LlxuICpcbiAqIFNlZSBodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9pbWFnZS5odG1sI3Jlc29sdmVhc3NldHNvdXJjZVxuICovXG5JbWFnZS5yZXNvbHZlQXNzZXRTb3VyY2UgPSByZXNvbHZlQXNzZXRTb3VyY2U7XG5cbkltYWdlLnByb3BUeXBlcyA9IEltYWdlUHJvcHM7XG5cbmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgYmFzZToge1xuICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgfSxcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChJbWFnZTogQ2xhc3M8SW1hZ2VDb21wb25lbnRUeXBlPik7XG4iXX0=